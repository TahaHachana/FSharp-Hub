(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;$.Define($$,{IntelliFactory:{Formlet:{Base:{D:$.Class({Dispose:function(){return null;}},{New:function(){var q;q=$.New(this,{});return q;}}),Form:$.Class({Dispose:function(){return this.Dispose1.call(null,null);}}),Formlet:$.Class({Build:function(){return this.Build1.call(null,null);},MapResult:function(r){var u=this;return $.New(c,{Layout:this.Layout,Build1:function(){var t,v,w,y;t=u.Build1.call(null,null);v=u.Utils.Reactive;(w=t.State,function(x){return v.Select(w,x);})(r);y=t.State;return $.New(d,{Body:t.Body,Dispose1:t.Dispose1,Notify:t.Notify,State:y});},Utils:u.Utils});},get_Layout:function(){return this.Layout;}}),FormletBuilder:$.Class({Bind:function(z,A){var B;B=this.F;return function(C){return B.Bind(z,C);}(A);},Delay:function(D){return this.F.Delay(D);},Return:function(E){return this.F.Return(E);},ReturnFrom:function(F){return F;}},{New:function(G){var H;H=$.New(this,{});H.F=G;return H;}}),FormletProvider:$.Class({AppendLayout:function(I,J){var K,L,N=this;K=this.ApplyLayout(J);L=function(M){return N.WithLayout(I,M);};return L(K);},Apply:function(O,P){var S=this;return this.New(function(){var R,T,U,V,W,X,_0,_1,_2,_5,_7,_8,_9;R=S.BuildForm(O);T=S.BuildForm(P);U=(V=(W=S.U.Reactive,(X=R.Body,function(Y){return W.Select(X,Y);})(function(Z){return $.New(f,{$:1,$0:Z});})),(_0=(_1=S.U.Reactive,(_2=T.Body,function(_3){return _1.Select(_2,_3);})(function(_4){return $.New(f,{$:2,$0:_4});})),(_5=S.U.Reactive,function(_6){return _5.Merge(V,_6);}(_0))));_7=(_8=S.U.Reactive,((_9=T.State,function(_){return function(ba){return _8.CombineLatest(_9,_,ba);};})(R.State))(function(ba){return function(bb){return g.Apply(bb,ba);};}));return $.New(d,{Body:U,Dispose1:function(){T.Dispose1.call(null,null);return R.Dispose1.call(null,null);},Notify:function(bd){T.Notify.call(null,bd);return R.Notify.call(null,bd);},State:_7});});},ApplyLayout:function(be){var bl=this;return this.New(function(){var bg,bh,bi,bj,bk;bg=be.Build();bh=(bi=be.get_Layout().Apply.call(null,bg.Body),bi.$==0?bg.Body:(bj=bi.$0[1],(bk=bi.$0[0],bl.U.Reactive.Return(e.Set(bk)))));return $.New(d,{Body:bh,Dispose1:bg.Dispose1,Notify:bg.Notify,State:bg.State});});},Bind:function(bm,bn){var bo,bp,br=this;bo=(bp=function(bq){return br.Map(bn,bq);},bp(bm));return br.Join(bo);},BindWith:function(bs,bt,bu){var bx=this;return this.New(function(){var bw,by,bz,bA,bB,bC,bF,bG,bH,bI,bJ,bM,bN,bO,bP,bQ,bR,bS,bT,bV,bW;bw=bx.Bind(bt,bu);by=bw.Build();bz=(bA=(bB=bx.U.Reactive,(bC=by.Body,function(bD){return bB.Where(bC,bD);})(function(bE){if(bE.$==1){return true;}else{return false;}})),(bF=bx.U.DefaultLayout.Apply,bF(bA)));bG=(bH=(bI=bx.U.Reactive,(bJ=by.Body,function(bK){return bI.Where(bJ,bK);})(function(bL){if(bL.$==2){return true;}else{return false;}})),(bM=bx.U.DefaultLayout.Apply,bM(bH)));bN=(bO=[bz,bG],bO[0].$==1?bO[1].$==1?(bP=bO[0].$0[0],(bQ=bO[1].$0[0],(bR=(bS=(bs(bP))(bQ),(bT=function(bU){return e.Set(bU);},bT(bS))),(bV=(bW=bx.U.Reactive,function(bX){return bW.Return(bX);}),bV(bR))))):bx.U.Reactive.Never():bx.U.Reactive.Never());return $.New(d,{Body:bN,Dispose1:by.Dispose1,Notify:by.Notify,State:by.State});});},BuildForm:function(bY){var bZ,b0,b1,b2;bZ=bY.Build();b0=bY.get_Layout().Apply.call(null,bZ.Body);if(b0.$==1){b1=b0.$0[1];b2=b0.$0[0];return $.New(d,{Body:this.U.Reactive.Return(e.Set(b2)),Dispose1:function(){bZ.Dispose1.call(null,null);return b1.Dispose();},Notify:bZ.Notify,State:bZ.State});}else{return bZ;}},Delay:function(b4){var b7=this;return $.New(c,{Layout:this.L.Delay(function(){return b4(null).get_Layout();}),Build1:function(){return b7.BuildForm(b4(null));},Utils:b7.U});},Deletable:function(b8){var b9,ca=this;b9=function(b_){var b$;if(b_.$==1){b$=b_.$0;return ca.Return({$:1,$0:b$});}else{return ca.ReturnEmpty({$:0});}};return ca.Replace(b8,b9);},Empty:function(){var cc=this;return this.New(function(){return $.New(d,{Body:cc.U.Reactive.Return(e.Delete()),Dispose1:function(cd){cd;},Notify:function(ce){ce;},State:cc.U.Reactive.Never()});});},EmptyForm:function(){return $.New(d,{Body:this.U.Reactive.Never(),Dispose1:function(cf){cf;},Notify:function(cg){cg;},State:this.U.Reactive.Never()});},Fail:function(ch){return $.New(d,{Body:this.U.Reactive.Never(),Dispose1:function(ci){return ci;},Notify:function(cj){cj;},State:this.U.Reactive.Return($.New(g,{$:1,$0:ch}))});},FailWith:function(ck){var cm=this;return this.New(function(){return cm.Fail(ck);});},FlipBody:function(cn){var co,ct=this,cx,cy;co=this.New(function(){var cq,cr,cs,cu;cq=cn.Build();cr=(cs=ct.U.Reactive,(cu=cq.Body,function(cv){return cs.Select(cu,cv);})(function(cw){return e.FlipEdit(cw);}));return $.New(d,{Body:cr,Dispose1:cq.Dispose1,Notify:cq.Notify,State:cq.State});});cx=(cy=cn.get_Layout(),function(cz){return ct.WithLayout(cy,cz);});return cx(co);},FromState:function(cA){var cC=this;return this.New(function(){return $.New(d,{Body:cC.U.Reactive.Never(),Dispose1:function(cD){cD;},Notify:function(cE){cE;},State:cA});});},InitWith:function(cF,cG){var cH,cM=this,cP,cQ;cH=this.New(function(){var cJ,cK,cL,cN;cJ=cG.Build();cK=(cL=cM.U.Reactive,(cN=cM.U.Reactive.Return($.New(g,{$:0,$0:cF})),function(cO){return cL.Concat(cN,cO);})(cJ.State));return $.New(d,{Body:cJ.Body,Dispose1:cJ.Dispose1,Notify:cJ.Notify,State:cK});});cP=(cQ=cG.get_Layout(),function(cR){return cM.WithLayout(cQ,cR);});return cP(cH);},InitWithFailure:function(cS){var cT,cY=this,c1,c2;cT=this.New(function(){var cV,cW,cX,cZ;cV=cS.Build();cW=(cX=cY.U.Reactive,(cZ=cY.U.Reactive.Return($.New(g,{$:1,$0:$.New(j,{$:0})})),function(c0){return cX.Concat(cZ,c0);})(cV.State));return $.New(d,{Body:cV.Body,Dispose1:cV.Dispose1,Notify:cV.Notify,State:cW});});c1=(c2=cS.get_Layout(),function(c3){return cY.WithLayout(c2,c3);});return c1(cT);},Join:function(c4){var c7=this;return this.New(function(){var c6,c8,c9,c_,c$,de,df,dh,di,dj,dk,dq,dr,du,dv,dw,dx,dB,dC,dF,dH;c6=c7.BuildForm(c4);c8=(c9=(c_=c7.U.Reactive,(c$=c6.State,function(da){return c_.Select(c$,da);})(function(db){var dc,dd;if(db.$==1){dc=db.$0;return c7.Fail(dc);}else{dd=db.$0;return c7.BuildForm(dd);}})),(de=(df=c7.U.Reactive,function(dg){return df.Heat(dg);}),de(c9)));dh=(di=(dj=(dk=c7.U.Reactive,function(dl){return dk.Select(c8,dl);}(function(dm){var dn,_do;dn=c7.U.Reactive.Return(e.Delete());_do=c7.U.Reactive;return function(dp){return _do.Concat(dn,dp);}(dm.Body);})),(dq=c7.U.Reactive,(dr=c7.U.Reactive.Switch(dj),function(ds){return dq.Select(dr,ds);})(function(dt){return $.New(f,{$:2,$0:dt});}))),(du=c7.U.Reactive,(dv=(dw=c7.U.Reactive,(dx=c6.Body,function(dy){return dw.Select(dx,dy);})(function(dz){return $.New(f,{$:1,$0:dz});})),function(dA){return du.Merge(dv,dA);})(di)));dB=c7.U.Reactive.Switch((dC=c7.U.Reactive,function(dD){return dC.Select(c8,dD);}(function(dE){return dE.State;})));dF=function(dG){return c6.Notify.call(null,dG);};dH=function(){return c6.Dispose1.call(null,null);};return $.New(d,{Body:dh,Dispose1:dH,Notify:dF,State:dB});});},LiftResult:function(dJ){return this.MapResult(function(dK){return $.New(g,{$:0,$0:dK});},dJ);},Map:function(dL,dM){return this.MapResult(function(dN){return g.Map(dL,dN);},dM);},MapBody:function(dO,dP){var dQ,dU=this;dQ={Apply:function(dR){var dS,dT,dV,dW,dX,dY;dS=dP.get_Layout().Apply.call(null,dR);if(dS.$==0){dT=dU.U.DefaultLayout.Apply.call(null,dR);if(dT.$==0){return{$:0};}else{dV=dT.$0[1];dW=dT.$0[0];return{$:1,$0:[dO(dW),dV]};}}else{dX=dS.$0[1];dY=dS.$0[0];return{$:1,$0:[dO(dY),dX]};}}};return dU.WithLayout(dQ,dP);},MapResult:function(dZ,d0){var d5=this;return $.New(c,{Layout:d0.get_Layout(),Build1:function(){var d2,d3,d4,d6;d2=d0.Build();d3=(d4=d5.U.Reactive,(d6=d2.State,function(d7){return d4.Select(d6,d7);})(dZ));return $.New(d,{Body:d2.Body,Dispose1:d2.Dispose1,Notify:d2.Notify,State:d3});},Utils:d5.U});},Never:function(){var d9=this;return this.New(function(){return $.New(d,{Body:d9.U.Reactive.Never(),Dispose1:function(d_){d_;},Notify:function(d$){d$;},State:d9.U.Reactive.Never()});});},New:function(ea){return $.New(c,{Layout:this.L.Default(),Build1:ea,Utils:this.U});},Replace:function(eb,ec){var ed,ee,ef,eh=this;ed=(ee=(ef=ec,function(eg){return eh.Map(ef,eg);}),ee(eb));return eh.Switch(ed);},ReplaceFirstWithFailure:function(ei){var ej,ep=this,ev,ew;ej=this.New(function(){var el,em,en,eo,eq,es,et;el=ei.Build();em=(en=(eo=ep.U.Reactive,(eq=el.State,function(er){return eo.Drop(eq,er);})(1)),(es=ep.U.Reactive,(et=ep.U.Reactive.Return($.New(g,{$:1,$0:$.New(j,{$:0})})),function(eu){return es.Concat(et,eu);})(en)));return $.New(d,{Body:el.Body,Dispose1:el.Dispose1,Notify:el.Notify,State:em});});ev=(ew=ei.get_Layout(),function(ex){return ep.WithLayout(ew,ex);});return ev(ej);},Return:function(ey){var eA=this;return this.New(function(){return $.New(d,{Body:eA.U.Reactive.Never(),Dispose1:function(eB){return eB;},Notify:function(eC){eC;},State:eA.U.Reactive.Return($.New(g,{$:0,$0:ey}))});});},ReturnEmpty:function(eD){var eF=this;return this.New(function(){return $.New(d,{Body:eF.U.Reactive.Return(e.Delete()),Dispose1:function(eG){return eG;},Notify:function(eH){eH;},State:eF.U.Reactive.Return($.New(g,{$:0,$0:eD}))});});},SelectMany:function(eI){var eL=this;return this.New(function(){var eK,eM,eN,eO,eP,eV,eW,eY,eZ,e0,e1,e4,e5,e7,fb,fc,fj,fl,fm,fn,fq,fr,fu,fw;eK=eL.BuildForm(eI);eM=(eN=(eO=eL.U.Reactive,(eP=eK.State,function(eQ){return eO.Choose(eP,eQ);})(function(eR){var eS,eT,eU;if(eR.$==1){eS=eR.$0;return{$:0};}else{eT=eR.$0;eU=eL.BuildForm(eT);return{$:1,$0:eU};}})),(eV=(eW=eL.U.Reactive,function(eX){return eW.Heat(eX);}),eV(eN)));eY=(eZ=(e0=eL.U.Reactive,(e1=eK.Body,function(e2){return e0.Select(e1,e2);})(function(e3){return $.New(f,{$:1,$0:e3});})),(e4=(e5={contents:function(e6){return $.New(f,{$:1,$0:e6});}},(e7=function(){var e9,e_;e9=e5.contents;e5.contents=(e_=function(e$){return $.New(f,{$:2,$0:e$});},function(fa){return e_(e9(fa));});},(fb=(fc=eL.U.Reactive,function(fd){return fc.Select(eM,fd);}(function(fe){var ff,fg,fh;e7(null);ff=e5.contents;fg=eL.U.Reactive;return(fh=fe.Body,function(fi){return fg.Select(fh,fi);})(ff);})),eL.U.Reactive.SelectMany(fb)))),(fj=eL.U.Reactive,function(fk){return fj.Merge(eZ,fk);}(e4))));fl=(fm=(fn=eL.U.Reactive,function(fo){return fn.Select(eM,fo);}(function(fp){return fp.State;})),(fq=eL.U.Reactive,(fr=eL.U.Reactive.CollectLatest(fm),function(fs){return fq.Select(fr,fs);})(function(ft){return g.Sequence(ft);})));fu=function(fv){return eK.Notify.call(null,fv);};fw=function(){return eK.Dispose1.call(null,null);};return $.New(d,{Body:eY,Dispose1:fw,Notify:fu,State:fl});});},Sequence:function(fy){var fz,fA,fB,fC,fF;fz=i.ofSeq(fy);if(fz.$==1){fA=fz.$1;fB=fz.$0;fC=this.Return(function(fD){return function(fE){return $.New(j,{$:1,$0:fD,$1:fE});};});fF=this.Sequence(fA);return this.Apply(this.Apply(fC,fB),fF);}else{return this.Return($.New(j,{$:0}));}},Switch:function(fG){var fK=this;return this.New(function(){var fI,fJ,fL,fN,fO,fP,fQ,fR,fX,fY,f0,f1,f2,f4,f7,f8,f$,gb;fI=(fJ=fK.WithLayoutOrDefault(fG),(fL=function(fM){return fK.ApplyLayout(fM);},fL(fJ)));fN=fK.BuildForm(fI);fO=(fP=(fQ=fK.U.Reactive,(fR=fN.State,function(fS){return fQ.Choose(fR,fS);})(function(fT){var fU,fV,fW;if(fT.$==1){fU=fT.$0;return{$:0};}else{fV=fT.$0;fW=fK.BuildForm(fV);return{$:1,$0:fW};}})),(fX=(fY=fK.U.Reactive,function(fZ){return fY.Heat(fZ);}),fX(fP)));f0=(f1=fK.U.Reactive,(f2=fN.Body,function(f3){return f1.Concat(f2,f3);})(fK.U.Reactive.Switch((f4=fK.U.Reactive,function(f5){return f4.Select(fO,f5);}(function(f6){return f6.Body;})))));f7=fK.U.Reactive.Switch((f8=fK.U.Reactive,function(f9){return f8.Select(fO,f9);}(function(f_){return f_.State;})));f$=function(ga){return fN.Notify.call(null,ga);};gb=function(){return fN.Dispose1.call(null,null);};return $.New(d,{Body:f0,Dispose1:gb,Notify:f$,State:f7});});},WithCancelation:function(gd,ge){var gf,gl,gm,gn,go,gp,gq,gt=this;gf=this.Return(function(gg){return function(gh){var gi,gj,gk;gi=[gg,gh];if(gi[1].$==0){return $.New(g,{$:0,$0:{$:0}});}else{if(gi[0].$==1){gj=gi[0].$0;return $.New(g,{$:1,$0:gj});}else{gk=gi[0].$0;return $.New(g,{$:0,$0:{$:1,$0:gk}});}}};});gl=this.LiftResult(gd);gm=this.LiftResult(ge);gn=this.Apply(gf,gl);go=this.Apply(gn,gm);gp=(gq=function(gr){return g.Join(gr);},function(gs){return gt.MapResult(gq,gs);});return gp(go);},WithLayout:function(gu,gv){return $.New(c,{Layout:gu,Build1:function(){return gv.Build();},Utils:this.U});},WithLayoutOrDefault:function(gx){return this.MapBody(function(gy){return gy;},gx);},WithNotification:function(gz,gA){var gB,gE=this,gH,gI;gB=this.New(function(){var gD,gF;gD=gE.BuildForm(gA);gF=function(gG){gD.Notify.call(null,gG);return gz(gG);};return $.New(d,{Body:gD.Body,Dispose1:gD.Dispose1,Notify:gF,State:gD.State});});gH=(gI=gA.get_Layout(),function(gJ){return gE.WithLayout(gI,gJ);});return gH(gB);},WithNotificationChannel:function(gK){var gL,gQ=this,gX,gY;gL=this.New(function(){var gN,gO,gP,gR,gT,gW;gN=gK.Build();gO=(gP=gQ.U.Reactive,(gR=gN.State,function(gS){return gP.Select(gR,gS);})((gT=function(gU){return[gU,gN.Notify];},function(gV){return g.Map(gT,gV);})));gW=gN.Notify;return $.New(d,{Body:gN.Body,Dispose1:gN.Dispose1,Notify:gW,State:gO});});gX=(gY=gK.get_Layout(),function(gZ){return gQ.WithLayout(gY,gZ);});return gX(gL);}},{New:function(g0){var g1;g1=$.New(this,{});g1.U=g0;g1.L=k.New({Reactive:g1.U.Reactive});return g1;}}),LayoutUtils:$.Class({Default:function(){return{Apply:function(){return{$:0};}};},Delay:function(g3){return{Apply:function(g4){return g3(null).Apply.call(null,g4);}};},New:function(g5){return{Apply:function(g6){var g7,g8,g9;g7=g5(null);g8={contents:$.New(l,{$:0})};g9=m.subscribeTo(g6,function(g_){var g$,ha,hb,hc,hd;g$=e.ReplacedTree(g_,g8.contents);g8.contents=e.Apply(g_,g8.contents);ha=e.Range(g_,g8.contents);hb=ha[0];g7.Remove.call(null,g$.get_Sequence());hc=(hd=function(he){return function(hf){return(g7.Insert.call(null,hb+he))(hf);};},function(hg){return n.iteri(hd,hg);});return hc(g_);});return{$:1,$0:[g7.Body,g9]};}};}},{New:function(){var hi;hi=$.New(this,{});return hi;}}),Result:$.Class({},{Apply:function(hj,hk){var hl,hm,hn,ho,hp,hq,hr;hl=[hj,hk];if(hl[0].$==1){if(hl[1].$==1){hm=hl[0].$0;hn=hl[1].$0;return $.New(g,{$:1,$0:i.append(hm,hn)});}else{ho=hl[0].$0;return $.New(g,{$:1,$0:ho});}}else{if(hl[1].$==1){hl[0].$0;hp=hl[1].$0;return $.New(g,{$:1,$0:hp});}else{hq=hl[0].$0;hr=hl[1].$0;return $.New(g,{$:0,$0:hq(hr)});}}},Join:function(hs){var ht,hu;if(hs.$==1){ht=hs.$0;return $.New(g,{$:1,$0:ht});}else{hu=hs.$0;return hu;}},Map:function(hv,hw){var hx,hy;if(hw.$==1){hx=hw.$0;return $.New(g,{$:1,$0:hx});}else{hy=hw.$0;return $.New(g,{$:0,$0:hv(hy)});}},OfOption:function(hz){var hA;if(hz.$==0){return $.New(g,{$:1,$0:$.New(j,{$:0})});}else{hA=hz.$0;return $.New(g,{$:0,$0:hA});}},Sequence:function(hB){return n.fold(function(hC){return function(hD){var hE,hF,hG,hH,hI,hJ,hK;if(hC.$==1){hE=hC.$0;if(hD.$==1){hF=hD.$0;return $.New(g,{$:1,$0:i.append(hE,hF)});}else{hG=hD.$0;return $.New(g,{$:1,$0:hE});}}else{hH=hC.$0;if(hD.$==1){hI=hD.$0;return $.New(g,{$:1,$0:hI});}else{hJ=hD.$0;return $.New(g,{$:0,$0:(hK=i.ofArray([hJ]),i.append(hH,hK))});}}};},$.New(g,{$:0,$0:$.New(j,{$:0})}),hB);}}),Tree:{Apply:function(hL,hM){var hN;hN=function(hO,hP){var hQ,hR,hS,hT,hU,hV,hW;if(hO.$==1){hQ=hO.$0;if(hP.$==2){hR=hP.$1;hS=hP.$0;return $.New(l,{$:2,$0:hN(hQ,hS),$1:hR});}else{return hN($.New(f,{$:1,$0:hQ}),$.New(l,{$:2,$0:$.New(l,{$:0}),$1:hP}));}}else{if(hO.$==2){hT=hO.$0;if(hP.$==2){hU=hP.$1;hV=hP.$0;return $.New(l,{$:2,$0:hV,$1:hN(hT,hU)});}else{return hN($.New(f,{$:2,$0:hT}),$.New(l,{$:2,$0:hP,$1:$.New(l,{$:0})}));}}else{hW=hO.$0;return hW;}}};return hN(hL,hM);},Count:function(hX){var hY,hZ;hY=[];hZ=$.New(j,{$:0});hY[3]=hX;hY[2]=hZ;hY[1]=0;hY[0]=1;$.While(function(){return hY[0];},function(){var h0,h1,h2,h3,h4,h5,h6,h7,h8;hY[3].$==2?(h0=hY[3].$1,(h1=hY[3].$0,(h2=$.New(j,{$:1,$0:h0,$1:hY[2]}),(h3=hY[1],(hY[3]=h1,(hY[2]=h2,(hY[1]=h3,hY[0]=1))))))):(h4=hY[3],(h5=h4.$==0?0:1,hY[2].$==1?(h6=hY[2].$1,(h7=hY[2].$0,(h8=hY[1]+h5,(hY[3]=h7,(hY[2]=h6,(hY[1]=h8,hY[0]=1)))))):(hY[0]=0,hY[1]=hY[1]+h5)));});return hY[1];},DeepFlipEdit:function(h9){var h_,h$,ia;if(h9.$==1){h_=h9.$0;return $.New(f,{$:2,$0:e.DeepFlipEdit(h_)});}else{if(h9.$==2){h$=h9.$0;return $.New(f,{$:1,$0:e.DeepFlipEdit(h$)});}else{ia=h9.$0;return $.New(f,{$:0,$0:ia});}}},Delete:function(){return $.New(f,{$:0,$0:$.New(l,{$:0})});},Edit:$.Class({GetEnumerator:function(){return o.Get(this.get_Sequence());},GetEnumerator1:function(){return o.Get(this.get_Sequence());},get_Sequence:function(){var ib,ic,id;if(this.$==1){ib=this.$0;return ib.get_Sequence();}else{if(this.$==2){ic=this.$0;return ic.get_Sequence();}else{id=this.$0;return id.get_Sequence();}}}}),FlipEdit:function(ie){var _if,ig,ih;if(ie.$==1){_if=ie.$0;return $.New(f,{$:2,$0:_if});}else{if(ie.$==2){ig=ie.$0;return $.New(f,{$:1,$0:ig});}else{ih=ie.$0;return $.New(f,{$:0,$0:ih});}}},FromSequence:function(ii){var ij,ik,il;ij=$.New(l,{$:0});ik=(il=function(im){return function(_in){return $.New(l,{$:2,$0:im,$1:$.New(l,{$:1,$0:_in})});};},function(io){return function(ip){return n.fold(il,io,ip);};});return(ik(ij))(ii);},Range:function(iq,ir){var is;is=[];is[3]=0;is[2]=ir;is[1]=iq;is[0]=1;$.While(function(){return is[0];},function(){var it,iu,iv,iw,ix,iy,iz,iA,iB,iC,iD,iE;is[1].$==1?(it=is[1].$0,is[2].$==2?(is[2].$1,(iu=is[2].$0,(iv=is[3],(is[3]=iv,(is[2]=iu,(is[1]=it,is[0]=1)))))):(iw=is[3],(ix=$.New(l,{$:0}),(is[3]=iw,(is[2]=ix,(is[1]=it,is[0]=1)))))):is[1].$==2?(iy=is[1].$0,is[2].$==2?(iz=is[2].$1,(iA=is[2].$0,(iB=is[3]+e.Count(iA),(is[3]=iB,(is[2]=iz,(is[1]=iy,is[0]=1)))))):(iC=is[2],(iD=is[3]+e.Count(iC),(iE=$.New(l,{$:0}),(is[3]=iD,(is[2]=iE,(is[1]=iy,is[0]=1))))))):(is[1].$0,(is[0]=0,is[1]=[is[3],e.Count(is[2])]));});return is[1];},ReplacedTree:function(iF,iG){var iH,iI,iJ,iK;if(iF.$==1){iH=iF.$0;if(iG.$==2){iG.$1;iI=iG.$0;return e.ReplacedTree(iH,iI);}else{return e.ReplacedTree($.New(f,{$:1,$0:iH}),$.New(l,{$:2,$0:$.New(l,{$:0}),$1:iG}));}}else{if(iF.$==2){iJ=iF.$0;if(iG.$==2){iK=iG.$1;iG.$0;return e.ReplacedTree(iJ,iK);}else{return e.ReplacedTree($.New(f,{$:2,$0:iJ}),$.New(l,{$:2,$0:iG,$1:$.New(l,{$:0})}));}}else{iF.$0;return iG;}}},Set:function(iL){return $.New(f,{$:0,$0:$.New(l,{$:1,$0:iL})});},ShowEdit:function(iM){var iN;iN=function(iO){var iP,iQ;if(iO.$==1){iP=iO.$0;return"Left > "+iN(iP);}else{if(iO.$==2){iQ=iO.$0;return"Right > "+iN(iQ);}else{return"Replace";}}};return iN(iM);},Transform:function(iR,iS){var iT,iU,iV,iW,iX;if(iS.$==1){iT=iS.$0;iU=e.Transform(iR,iT);return $.New(f,{$:1,$0:iU});}else{if(iS.$==2){iV=iS.$0;iW=e.Transform(iR,iV);return $.New(f,{$:2,$0:iW});}else{iX=iS.$0;return $.New(f,{$:0,$0:iR(iX)});}}},Tree:$.Class({GetEnumerator:function(){return o.Get(this.get_Sequence());},GetEnumerator1:function(){return o.Get(this.get_Sequence());},Map:function(iY){var iZ,i0,i1;if(this.$==1){iZ=this.$0;return $.New(l,{$:1,$0:iY(iZ)});}else{if(this.$==2){i0=this.$1;i1=this.$0;return $.New(l,{$:2,$0:i1.Map(iY),$1:i0.Map(iY)});}else{return $.New(l,{$:0});}}},get_Sequence:function(){var i2,i3,i4;if(this.$==1){i2=this.$0;return[i2];}else{if(this.$==2){i3=this.$1;i4=this.$0;return n.append(i4.get_Sequence(),i3.get_Sequence());}else{return n.empty();}}}})},Validator:$.Class({Is:function(i5,i6,i7){var i9=this;return function(i8){return i9.Validate(i5,i6,i8);}(i7);},IsEmail:function(i_){var ja=this;return function(i$){return ja.IsRegexMatch("^[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\\.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$",i_,i$);};},IsEqual:function(jb,jc,jd){var jf=this;return function(je){return jf.Validate(function(jg){return p.Equals(jg,jb);},jc,je);}(jd);},IsFloat:function(jh){var jj=this;return function(ji){return jj.IsRegexMatch("^\\s*(\\+|-)?((\\d+(\\.\\d+)?)|(\\.\\d+))\\s*$",jh,ji);};},IsGreaterThan:function(jk,jl,jm){var jo=this;return function(jn){return jo.Validate(function(jp){return p.Compare(jp,jk)===1;},jl,jn);}(jm);},IsInt:function(jq){var js=this;return function(jr){return js.IsRegexMatch("^-?\\d+$",jq,jr);};},IsLessThan:function(jt,ju,jv){var jx=this;return function(jw){return jx.Validate(function(jy){return p.Compare(jy,jt)===-1;},ju,jw);}(jv);},IsNotEmpty:function(jz,jA){var jC=this;return function(jB){return jC.Validate(function(jD){return jD!=="";},jz,jB);}(jA);},IsNotEqual:function(jE,jF,jG){var jI=this;return function(jH){return jI.Validate(function(jJ){return!p.Equals(jJ,jE);},jF,jH);}(jG);},IsRegexMatch:function(jK,jL,jM){var jO=this;return function(jN){return jO.Validate(function(jP){var jQ;jQ=jO.VP;return function(jR){return jQ.Matches(jK,jR);}(jP);},jL,jN);}(jM);},IsTrue:function(jS,jT){var jV=this;return function(jU){return jV.Validate(function(jW){return jW;},jS,jU);}(jT);},Validate:function(jX,jY,jZ){var j0;j0=jZ.MapResult(function(j1){var j2,j3;if(j1.$==1){j2=j1.$0;return $.New(g,{$:1,$0:j2});}else{j3=j1.$0;if(jX(j3)){return $.New(g,{$:0,$0:j3});}else{return $.New(g,{$:1,$0:i.ofArray([jY])});}}});return j0;}},{New:function(j4){var j5;j5=$.New(this,{});j5.VP=j4;return j5;}})}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.Formlet);b=$.Safe(a.Base);c=$.Safe(b.Formlet);d=$.Safe(b.Form);e=$.Safe(b.Tree);f=$.Safe(e.Edit);g=$.Safe(b.Result);h=$.Safe($$.IntelliFactory.WebSharper);i=$.Safe(h.List);j=$.Safe(i.T);k=$.Safe(b.LayoutUtils);l=$.Safe(e.Tree);m=$.Safe(h.Util);n=$.Safe(h.Seq);o=$.Safe(h.Enumerator);return p=$.Safe(h.Unchecked);});$.OnLoad(function(){});}());
