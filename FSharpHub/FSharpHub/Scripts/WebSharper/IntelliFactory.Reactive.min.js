(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;$.Define($$,{IntelliFactory:{Reactive:{Disposable:$.Class({Dispose:function(){return this.Dispose1.call(null,null);}},{New:function(r){return $.New(b,{Dispose1:r});}}),HotStream:$.Class({Subscribe:function(s){var t;if(this.Latest.contents.$==1){s.OnNext(this.Latest.contents.$0);}return(t=this.Event,t.event).Subscribe(s);},Trigger:function(u){var v;this.Latest.contents={$:1,$0:u};v=this.Event;return v.event.Trigger(u);}},{New:function(w){var x;return $.New(c,{Latest:(x={$:1,$0:w},{contents:x}),Event:f.New()});},New1:function(){return $.New(c,{Latest:{contents:{$:0}},Event:f.New()});}}),Observable:$.Class({Subscribe:function(y){return this.OnSubscribe.call(null,y);},SubscribeWith:function(z,A){var B,C;B=g.New(z,A);C=this.OnSubscribe;return C(B);}},{New:function(D){return $.New(h,{OnSubscribe:D});}}),Observer:$.Class({OnCompleted:function(){return this.OnCompleted1.call(null,null);},OnError:function(){return null;},OnNext:function(F){return this.OnNext1.call(null,F);}},{New:function(G,H){return $.New(g,{OnNext1:G,OnCompleted1:H});}}),Reactive:{Aggregate:function(I,J,K){return h.New(function(L){var M;M={contents:J};return i.subscribeTo(I,function(N){M.contents=(K(M.contents))(N);return L.OnNext(M.contents);});});},Choose:function(O,P){return h.New(function(Q){return i.subscribeTo(O,function(R){var S,T;S=P(R);if(S.$==0){return null;}else{T=S.$0;return Q.OnNext(T);}});});},CollectLatest:function(U){return h.New(function(V){var W,X;W=k.New21();X={contents:0};return i.subscribeTo(U,function(Y){var Z,_0;l.Increment(X);Z=X.contents;_0=i.subscribeTo(Y,function(_1){var _2;W.set_Item(Z,_1);_2=m.delay(function(){return m.map(function(_4){return _4.V;},W);});return V.OnNext(_2);});_0;});});},CombineLatest:function(_5,_6,_7){return h.New(function(_8){var _9,_,ba,bf,bg,bi,bk,bl,bn,bp,bq;_9={contents:{$:0}};_={contents:{$:0}};ba=function(){var bc,bd,be;bc=[_9.contents,_.contents];if(bc[0].$==1){if(bc[1].$==1){bd=bc[0].$0;be=bc[1].$0;return _8.OnNext((_7(bd))(be));}else{return null;}}else{return null;}};bf=(bg=function(bh){_9.contents={$:1,$0:bh};return ba(null);},(bi=function(bj){bj;},g.New(bg,bi)));bk=(bl=function(bm){_.contents={$:1,$0:bm};return ba(null);},(bn=function(bo){bo;},g.New(bl,bn)));bp=_5.Subscribe(bf);bq=_6.Subscribe(bk);return b.New(function(){bp.Dispose();return bq.Dispose();});});},Concat:function(br,bs){return h.New(function(bt){var bu,bv,bw,bx,bz,bB;bu={contents:{$:0}};bv=(bw=(bx=function(by){return bt.OnNext(by);},(bz=function(){bu.contents={$:1,$0:bs.Subscribe(bt)};},g.New(bx,bz))),(bB=function(bC){return br.Subscribe(bC);},bB(bw)));return b.New(function(){if(bu.contents.$==1){bu.contents.$0.Dispose();}return bv.Dispose();});});},Default:$.Field(function(){return o.New();}),Drop:function(bE,bF){return h.New(function(bG){var bH;bH={contents:0};return i.subscribeTo(bE,function(bI){l.Increment(bH);if(bH.contents>bF){return bG.OnNext(bI);}else{return null;}});});},Heat:function(bJ){var bK;bK=c.New1();i.subscribeTo(bJ,function(bL){return bK.Trigger(bL);});return bK;},Merge:function(bM,bN){return h.New(function(bO){var bP,bQ,bR,bS,bT,bV,bX,bZ,b0,b1,b3,b5;bP={contents:false};bQ={contents:false};bR=(bS=(bT=function(bU){return bO.OnNext(bU);},(bV=function(){bP.contents=true;if(bP.contents?bQ.contents:false){return bO.OnCompleted();}else{return null;}},g.New(bT,bV))),(bX=function(bY){return bM.Subscribe(bY);},bX(bS)));bZ=(b0=(b1=function(b2){return bO.OnNext(b2);},(b3=function(){bQ.contents=true;if(bP.contents?bQ.contents:false){return bO.OnCompleted();}else{return null;}},g.New(b1,b3))),(b5=function(b6){return bN.Subscribe(b6);},b5(b0)));return b.New(function(){bR.Dispose();return bZ.Dispose();});});},Never:function(){return h.New(function(){return b.New(function(b9){b9;});});},Range:function(b_,b$){return h.New(function(ca){$.For(b_,b_+b$,function(cb){ca.OnNext(cb);});return b.New(function(cc){cc;});});},Reactive:$.Class({Aggregate:function(cd,ce,cf){return n.Aggregate(cd,ce,cf);},Choose:function(cg,ch){return n.Choose(cg,ch);},CollectLatest:function(ci){return n.CollectLatest(ci);},CombineLatest:function(cj,ck,cl){return n.CombineLatest(cj,ck,cl);},Concat:function(cm,cn){return n.Concat(cm,cn);},Drop:function(co,cp){return n.Drop(co,cp);},Heat:function(cq){return n.Heat(cq);},Merge:function(cr,cs){return n.Merge(cr,cs);},Never:function(){return n.Never();},Return:function(ct){return n.Return(ct);},Select:function(cu,cv){return n.Select(cu,cv);},SelectMany:function(cw){return n.SelectMany(cw);},Sequence:function(cx){return n.Sequence(cx);},Switch:function(cy){return n.Switch(cy);},Where:function(cz,cA){return n.Where(cz,cA);}},{New:function(){var cB;cB=$.New(this,{});return cB;}}),Return:function(cC){return h.New(function(cD){cD.OnNext(cC);cD.OnCompleted();return b.New(function(cE){cE;});});},Select:function(cF,cG){return h.New(function(cH){return i.subscribeTo(cF,function(cI){return cH.OnNext(cG(cI));});});},SelectMany:function(cJ){return h.New(function(cK){var cL,cN;cL={contents:function(cM){cM;}};cN=i.subscribeTo(cJ,function(cO){var cP;cP=i.subscribeTo(cO,function(cQ){return cK.OnNext(cQ);});cL.contents=function(){cL.contents.call(null,null);return cP.Dispose();};});return b.New(function(){cL.contents.call(null,null);return cN.Dispose();});});},Sequence:function(cT){var cU;cU=function(cV){var cW,cX,cY;if(cV.$==1){cW=cV.$1;cX=cV.$0;cY=cU(cW);return n.CombineLatest(cX,cY,function(cZ){return function(c0){return $.New(q,{$:1,$0:cZ,$1:c0});};});}else{return n.Return($.New(q,{$:0}));}};return n.Select(cU(p.ofSeq(cT)),function(c1){return c1;});},Switch:function(c2){return h.New(function(c3){var c4,c5,c6;c4=(c5={contents:0},(c6={contents:{$:0}},i.subscribeTo(c2,function(c7){var c8,c9,c_;l.Increment(c5);if(c6.contents.$==1){c6.contents.$0.Dispose();}c8=c5.contents;c9=(c_=i.subscribeTo(c7,function(c$){if(c8===c5.contents){return c3.OnNext(c$);}else{return null;}}),{$:1,$0:c_});c6.contents=c9;})));return c4;});},Where:function(da,db){return h.New(function(dc){return i.subscribeTo(da,function(dd){if(db(dd)){return dc.OnNext(dd);}else{return null;}});});}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.Reactive);b=$.Safe(a.Disposable);c=$.Safe(a.HotStream);d=$.Safe($$.IntelliFactory.WebSharper);e=$.Safe(d.Control);f=$.Safe(e.FSharpEvent);g=$.Safe(a.Observer);h=$.Safe(a.Observable);i=$.Safe(d.Util);j=$.Safe(d.Collections);k=$.Safe(j.Dictionary);l=$.Safe(d.Operators);m=$.Safe(d.Seq);n=$.Safe(a.Reactive);o=$.Safe(n.Reactive);p=$.Safe(d.List);return q=$.Safe(p.T);});$.OnLoad(function(){n.Default();});}());
