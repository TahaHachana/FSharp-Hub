(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;$.Define($$,{IntelliFactory:{WebSharper:{Collections:{BalancedTree:{Add:function(z,A){return c.Put(function(){return function(C){return C;};},z,A);},Branch:function(D,E,F){return{Node:D,Left:E,Right:F,Height:1+d.Max(E==null?0:E.Height,F==null?0:F.Height),Count:1+(E==null?0:E.Count)+(F==null?0:F.Count)};},Build:function(G,H,I){var J,K,L,M;J=I-H+1;if(J<=0){return null;}else{K=(H+I)/2>>0;L=c.Build(G,H,K-1);M=c.Build(G,K+1,I);return c.Branch(G[K],L,M);}},Contains:function(N,O){return!((c.Lookup(N,O))[0]==null);},Enumerate:function(P,Q){var R;R=$.Tupled(function(S){var T,U,V,W,X;T=S[0];U=S[1];if(T==null){if(U.$==1){V=U.$0[0];W=U.$1;X=U.$0[1];return{$:1,$0:[V,[X,W]]};}else{return{$:0};}}else{if(P){return R([T.Right,$.New(f,{$:1,$0:[T.Node,T.Left],$1:U})]);}else{return R([T.Left,$.New(f,{$:1,$0:[T.Node,T.Right],$1:U})]);}}});return g.unfold(R,[Q,$.New(f,{$:0})]);},Lookup:function(Y,Z){var _0,_1,_2;_0=[];_1=Z;_2=true;$.While(function(){return _2;},function(){var _3;_1==null?_2=false:(_3=d.Compare(Y,_1.Node),_3===0?_2=false:_3===1?(_0.unshift([true,_1.Node,_1.Left]),_1=_1.Right):(_0.unshift([false,_1.Node,_1.Right]),_1=_1.Left));});return[_1,_0];},OfSeq:function(_4){var _5;_5=h.sort(g.toArray(g.distinct(_4)));return c.Build(_5,0,_5.length-1);},Put:function(_6,_7,_8){var _9,_,ba;_9=c.Lookup(_7,_8);_=_9[0];ba=_9[1];if(_==null){return c.Rebuild(ba,c.Branch(_7,null,null));}else{return c.Rebuild(ba,c.Branch((_6(_.Node))(_7),_.Left,_.Right));}},Rebuild:function(ba,bb){var bc,be;bc=function(bd){if(bd==null){return 0;}else{return bd.Height;}};be=bb;$.For(0,ba.length-1,function(bf){var bg,bh,bi,bj,bk,bl,bm;be=(bg=ba[bf],bg[0]?(bh=bg[1],(bi=bg[2],bc(be)>bc(bi)+1?bc(be.Left)===bc(be.Right)+1?(bj=be.Left,c.Branch(bj.Node,c.Branch(bh,bi,bj.Left),c.Branch(be.Node,bj.Right,be.Right))):c.Branch(be.Node,c.Branch(bh,bi,be.Left),be.Right):c.Branch(bh,bi,be))):(bk=bg[1],(bl=bg[2],bc(be)>bc(bl)+1?bc(be.Right)===bc(be.Left)+1?(bm=be.Right,c.Branch(bm.Node,c.Branch(be.Node,be.Left,bm.Left),c.Branch(bk,bm.Right,bl))):c.Branch(be.Node,be.Left,c.Branch(bk,be.Right,bl)):c.Branch(bk,be,bl))));});return be;},Remove:function(bn,bo){var bp,bq,br,bs,bt,bu,bv,bw;bp=c.Lookup(bn,bo);bq=bp[0];br=bp[1];if(bq==null){return bo;}else{if(bq.Right==null){return c.Rebuild(br,bq.Left);}else{if(bq.Left==null){return c.Rebuild(br,bq.Right);}else{bs=(bt=(bu=g.append((bv=bq.Left,c.Enumerate(false,bv)),(bw=bq.Right,c.Enumerate(false,bw))),g.toArray(bu)),c.Build(bt,0,bt.length-1));return c.Rebuild(br,bs);}}}},TryFind:function(bx,by){var bz;bz=(c.Lookup(bx,by))[0];if(bz==null){return{$:0};}else{return{$:1,$0:bz.Node};}}},Dictionary:$.Class({Add:function(bA,bB){var bC;bC=this.hash.call(null,bA);if(this.data.hasOwnProperty(bC)){return d.FailWith("An item with the same key has already been added.");}else{this.data[bC]={K:bA,V:bB};this.count=this.count+1;}},Clear:function(){this.data={};this.count=0;},ContainsKey:function(bD){return this.data.hasOwnProperty(this.hash.call(null,bD));},GetEnumerator:function(){var bE,bG;return i.Get((bE=$.Tupled(function(bF){return bF[1];}),(bG=j.GetFields(this.data),bG.map(function(bH){return bE(bH);}))));},Remove:function(bI){var bJ;bJ=this.hash.call(null,bI);if(this.data.hasOwnProperty(bJ)){j.Delete(this.data,bJ);this.count=this.count-1;return true;}else{return false;}},get_Item:function(bK){var bL,bM;bL=this.hash.call(null,bK);if(this.data.hasOwnProperty(bL)){bM=this.data[bL];return bM.V;}else{return k.notPresent();}},set_Item:function(bN,bO){var bP;bP=this.hash.call(null,bN);if(!this.data.hasOwnProperty(bP)){this.count=this.count+1;}this.data[bP]={K:bN,V:bO};}},{New:function(bQ,bR){var bS;bS=$.New(this,l.New11(bQ,function(bT){return function(bU){return bR.Equals(bT,bU);};},function(bV){return bR.GetHashCode(bV);}));return bS;},New1:function(bW,bX){var bY;bY=$.New(this,l.New3(bX));return bY;},New11:function(bZ,b0,b1){var b2,b3;b2=$.New(this,{});b2.hash=b1;b2.count=0;b2.data={};b3=i.Get(bZ);$.While(function(){return b3.MoveNext();},function(){var b4,b5;b4=b3.get_Current(),b2.data[b5=b4.K,b2.hash.call(null,b5)]=b4.V;});return b2;},New12:function(){var b7;b7=$.New(this,l.New21());return b7;},New2:function(b8){var b9;b9=$.New(this,l.New11(b8,function(b_){return function(b$){return m.Equals(b_,b$);};},function(ca){return m.Hash(ca);}));return b9;},New21:function(){var cb;cb=$.New(this,l.New11([],function(cc){return function(cd){return m.Equals(cc,cd);};},function(ce){return m.Hash(ce);}));return cb;},New3:function(cf){var cg;cg=$.New(this,l.New11([],function(ch){return function(ci){return cf.Equals(ch,ci);};},function(cj){return cf.GetHashCode(cj);}));return cg;}}),DictionaryUtil:{notPresent:function(){return d.FailWith("The given key was not present in the dictionary.");}},FSharpMap:$.Class({Add:function(ck,cl){var cm,cn,co;return n.New1((cm=this.tree,(cn=(co=$.New(o,{Key:ck,Value:cl}),function(cp){return c.Add(co,cp);}),cn(cm))));},CompareTo:function(cq){return g.compareWith(function(cr){return function(cs){return d.Compare(cr,cs);};},this,cq);},ContainsKey:function(ct){var cu,cv,cw;cu=this.tree;cv=(cw=$.New(o,{Key:ct,Value:undefined}),function(cx){return c.Contains(cw,cx);});return cv(cu);},Equals:function(cy){if(this.get_Count()===cy.get_Count()){return g.forall2(function(cz){return function(cA){return m.Equals(cz,cA);};},this,cy);}else{return false;}},GetEnumerator:function(){var cB,cC,cD;return i.Get((cB=(cC=this.tree,c.Enumerate(false,cC)),(cD=function(cE){return g.map(function(cF){return{K:cF.Key,V:cF.Value};},cE);},cD(cB))));},GetHashCode:function(){return m.Hash(g.toArray(this));},Remove:function(cG){var cH,cI,cJ;return n.New1((cH=this.tree,(cI=(cJ=$.New(o,{Key:cG,Value:undefined}),function(cK){return c.Remove(cJ,cK);}),cI(cH))));},TryFind:function(cL){var cM,cN,cO,cP,cR;cM=(cN=this.tree,(cO=(cP=$.New(o,{Key:cL,Value:undefined}),function(cQ){return c.TryFind(cP,cQ);}),cO(cN)));cR=function(cS){return p.map(function(cT){return cT.Value;},cS);};return cR(cM);},get_Count:function(){var cU;cU=this.tree;if(cU==null){return 0;}else{return cU.Count;}},get_IsEmpty:function(){return this.tree==null;},get_Item:function(cV){var cW,cX;cW=this.TryFind(cV);if(cW.$==0){return d.FailWith("The given key was not present in the dictionary.");}else{cX=cW.$0;return cX;}},get_Tree:function(){return this.tree;}},{New:function(cY){var cZ;cZ=$.New(this,n.New1(q.fromSeq(cY)));return cZ;},New1:function(c0){var c1;c1=$.New(this,{});c1.tree=c0;return c1;}}),FSharpSet:$.Class({Add:function(c2){return r.New1(c.Add(c2,this.tree));},CompareTo:function(c3){return g.compareWith(function(c4){return function(c5){return d.Compare(c4,c5);};},this,c3);},Contains:function(c6){return c.Contains(c6,this.tree);},Equals:function(c7){if(this.get_Count()===c7.get_Count()){return g.forall2(function(c8){return function(c9){return m.Equals(c8,c9);};},this,c7);}else{return false;}},GetEnumerator:function(){var c_;return i.Get((c_=this.tree,c.Enumerate(false,c_)));},GetHashCode:function(){return-1741749453+m.Hash(g.toArray(this));},IsProperSubsetOf:function(c$){if(this.IsSubsetOf(c$)){return this.get_Count()<c$.get_Count();}else{return false;}},IsProperSupersetOf:function(da){if(this.IsSupersetOf(da)){return this.get_Count()>da.get_Count();}else{return false;}},IsSubsetOf:function(db){return g.forall(function(dc){return db.Contains(dc);},this);},IsSupersetOf:function(dd){var df=this;return g.forall(function(de){return df.Contains(de);},dd);},Remove:function(dg){return r.New1(c.Remove(dg,this.tree));},add:function(dh){var di,dj;di=g.append(this,dh);dj=c.OfSeq(di);return r.New1(dj);},get_Count:function(){var dk;dk=this.tree;if(dk==null){return 0;}else{return dk.Count;}},get_IsEmpty:function(){return this.tree==null;},get_MaximumElement:function(){var dl;return g.head((dl=this.tree,c.Enumerate(true,dl)));},get_MinimumElement:function(){var dm;return g.head((dm=this.tree,c.Enumerate(false,dm)));},get_Tree:function(){return this.tree;},sub:function(dn){return s.Filter(function(_do){return!dn.Contains(_do);},this);}},{New:function(dp){var dq;dq=$.New(this,r.New1(t.ofSeq(dp)));return dq;},New1:function(dr){var ds;ds=$.New(this,{});ds.tree=dr;return ds;}}),LinkedList:{EnumeratorProxy:$.Class({Dispose:function(){return null;},MoveNext:function(){this.c=this.c.n;return!m.Equals(this.c,null);},get_Current:function(){return this.c.v;}},{New:function(dt){var du;du=$.New(this,{});du.c=dt;return du;}}),ListProxy:$.Class({AddAfter:function(dv,dw){var dx,dy;dx=dv.n;dy={p:dv,n:dx,v:dw};if(m.Equals(dv.n,null)){this.p=dy;}dv.n=dy;dy;if(!m.Equals(dx,null)){dx.p=dy;dy;}this.c=this.c+1;return dy;},AddBefore:function(dz,dA){var dB,dC;dB=dz.p;dC={p:dB,n:dz,v:dA};if(m.Equals(dz.p,null)){this.n=dC;}dz.p=dC;dC;if(!m.Equals(dB,null)){dB.n=dC;dC;}this.c=this.c+1;return dC;},AddFirst:function(dD){var dE;if(this.c===0){dE={p:null,n:null,v:dD};this.n=dE;this.p=this.n;this.c=1;return dE;}else{return this.AddBefore(this.n,dD);}},AddLast:function(dF){var dG;if(this.c===0){dG={p:null,n:null,v:dF};this.n=dG;this.p=this.n;this.c=1;return dG;}else{return this.AddAfter(this.p,dF);}},Clear:function(){this.c=0;this.n=null;this.p=null;},Contains:function(dH){var dI,dJ;dI=false;dJ=this.n;$.While(function(){if(!m.Equals(dJ,null)){return!dI;}else{return false;}},function(){dJ.v==dH?dI=true:dJ=dJ.n;});return dI;},Find:function(dK){var dL;dL=this.n;$.While(function(){if(!m.Equals(dL,null)){return dL.v!=dK;}else{return false;}},function(){dL=dL.n;});if(dL==dK){return dL;}else{return null;}},FindLast:function(dM){var dN;dN=this.p;$.While(function(){if(!m.Equals(dN,null)){return dN.v!=dM;}else{return false;}},function(){dN=dN.p;});if(dN==dM){return dN;}else{return null;}},GetEnumerator:function(){return v.New(this);},Remove:function(dO){var dP,dQ;dP=dO.p;dQ=dO.n;if(m.Equals(dP,null)){this.n=dQ;}else{dP.n=dQ;dQ;}if(m.Equals(dQ,null)){this.p=dP;}else{dQ.p=dP;dP;}this.c=this.c-1;},Remove1:function(dR){var dS;dS=this.Find(dR);if(m.Equals(dS,null)){return false;}else{this.Remove(dS);return true;}},RemoveFirst:function(){return this.Remove(this.n);},RemoveLast:function(){return this.Remove(this.p);},get_Count:function(){return this.c;},get_First:function(){return this.n;},get_Last:function(){return this.p;}},{New:function(){var dT;dT=$.New(this,w.New1(g.empty()));return dT;},New1:function(dU){var dV,dW;dV=$.New(this,{});dV.c=0;dV.n=null;dV.p=null;dW=i.Get(dU);if(dW.MoveNext()){dV.n={p:null,n:null,v:dW.get_Current()};dV.p=dV.n;dV.c=1;}$.While(function(){return dW.MoveNext();},function(){var dX,dY;dX={p:dV.p,n:null,v:dW.get_Current()},(dY=dV.p,(dY.n=dX,dX),(dV.p=dX,dV.c=dV.c+1));});return dV;}})},MapModule:{Exists:function(dZ,d0){var d1,d2;d1=(d2=function(d3){return(dZ(d3.K))(d3.V);},function(d4){return g.exists(d2,d4);});return d1(d0);},Filter:function(d5,d6){var d7,d8,d9,d_,d$,ea;d7=(d8=(d9=(d_=(d$=d6.get_Tree(),c.Enumerate(false,d$)),(ea=function(eb){return g.filter(function(ec){return(d5(ec.Key))(ec.Value);},eb);},ea(d_))),g.toArray(d9)),c.Build(d8,0,d8.length-1));return n.New1(d7);},FindKey:function(ed,ee){var ef,eg;ef=(eg=function(eh){if((ed(eh.K))(eh.V)){return{$:1,$0:eh.K};}else{return{$:0};}},function(ei){return g.pick(eg,ei);});return ef(ee);},Fold:function(ej,ek,el){var em,en,eo;em=(en=el.get_Tree(),c.Enumerate(false,en));eo=function(ep){return g.fold(function(eq){return function(er){return((ej(eq))(er.Key))(er.Value);};},ek,ep);};return eo(em);},FoldBack:function(es,et,eu){var ev,ew,ex;ev=(ew=et.get_Tree(),c.Enumerate(true,ew));ex=function(ey){return g.fold(function(ez){return function(eA){return((es(eA.Key))(eA.Value))(ez);};},eu,ey);};return ex(ev);},ForAll:function(eB,eC){var eD,eE;eD=(eE=function(eF){return(eB(eF.K))(eF.V);},function(eG){return g.forall(eE,eG);});return eD(eC);},Iterate:function(eH,eI){var eJ,eK;eJ=(eK=function(eL){return(eH(eL.K))(eL.V);},function(eM){return g.iter(eK,eM);});return eJ(eI);},Map:function(eN,eO){var eP,eQ,eR,eS,eT;eP=(eQ=(eR=(eS=eO.get_Tree(),c.Enumerate(false,eS)),(eT=function(eU){return g.map(function(eV){return $.New(o,{Key:eV.Key,Value:(eN(eV.Key))(eV.Value)});},eU);},eT(eR))),c.OfSeq(eQ));return n.New1(eP);},OfArray:function(eW){var eX,eY,eZ,e0;eX=(eY=(eZ=(e0=$.Tupled(function(e1){var e2,e3;e2=e1[0];e3=e1[1];return $.New(o,{Key:e2,Value:e3});}),function(e4){return g.map(e0,e4);}),eZ(eW)),c.OfSeq(eY));return n.New1(eX);},Partition:function(e5,e6){var e7,e8,e9,e_,fb,fc;e7=(e8=g.toArray((e9=e6.get_Tree(),c.Enumerate(false,e9))),(e_=function(e$){return h.partition(function(fa){return(e5(fa.Key))(fa.Value);},e$);},e_(e8)));fb=e7[1];fc=e7[0];return[n.New1(c.Build(fc,0,fc.length-1)),n.New1(c.Build(fb,0,fb.length-1))];},Pick:function(fd,fe){var ff,fg;ff=(fg=function(fh){return(fd(fh.K))(fh.V);},function(fi){return g.pick(fg,fi);});return ff(fe);},ToSeq:function(fj){var fk,fl,fm;fk=(fl=fj.get_Tree(),c.Enumerate(false,fl));fm=function(fn){return g.map(function(fo){return[fo.Key,fo.Value];},fn);};return fm(fk);},TryFind:function(fp,fq){return fq.TryFind(fp);},TryFindKey:function(fr,fs){var ft,fu;ft=(fu=function(fv){if((fr(fv.K))(fv.V)){return{$:1,$0:fv.K};}else{return{$:0};}},function(fw){return g.tryPick(fu,fw);});return ft(fs);},TryPick:function(fx,fy){var fz,fA;fz=(fA=function(fB){return(fx(fB.K))(fB.V);},function(fC){return g.tryPick(fA,fC);});return fz(fy);}},MapUtil:{fromSeq:function(fD){var fE;fE=g.toArray(g.delay(function(){return g.collect($.Tupled(function(fG){var fH,fI;fH=fG[1];fI=fG[0];return[$.New(o,{Key:fI,Value:fH})];}),g.distinctBy($.Tupled(function(fJ){return fJ[0];}),fD));}));h.sortInPlace(fE);return c.Build(fE,0,fE.length-1);}},Pair:$.Class({CompareTo:function(fK){return d.Compare(this.Key,fK.Key);},Equals:function(fL){return m.Equals(this.Key,fL.Key);},GetHashCode:function(){return m.Hash(this.Key);}}),ResizeArray:{ResizeArrayProxy:$.Class({Add:function(fM){return this.arr.push(fM);},AddRange:function(fN){var fP=this;return g.iter(function(fO){return fP.Add(fO);},fN);},Clear:function(){var fQ;fQ=x.splice(this.arr,0,this.arr.length,[]);fQ;},CopyTo:function(fR){return this.CopyTo1(fR,0);},CopyTo1:function(fS,fT){return this.CopyTo2(0,fS,fT,this.get_Count());},CopyTo2:function(fU,fV,fW,fX){return h.blit(this.arr,fU,fV,fW,fX);},GetEnumerator:function(){return i.Get(this.arr);},GetRange:function(fY,fZ){return y.New3(h.sub(this.arr,fY,fZ));},Insert:function(f0,f1){var f2;f2=x.splice(this.arr,f0,0,[f1]);f2;},InsertRange:function(f3,f4){var f5;f5=x.splice(this.arr,f3,0,g.toArray(f4));f5;},RemoveAt:function(f6){var f7;f7=x.splice(this.arr,f6,1,[]);f7;},RemoveRange:function(f8,f9){var f_;f_=x.splice(this.arr,f8,f9,[]);f_;},Reverse:function(){return this.arr.reverse();},Reverse1:function(f$,ga){return h.reverse(this.arr,f$,ga);},ToArray:function(){return this.arr.slice();},get_Count:function(){return this.arr.length;},get_Item:function(gb){return this.arr[gb];},set_Item:function(gc,gd){this.arr[gc]=gd;}},{New:function(ge){var gf;gf=$.New(this,y.New3(g.toArray(ge)));return gf;},New1:function(){var gh;gh=$.New(this,y.New3([]));return gh;},New2:function(){var gi;gi=$.New(this,y.New3([]));return gi;},New3:function(gj){var gk;gk=$.New(this,{});gk.arr=gj;return gk;}}),splice:function($arr,$index,$howMany,$items){var $0=this,$this=this;return $$.Array.prototype.splice.apply($arr,[$index,$howMany].concat($items));}},SetModule:{Filter:function(gl,gm){var gn;return r.New1((gn=g.toArray(g.filter(gl,gm)),c.Build(gn,0,gn.length-1)));},FoldBack:function(go,gp,gq){var gt;return g.fold(function(gr){return function(gs){return(go(gs))(gr);};},gq,(gt=gp.get_Tree(),c.Enumerate(true,gt)));},Partition:function(gu,gv){var gw,gx,gy,gz,gA;gw=h.partition(gu,g.toArray(gv));gx=gw[1];gy=gw[0];return[(gz=c.OfSeq(gy),r.New1(gz)),(gA=c.OfSeq(gx),r.New1(gA))];}},SetUtil:{ofSeq:function(gB){var gC;gC=g.toArray(gB);h.sortInPlace(gC);return c.Build(gC,0,gC.length-1);}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Collections);c=$.Safe(b.BalancedTree);d=$.Safe(a.Operators);e=$.Safe(a.List);f=$.Safe(e.T);g=$.Safe(a.Seq);h=$.Safe(a.Arrays);i=$.Safe(a.Enumerator);j=$.Safe(a.JavaScript);k=$.Safe(b.DictionaryUtil);l=$.Safe(b.Dictionary);m=$.Safe(a.Unchecked);n=$.Safe(b.FSharpMap);o=$.Safe(b.Pair);p=$.Safe(a.Option);q=$.Safe(b.MapUtil);r=$.Safe(b.FSharpSet);s=$.Safe(b.SetModule);t=$.Safe(b.SetUtil);u=$.Safe(b.LinkedList);v=$.Safe(u.EnumeratorProxy);w=$.Safe(u.ListProxy);x=$.Safe(b.ResizeArray);return y=$.Safe(x.ResizeArrayProxy);});$.OnLoad(function(){});}());
