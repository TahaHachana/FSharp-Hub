(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;$.Define($$,{IntelliFactory:{WebSharper:{Collections:{BalancedTree:{Add:function(E,F){return c.Put(function(){return function(H){return H;};},E,F);},Branch:function(I,J,K){return{Node:I,Left:J,Right:K,Height:1+d.Max(J==null?0:J.Height,K==null?0:K.Height),Count:1+(J==null?0:J.Count)+(K==null?0:K.Count)};},Build:function(L,M,N){var O,P,Q;if(N-M+1<=0){return null;}else{O=(M+N)/2>>0;P=c.Build(L,M,O-1);Q=c.Build(L,O+1,N);return c.Branch(e.GetArray(L,O),P,Q);}},Contains:function(R,S){return!((c.Lookup(R,S))[0]==null);},Enumerate:function(T,U){var V;V=$.Tupled(function(W){var X,Y;X=W[0];Y=W[1];return X==null?Y.$==1?{$:1,$0:[Y.$0[0],[Y.$0[1],Y.$1]]}:{$:0}:T?V([X.Right,$.New(h,{$:1,$0:[X.Node,X.Left],$1:Y})]):V([X.Left,$.New(h,{$:1,$0:[X.Node,X.Right],$1:Y})]);});return f.unfold(V,[U,$.New(h,{$:0})]);},Lookup:function(Z,_0){var _1,_2,_3,_4;_1=[];_2=_0;_3=true;while(_3){if(_2==null){_3=false;}else{_4=d.Compare(Z,_2.Node);if(_4===0){_3=false;}else{if(_4===1){_1.unshift([true,_2.Node,_2.Left]);_2=_2.Right;}else{_1.unshift([false,_2.Node,_2.Right]);_2=_2.Left;}}}}return[_2,_1];},OfSeq:function(_5){var _6;_6=i.sort(f.toArray(f.distinct(_5)));return c.Build(_6,0,_6.length-1);},Put:function(_7,_8,_9){var _,ba,bb;_=c.Lookup(_8,_9);ba=_[0];bb=_[1];return ba==null?c.Rebuild(bb,c.Branch(_8,null,null)):c.Rebuild(bb,c.Branch((_7(ba.Node))(_8),ba.Left,ba.Right));},Rebuild:function(bb,bc){var bd,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo;bd=function(be){return be==null?0:be.Height;};bf=bc;for(bg=0;bg<=e.GetLength(bb)-1;bg++){bh=e.GetArray(bb,bg);if(bh[0]){bj=bh[1];bk=bh[2];if(bd(bf)>bd(bk)+1){if(bd(bf.Left)===bd(bf.Right)+1){bl=bf.Left;bi=c.Branch(bl.Node,c.Branch(bj,bk,bl.Left),c.Branch(bf.Node,bl.Right,bf.Right));}else{bi=c.Branch(bf.Node,c.Branch(bj,bk,bf.Left),bf.Right);}}else{bi=c.Branch(bj,bk,bf);}}else{bm=bh[1];bn=bh[2];if(bd(bf)>bd(bn)+1){if(bd(bf.Right)===bd(bf.Left)+1){bo=bf.Right;bi=c.Branch(bo.Node,c.Branch(bf.Node,bf.Left,bo.Left),c.Branch(bm,bo.Right,bn));}else{bi=c.Branch(bf.Node,bf.Left,c.Branch(bm,bf.Right,bn));}}else{bi=c.Branch(bm,bf,bn);}}bf=bi;}return bf;},Remove:function(bp,bq){var br,bs,bt,bu;br=c.Lookup(bp,bq);bs=br[0];bt=br[1];if(bs==null){return bq;}else{if(bs.Right==null){return c.Rebuild(bt,bs.Left);}else{if(bs.Left==null){return c.Rebuild(bt,bs.Right);}else{bu=f.toArray(f.append(c.Enumerate(false,bs.Left),c.Enumerate(false,bs.Right)));return c.Rebuild(bt,c.Build(bu,0,bu.length-1));}}}},TryFind:function(bv,bw){var bx;bx=(c.Lookup(bv,bw))[0];return bx==null?{$:0}:{$:1,$0:bx.Node};}},Dictionary:$.Class({Add:function(by,bz){var bA;bA=this.hash.call(null,by);if(this.data.hasOwnProperty(bA)){return d.FailWith("An item with the same key has already been added.");}else{this.data[bA]={K:by,V:bz};this.count=this.count+1;return;}},Clear:function(){this.data={};this.count=0;return;},ContainsKey:function(bB){return this.data.hasOwnProperty(this.hash.call(null,bB));},GetEnumerator:function(){return j.Get(k.GetFieldValues(this.data));},Remove:function(bC){var bD;bD=this.hash.call(null,bC);if(this.data.hasOwnProperty(bD)){k.Delete(this.data,bD);this.count=this.count-1;return true;}else{return false;}},get_Item:function(bE){var bF;bF=this.hash.call(null,bE);return this.data.hasOwnProperty(bF)?this.data[bF].V:l.notPresent();},set_Item:function(bG,bH){var bI;bI=this.hash.call(null,bG);if(!this.data.hasOwnProperty(bI)){this.count=this.count+1;}this.data[bI]={K:bG,V:bH};return;}},{New:function(bJ,bK){return $.New(this,m.New11(bJ,function(bL){return function(bM){return bK.Equals(bL,bM);};},function(bN){return bK.GetHashCode(bN);}));},New1:function(bO){return $.New(this,m.New11(bO,function(bP){return function(bQ){return n.Equals(bP,bQ);};},function(bR){return n.Hash(bR);}));},New11:function(bS,bT,bU){var bV,bW,bX;bV=$.New(this,{});bV.hash=bU;bV.count=0;bV.data={};bW=j.Get(bS);while(bW.MoveNext()){bX=bW.get_Current();bV.data[bV.hash.call(null,bX.K)]=bX.V;}return bV;},New12:function(bY){return $.New(this,m.New11([],function(bZ){return function(b0){return bY.Equals(bZ,b0);};},function(b1){return bY.GetHashCode(b1);}));},New2:function(){return $.New(this,m.New11([],function(b2){return function(b3){return n.Equals(b2,b3);};},function(b4){return n.Hash(b4);}));},New3:function(){return $.New(this,m.New2());},New4:function(b6,b7){return $.New(this,m.New12(b7));}}),DictionaryUtil:{notPresent:function(){return d.FailWith("The given key was not present in the dictionary.");}},FSharpMap:$.Class({Add:function(b8,b9){var b_;b_=this.tree;return o.New1(c.Add($.New(p,{Key:b8,Value:b9}),b_));},CompareTo:function(b$){return f.compareWith(function(ca){return function(cb){return d.Compare(ca,cb);};},this,b$);},ContainsKey:function(cc){var cd;cd=this.tree;return c.Contains($.New(p,{Key:cc,Value:undefined}),cd);},Equals:function(ce){return this.get_Count()===ce.get_Count()?f.forall2(function(cf){return function(cg){return n.Equals(cf,cg);};},this,ce):false;},GetEnumerator:function(){return j.Get(f.map(function(ch){return{K:ch.Key,V:ch.Value};},c.Enumerate(false,this.tree)));},GetHashCode:function(){return n.Hash(f.toArray(this));},Remove:function(ci){var cj;cj=this.tree;return o.New1(c.Remove($.New(p,{Key:ci,Value:undefined}),cj));},TryFind:function(ck){var cl;cl=this.tree;return q.map(function(cm){return cm.Value;},c.TryFind($.New(p,{Key:ck,Value:undefined}),cl));},get_Count:function(){var cn;cn=this.tree;return cn==null?0:cn.Count;},get_IsEmpty:function(){return this.tree==null;},get_Item:function(co){var cp;cp=this.TryFind(co);return cp.$==0?d.FailWith("The given key was not present in the dictionary."):cp.$0;},get_Tree:function(){return this.tree;}},{New:function(cq){return $.New(this,o.New1(r.fromSeq(cq)));},New1:function(cr){var cs;cs=$.New(this,{});cs.tree=cr;return cs;}}),FSharpSet:$.Class({Add:function(ct){return s.New1(c.Add(ct,this.tree));},CompareTo:function(cu){return f.compareWith(function(cv){return function(cw){return d.Compare(cv,cw);};},this,cu);},Contains:function(cx){return c.Contains(cx,this.tree);},Equals:function(cy){return this.get_Count()===cy.get_Count()?f.forall2(function(cz){return function(cA){return n.Equals(cz,cA);};},this,cy):false;},GetEnumerator:function(){return j.Get(c.Enumerate(false,this.tree));},GetHashCode:function(){return-1741749453+n.Hash(f.toArray(this));},IsProperSubsetOf:function(cB){return this.IsSubsetOf(cB)?this.get_Count()<cB.get_Count():false;},IsProperSupersetOf:function(cC){return this.IsSupersetOf(cC)?this.get_Count()>cC.get_Count():false;},IsSubsetOf:function(cD){return f.forall(function(cE){return cD.Contains(cE);},this);},IsSupersetOf:function(cF){var cH=this;return f.forall(function(cG){return cH.Contains(cG);},cF);},Remove:function(cI){return s.New1(c.Remove(cI,this.tree));},add:function(cJ){return s.New1(c.OfSeq(f.append(this,cJ)));},get_Count:function(){var cK;cK=this.tree;return cK==null?0:cK.Count;},get_IsEmpty:function(){return this.tree==null;},get_MaximumElement:function(){return f.head(c.Enumerate(true,this.tree));},get_MinimumElement:function(){return f.head(c.Enumerate(false,this.tree));},get_Tree:function(){return this.tree;},sub:function(cL){return t.Filter(function(cM){return!cL.Contains(cM);},this);}},{New:function(cN){return $.New(this,s.New1(u.ofSeq(cN)));},New1:function(cO){var cP;cP=$.New(this,{});cP.tree=cO;return cP;}}),HashSet:{HashSet:$.Class({Add:function(cQ){return this.add(cQ);},Clear:function(){this.data=v.prototype.constructor.apply(undefined,[].concat([]));this.count=0;return;},Contains:function(cR){var cS;cS=this.data[this.hash.call(null,cR)];return cS==null?false:this.arrContains(cR,cS);},CopyTo:function(cT){var cU,cV,cW;cU=0;cV=x.concat(this.data);for(cW=0;cW<=cV.length-1;cW++){e.SetArray(cT,cW,cV[cW]);}return;},ExceptWith:function(cX){var cY;cY=j.Get(cX);while(cY.MoveNext()){this.Remove(cY.get_Current());}return;},GetEnumerator:function(){return j.Get(x.concat(this.data));},IntersectWith:function(cZ){var c0,c1,c2,c3;c0=y.New3(cZ,this.equals,this.hash);c1=x.concat(this.data);for(c2=0;c2<=c1.length-1;c2++){c3=c1[c2];if(!c0.Contains(c3)){this.Remove(c3);}}return;},IsProperSubsetOf:function(c4){var c5;c5=i.ofSeq(c4);return this.count<e.GetLength(c5)?this.IsSubsetOf(c5):false;},IsProperSupersetOf:function(c6){var c7;c7=i.ofSeq(c6);return this.count>e.GetLength(c7)?this.IsSupersetOf(c7):false;},IsSubsetOf:function(c8){var c9;c9=y.New3(c8,this.equals,this.hash);return f.forall(function(c_){return c9.Contains(c_);},x.concat(this.data));},IsSupersetOf:function(c$){var db=this;return f.forall(function(da){return db.Contains(da);},c$);},Overlaps:function(dc){var de=this;return f.exists(function(dd){return de.Contains(dd);},dc);},Remove:function(df){var dg;dg=this.data[this.hash.call(null,df)];if(dg==null){return false;}else{if(this.arrRemove(df,dg)){this.count=this.count-1;return true;}else{return false;}}},RemoveWhere:function(dh){var di,dj,dk;di=x.concat(this.data);for(dj=0;dj<=di.length-1;dj++){dk=di[dj];if(dh(dk)){this.Remove(dk);}}return;},SetEquals:function(dl){var dm;dm=y.New3(dl,this.equals,this.hash);return this.get_Count()===dm.get_Count()?this.IsSupersetOf(dm):false;},SymmetricExceptWith:function(dn){var _do,dp;_do=j.Get(dn);while(_do.MoveNext()){dp=_do.get_Current();if(this.Contains(dp)){this.Remove(dp);}else{this.Add(dp);}}return;},UnionWith:function(dq){var dr;dr=j.Get(dq);while(dr.MoveNext()){this.Add(dr.get_Current());}return;},add:function(ds){var dt,du,dv;dt=this.hash.call(null,ds);du=this.data[dt];if(du==null){this.data[dt]=[ds];this.count=this.count+1;return true;}else{if(this.arrContains(ds,du)){return false;}else{dv=[ds];du.push.apply(du,[].concat(dv));this.count=this.count+1;return true;}}},arrContains:function(dw,dx){var dy,dz,dA;dy=true;dz=0;dA=dx.length;while(dy?dz<dA:false){if((this.equals.call(null,dx[dz]))(dw)){dy=false;}else{dz=dz+1;}}return!dy;},arrRemove:function(dB,dC){var dD,dE,dF,dG,dH;dD=true;dE=0;dF=dC.length;while(dD?dE<dF:false){if((this.equals.call(null,dC[dE]))(dB)){dG=dE;dH=[];dC.splice.apply(dC,[dG,1].concat(dH));dD=false;}else{dE=dE+1;}}return!dD;},get_Count:function(){return this.count;}},{New:function(dI){return $.New(this,y.New3(f.empty(),function(dJ){return function(dK){return dI.Equals(dJ,dK);};},function(dL){return dI.GetHashCode(dL);}));},New1:function(dM,dN){return $.New(this,y.New3(dM,function(dO){return function(dP){return dN.Equals(dO,dP);};},function(dQ){return dN.GetHashCode(dQ);}));},New11:function(dR){return $.New(this,y.New3(dR,function(dS){return function(dT){return n.Equals(dS,dT);};},function(dU){return n.Hash(dU);}));},New2:function(){return $.New(this,y.New3(f.empty(),function(dV){return function(dW){return n.Equals(dV,dW);};},function(dX){return n.Hash(dX);}));},New3:function(dY,dZ,d0){var d1,d2;d1=$.New(this,{});d1.equals=dZ;d1.hash=d0;d1.data=v.prototype.constructor.apply(undefined,[].concat([]));d1.count=0;d2=j.Get(dY);while(d2.MoveNext()){d1.add(d2.get_Current());}return d1;}}),HashSetUtil:{concat:function($o){var $0=this,$this=this;var r=[];for(var k in $o){r.push.apply(r,$o[k]);};return r;}}},LinkedList:{EnumeratorProxy:$.Class({Dispose:function(){return null;},MoveNext:function(){this.c=this.c.n;return!n.Equals(this.c,null);},get_Current:function(){return this.c.v;}},{New:function(d3){var d4;d4=$.New(this,{});d4.c=d3;return d4;}}),ListProxy:$.Class({AddAfter:function(d5,d6){var d7,d8;d7=d5.n;d8={p:d5,n:d7,v:d6};if(n.Equals(d5.n,null)){this.p=d8;}d5.n=d8;if(!n.Equals(d7,null)){d7.p=d8;}this.c=this.c+1;return d8;},AddBefore:function(d9,d_){var d$,ea;d$=d9.p;ea={p:d$,n:d9,v:d_};if(n.Equals(d9.p,null)){this.n=ea;}d9.p=ea;if(!n.Equals(d$,null)){d$.n=ea;}this.c=this.c+1;return ea;},AddFirst:function(eb){var ec;if(this.c===0){ec={p:null,n:null,v:eb};this.n=ec;this.p=this.n;this.c=1;return ec;}else{return this.AddBefore(this.n,eb);}},AddLast:function(ed){var ee;if(this.c===0){ee={p:null,n:null,v:ed};this.n=ee;this.p=this.n;this.c=1;return ee;}else{return this.AddAfter(this.p,ed);}},Clear:function(){this.c=0;this.n=null;this.p=null;return;},Contains:function(ef){var eg,eh;eg=false;eh=this.n;while(!n.Equals(eh,null)?!eg:false){if(eh.v==ef){eg=true;}else{eh=eh.n;}}return eg;},Find:function(ei){var ej,ek;ej=this.n;ek=true;while(ek?!n.Equals(ej,null):false){if(ej.v==ei){ek=false;}else{ej=ej.n;}}return ek?null:ej;},FindLast:function(el){var em,en;em=this.p;en=true;while(en?!n.Equals(em,null):false){if(em.v==el){en=false;}else{em=em.p;}}return en?null:em;},GetEnumerator:function(){return A.New(this);},Remove:function(eo){var ep,eq;ep=eo.p;eq=eo.n;if(n.Equals(ep,null)){this.n=eq;}else{ep.n=eq;}if(n.Equals(eq,null)){this.p=ep;}else{eq.p=ep;}this.c=this.c-1;return;},Remove1:function(er){var es;es=this.Find(er);if(n.Equals(es,null)){return false;}else{this.Remove(es);return true;}},RemoveFirst:function(){return this.Remove(this.n);},RemoveLast:function(){return this.Remove(this.p);},get_Count:function(){return this.c;},get_First:function(){return this.n;},get_Last:function(){return this.p;}},{New:function(){return $.New(this,B.New1(f.empty()));},New1:function(et){var eu,ev,ew;eu=$.New(this,{});eu.c=0;eu.n=null;eu.p=null;ev=j.Get(et);if(ev.MoveNext()){eu.n={p:null,n:null,v:ev.get_Current()};eu.p=eu.n;eu.c=1;}while(ev.MoveNext()){ew={p:eu.p,n:null,v:ev.get_Current()};eu.p.n=ew;eu.p=ew;eu.c=eu.c+1;}return eu;}})},MapModule:{Exists:function(ex,ey){return f.exists(function(ez){return(ex(ez.K))(ez.V);},ey);},Filter:function(eA,eB){var eC;eC=f.toArray(f.filter(function(eD){return(eA(eD.Key))(eD.Value);},c.Enumerate(false,eB.get_Tree())));return o.New1(c.Build(eC,0,eC.length-1));},FindKey:function(eE,eF){return f.pick(function(eG){return(eE(eG.K))(eG.V)?{$:1,$0:eG.K}:{$:0};},eF);},Fold:function(eH,eI,eJ){return f.fold(function(eK){return function(eL){return((eH(eK))(eL.Key))(eL.Value);};},eI,c.Enumerate(false,eJ.get_Tree()));},FoldBack:function(eM,eN,eO){return f.fold(function(eP){return function(eQ){return((eM(eQ.Key))(eQ.Value))(eP);};},eO,c.Enumerate(true,eN.get_Tree()));},ForAll:function(eR,eS){return f.forall(function(eT){return(eR(eT.K))(eT.V);},eS);},Iterate:function(eU,eV){return f.iter(function(eW){return(eU(eW.K))(eW.V);},eV);},Map:function(eX,eY){return o.New1(c.OfSeq(f.map(function(eZ){return $.New(p,{Key:eZ.Key,Value:(eX(eZ.Key))(eZ.Value)});},c.Enumerate(false,eY.get_Tree()))));},OfArray:function(e0){return o.New1(c.OfSeq(f.map($.Tupled(function(e1){return $.New(p,{Key:e1[0],Value:e1[1]});}),e0)));},Partition:function(e2,e3){var e4,e6,e7;e4=i.partition(function(e5){return(e2(e5.Key))(e5.Value);},f.toArray(c.Enumerate(false,e3.get_Tree())));e6=e4[1];e7=e4[0];return[o.New1(c.Build(e7,0,e7.length-1)),o.New1(c.Build(e6,0,e6.length-1))];},Pick:function(e8,e9){return f.pick(function(e_){return(e8(e_.K))(e_.V);},e9);},ToSeq:function(e$){return f.map(function(fa){return[fa.Key,fa.Value];},c.Enumerate(false,e$.get_Tree()));},TryFind:function(fb,fc){return fc.TryFind(fb);},TryFindKey:function(fd,fe){return f.tryPick(function(ff){return(fd(ff.K))(ff.V)?{$:1,$0:ff.K}:{$:0};},fe);},TryPick:function(fg,fh){return f.tryPick(function(fi){return(fg(fi.K))(fi.V);},fh);}},MapUtil:{fromSeq:function(fj){var fk;fk=f.toArray(f.delay(function(){return f.collect($.Tupled(function(fm){return[$.New(p,{Key:fm[0],Value:fm[1]})];}),f.distinctBy($.Tupled(function(fn){return fn[0];}),fj));}));i.sortInPlace(fk);return c.Build(fk,0,fk.length-1);}},Pair:$.Class({CompareTo:function(fo){return d.Compare(this.Key,fo.Key);},Equals:function(fp){return n.Equals(this.Key,fp.Key);},GetHashCode:function(){return n.Hash(this.Key);}}),ResizeArray:{ResizeArrayProxy:$.Class({Add:function(fq){return this.arr.push(fq);},AddRange:function(fr){var ft=this;return f.iter(function(fs){return ft.Add(fs);},fr);},Clear:function(){C.splice(this.arr,0,e.GetLength(this.arr),[]);},CopyTo:function(fu){return this.CopyTo1(fu,0);},CopyTo1:function(fv,fw){return this.CopyTo2(0,fv,fw,this.get_Count());},CopyTo2:function(fx,fy,fz,fA){return i.blit(this.arr,fx,fy,fz,fA);},GetEnumerator:function(){return j.Get(this.arr);},GetRange:function(fB,fC){return D.New(i.sub(this.arr,fB,fC));},Insert:function(fD,fE){C.splice(this.arr,fD,0,[fE]);},InsertRange:function(fF,fG){C.splice(this.arr,fF,0,f.toArray(fG));},RemoveAt:function(fH){C.splice(this.arr,fH,1,[]);},RemoveRange:function(fI,fJ){C.splice(this.arr,fI,fJ,[]);},Reverse:function(){return this.arr.reverse();},Reverse1:function(fK,fL){return i.reverse(this.arr,fK,fL);},ToArray:function(){return this.arr.slice();},get_Count:function(){return e.GetLength(this.arr);},get_Item:function(fM){return e.GetArray(this.arr,fM);},set_Item:function(fN,fO){return e.SetArray(this.arr,fN,fO);}},{New:function(fP){var fQ;fQ=$.New(this,{});fQ.arr=fP;return fQ;},New1:function(){return $.New(this,D.New([]));},New11:function(fR){return $.New(this,D.New(f.toArray(fR)));},New2:function(){return $.New(this,D.New([]));}}),splice:function($arr,$index,$howMany,$items){var $0=this,$this=this;return $$.Array.prototype.splice.apply($arr,[$index,$howMany].concat($items));}},SetModule:{Filter:function(fT,fU){var fV;fV=f.toArray(f.filter(fT,fU));return s.New1(c.Build(fV,0,fV.length-1));},FoldBack:function(fW,fX,fY){return f.fold(function(fZ){return function(f0){return(fW(f0))(fZ);};},fY,c.Enumerate(true,fX.get_Tree()));},Partition:function(f1,f2){var f3,f4;f3=i.partition(f1,f.toArray(f2));f4=f3[1];return[s.New1(c.OfSeq(f3[0])),s.New1(c.OfSeq(f4))];}},SetUtil:{ofSeq:function(f5){var f6;f6=f.toArray(f5);i.sortInPlace(f6);return c.Build(f6,0,f6.length-1);}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Collections);c=$.Safe(b.BalancedTree);d=$.Safe(a.Operators);e=$.Safe(a.IntrinsicFunctionProxy);f=$.Safe(a.Seq);g=$.Safe(a.List);h=$.Safe(g.T);i=$.Safe(a.Arrays);j=$.Safe(a.Enumerator);k=$.Safe(a.JavaScript);l=$.Safe(b.DictionaryUtil);m=$.Safe(b.Dictionary);n=$.Safe(a.Unchecked);o=$.Safe(b.FSharpMap);p=$.Safe(b.Pair);q=$.Safe(a.Option);r=$.Safe(b.MapUtil);s=$.Safe(b.FSharpSet);t=$.Safe(b.SetModule);u=$.Safe(b.SetUtil);v=$.Safe($$.Array);w=$.Safe(b.HashSet);x=$.Safe(w.HashSetUtil);y=$.Safe(w.HashSet);z=$.Safe(b.LinkedList);A=$.Safe(z.EnumeratorProxy);B=$.Safe(z.ListProxy);C=$.Safe(b.ResizeArray);return D=$.Safe(C.ResizeArrayProxy);});$.OnLoad(function(){return;});}());
