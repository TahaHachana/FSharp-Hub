(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;$.Define($$,{IntelliFactory:{WebSharper:{Control:{Disposable:{Of:function(v){return{Dispose:v};}},Event:{Event:$.Class({AddHandler:function(w){return this.Handlers.push(w);},RemoveHandler:function(x){var y;y=b.ofArray(c.choose(function(z){return z;},c.mapi(function(A){return function(B){return d.Equals(B,x)?{$:1,$0:A}:{$:0};};},this.Handlers)));return y.$==1?this.Handlers.splice(y.$0,1):null;},Subscribe:function(C){var D,G=this;D=function(E){return C.OnNext(E);};this.AddHandler(D);return f.Of(function(){return G.RemoveHandler(D);});},Trigger:function(H){var I;for(I=0;I<=g.GetLength(this.Handlers)-1;I++){this.Handlers[I].call(null,H);}return;}})},EventModule:{Choose:function(J,K){var L;L=h.New();i.addListener(K,function(M){var N;N=J(M);return N.$==0?null:L.event.Trigger(N.$0);});return L.event;},Filter:function(O,P){var Q;Q=$.New(k,{Handlers:[]});i.addListener(P,function(R){return O(R)?Q.Trigger(R):null;});return Q;},Map:function(S,T){var U;U=$.New(k,{Handlers:[]});i.addListener(T,function(V){return U.Trigger(S(V));});return U;},Merge:function(W,X){var Y;Y=$.New(k,{Handlers:[]});i.addListener(W,function(Z){return Y.Trigger(Z);});i.addListener(X,function(_0){return Y.Trigger(_0);});return Y;},Pairwise:function(_1){var _2,_3;_2={contents:{$:0}};_3=$.New(k,{Handlers:[]});i.addListener(_1,function(_4){var _5,_6;_5=_2.contents;if(_5.$==1){_6=_5.$0;_2.contents={$:1,$0:_4};return _3.Trigger([_6,_4]);}else{_2.contents={$:1,$0:_4};return;}});return _3;},Partition:function(_7,_8){return[l.Filter(_7,_8),l.Filter(function(_9){return!_7(_9);},_8)];},Scan:function(_,ba,bb){var bc;bc={contents:ba};return l.Map(function(bd){bc.contents=(_(bc.contents))(bd);return bc.contents;},bb);},Split:function(bd,be){return[l.Choose(function(bf){var bg;bg=bd(bf);return bg.$==0?{$:1,$0:bg.$0}:{$:0};},be),l.Choose(function(bh){var bi;bi=bd(bh);return bi.$==1?{$:1,$0:bi.$0}:{$:0};},be)];}},FSharpEvent:$.Class({},{New:function(){var bj;bj=$.New(this,{});bj.event=$.New(k,{Handlers:[]});return bj;}}),HotStream:{HotStream:$.Class({Subscribe:function(bk){if(this.Latest.contents.$==1){bk.OnNext(this.Latest.contents.$0);}return i.subscribeTo(this.Event.event,function(bl){return bk.OnNext(bl);});},Trigger:function(bm){this.Latest.contents={$:1,$0:bm};return this.Event.event.Trigger(bm);}},{New:function(){return $.New(n,{Latest:{contents:{$:0}},Event:h.New()});}})},Observable:{Aggregate:function(bn,bo,bp){return o.New(function(bq){var br;br={contents:bo};return i.subscribeTo(bn,function(bs){br.contents=(bp(br.contents))(bs);return bq.OnNext(br.contents);});});},Choose:function(bt,bu){return o.New(function(bv){return bu.Subscribe(p.New(function(bw){var bx;bx=bt(bw);return bx.$==0?null:bv.OnNext(bx.$0);},function(by){return bv.OnError(by);},function(){return bv.OnCompleted();}));});},CombineLatest:function(bA,bB,bC){return o.New(function(bD){var bE,bF,bG,bK,bO,bS,bT;bE={contents:{$:0}};bF={contents:{$:0}};bG=function(){var bI,bJ;bI=[bE.contents,bF.contents];if(bI[0].$==1){if(bI[1].$==1){bJ=bI[1].$0;return bD.OnNext((bC(bI[0].$0))(bJ));}else{return null;}}else{return null;}};bK=p.New(function(bL){bE.contents={$:1,$0:bL};return bG(null);},function(){},function(){});bO=p.New(function(bP){bF.contents={$:1,$0:bP};return bG(null);},function(){},function(){});bS=bA.Subscribe(bK);bT=bB.Subscribe(bO);return f.Of(function(){bS.Dispose();return bT.Dispose();});});},Concat:function(bV,bW){return o.New(function(bX){var bY,bZ;bY={contents:{$:0}};bZ=bV.Subscribe(p.New(function(b0){return bX.OnNext(b0);},function(){},function(){bY.contents={$:1,$0:bW.Subscribe(bX)};}));return f.Of(function(){if(bY.contents.$==1){bY.contents.$0.Dispose();}return bZ.Dispose();});});},Drop:function(b4,b5){return o.New(function(b6){var b7;b7={contents:0};return b5.Subscribe(p.New(function(b8){q.Increment(b7);return b7.contents>b4?b6.OnNext(b8):null;},function(b9){return b6.OnError(b9);},function(){return b6.OnCompleted();}));});},Filter:function(b$,ca){return o.New(function(cb){return ca.Subscribe(p.New(function(cc){return b$(cc)?cb.OnNext(cc):null;},function(cd){return cb.OnError(cd);},function(){return cb.OnCompleted();}));});},Map:function(cf,cg){return o.New(function(ch){return cg.Subscribe(p.New(function(ci){return ch.OnNext(cf(ci));},function(cj){return ch.OnError(cj);},function(){return ch.OnCompleted();}));});},Merge:function(cl,cm){return o.New(function(cn){var co,cp,cq,cu;co={contents:false};cp={contents:false};cq=cl.Subscribe(p.New(function(cr){return cn.OnNext(cr);},function(){},function(){co.contents=true;return(co.contents?cp.contents:false)?cn.OnCompleted():null;}));cu=cm.Subscribe(p.New(function(cv){return cn.OnNext(cv);},function(){},function(){cp.contents=true;return(co.contents?cp.contents:false)?cn.OnCompleted():null;}));return f.Of(function(){cq.Dispose();return cu.Dispose();});});},Never:function(){return o.New(function(){return f.Of(function(){});});},New:function(cB){return $.New(r,{Subscribe1:cB});},Observable:$.Class({Subscribe:function(cC){return this.Subscribe1.call(null,cC);}}),Of:function(cD){return o.New(function(cE){return f.Of(cD(function(cF){return cE.OnNext(cF);}));});},Range:function(cG,cH){return o.New(function(cI){var cJ;for(cJ=cG;cJ<=cG+cH;cJ++){cI.OnNext(cJ);}return f.Of(function(){});});},Return:function(cL){return o.New(function(cM){cM.OnNext(cL);cM.OnCompleted();return f.Of(function(){});});},SelectMany:function(cO){return o.New(function(cP){var cQ,cS;cQ={contents:function(){}};cS=i.subscribeTo(cO,function(cT){var cU;cU=i.subscribeTo(cT,function(cV){return cP.OnNext(cV);});cQ.contents=function(){cQ.contents.call(null,null);return cU.Dispose();};return;});return f.Of(function(){cQ.contents.call(null,null);return cS.Dispose();});});},Sequence:function(cY){var cZ;cZ=function(c0){return c0.$==1?o.CombineLatest(c0.$0,cZ(c0.$1),function(c1){return function(c2){return $.New(s,{$:1,$0:c1,$1:c2});};}):o.Return($.New(s,{$:0}));};return cZ(b.ofSeq(cY));},Switch:function(c3){return o.New(function(c4){var c5,c6;c5={contents:0};c6={contents:{$:0}};return i.subscribeTo(c3,function(c7){var c8;q.Increment(c5);if(c6.contents.$==1){c6.contents.$0.Dispose();}c8=c5.contents;c6.contents={$:1,$0:i.subscribeTo(c7,function(c9){return c8===c5.contents?c4.OnNext(c9):null;})};return;});});}},ObservableModule:{Pairwise:function(c_){var c$,da,de;c$=[{$:0},{$:0}];da=$.Tupled(function(db){var dc;dc=db[1];return function(dd){return[dc,{$:1,$0:dd}];};});de=(($.Tupled(function(df){return function(dg){return t.Scan(da,df,dg);};}))(c$))(c_);return o.Choose($.Tupled(function(dh){return dh[0].$==1?dh[1].$==1?{$:1,$0:[dh[0].$0,dh[1].$0]}:{$:0}:{$:0};}),de);},Partition:function(di,dj){return[o.Filter(di,dj),o.Filter(function(dk){return!di(dk);},dj)];},Scan:function(dl,dm,dn){var _do;_do={contents:dm};return o.Map(function(dp){_do.contents=(dl(_do.contents))(dp);return _do.contents;},dn);},Split:function(dq,dr){var ds;ds=function(dt){var du;du=dq(dt);return du.$==1?{$:1,$0:du.$0}:{$:0};};return[o.Choose(function(dv){var dw;dw=dq(dv);return dw.$==0?{$:1,$0:dw.$0}:{$:0};},dr),o.Choose(ds,dr)];}},Observer:{New:function(dx,dy,dz){return $.New(u,{onNext:dx,onError:dy,onCompleted:dz});},Observer:$.Class({OnCompleted:function(){return this.onCompleted.call(null,null);},OnError:function(dA){return this.onError.call(null,dA);},OnNext:function(dB){return this.onNext.call(null,dB);}}),Of:function(dC){return $.New(u,{onNext:dC,onError:function(dD){return q.Raise(dD);},onCompleted:function(){return null;}});}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.List);c=$.Safe(a.Arrays);d=$.Safe(a.Unchecked);e=$.Safe(a.Control);f=$.Safe(e.Disposable);g=$.Safe(a.IntrinsicFunctionProxy);h=$.Safe(e.FSharpEvent);i=$.Safe(a.Util);j=$.Safe(e.Event);k=$.Safe(j.Event);l=$.Safe(e.EventModule);m=$.Safe(e.HotStream);n=$.Safe(m.HotStream);o=$.Safe(e.Observable);p=$.Safe(e.Observer);q=$.Safe(a.Operators);r=$.Safe(o.Observable);s=$.Safe(b.T);t=$.Safe(e.ObservableModule);return u=$.Safe(p.Observer);});$.OnLoad(function(){return;});}());
