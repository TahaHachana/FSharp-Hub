(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;$.Define($$,{Website:{BooksAdmin:{Client:{addFormlet:$.Field(function(){var J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_9,_;J=c.Input("");K=d.WithTextLabel("URL",J);L=c.Input("");M=d.WithTextLabel("Title",L);N=d.WithTextLabel("Author",c.Input(""));O=d.Many(N);P=d.WithFormContainer(O);Q=c.Input("");R=d.WithTextLabel("Publisher",Q);S=c.Input("");T=d.WithTextLabel("ISBN",S);U=c.Input("");V=d.WithTextLabel("Pages",U);W=c.Input("");X=d.WithTextLabel("Release Date",W);Y=c.Input("");Z=d.WithTextLabel("Cover URL",Y);_0=e.$(e.$(e.$(e.$(e.$(e.$(e.$(e.$(f.Return(function(_1){return function(_2){return function(_3){return function(_4){return function(_5){return function(_6){return function(_7){return function(_8){return[_1,_2,_3,_4,_5,_6,_7,_8];};};};};};};};}),K),M),P),R),T),V),X),Z);_9=d.WithSubmitAndResetButtons(_0);_=d.WithFormContainer(_9);return f.Run($.Tupled(function(ba){var bb,bc,bd,be,bf,bg,bh,bi;bb=ba[0];bc=ba[1];bd=ba[2];be=ba[3];bf=ba[4];bg=ba[5];bh=ba[6];bi=ba[7];return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:4",[bb,bc,bd,be,bf,bg,bh,bi]),function(bk){if(bk){i("New book inserted successfully.");return g.Return(null);}else{i("The query failed.");return g.Return(null);}});}));}),_);}),main:function(){return k.add(l.Div(m.ofArray([l.Attr().Class("row")])),m.ofArray([l.Div(m.ofArray([l.H1(m.ofArray([l.Text("Add new book")])),l.Div(m.ofArray([p.addFormlet()]))]))]));},tr:function(bk,bl){return l.TR(m.ofArray([l.TD(m.ofArray([l.Text(bk)])),l.TD(m.ofArray([l.Text(bl)]))]));}},Control:$.Class({get_Body:function(){return p.main();}})},FPish:{Control:$.Class({get_Body:function(){return q.main();}}),hideProress:function(){return r("[data-status=\"loading\"]").length===0?r("#progress-bar").slideUp():r("[data-spy=\"scroll\"]").each(function(){return r(this).scrollspy.call(null,"refresh");});},main:function(){var bm;bm=l.Div(m.ofArray([s.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(bn){var bo;bo=l.UL(m.ofArray([l.Attr().Class("list-group")]));r.getJSON("http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=http%3A%2F%2Ffpish.net%2Frss%2Ftopics%2Fall",$.Tupled(function(bp){var bq,br,bs,bt,bu,bv;bq=bp[0];br=bp[1];bs=bq.responseData.feed.entries;for(bt=0;bt<=bs.length-1;bt++){bu=t.GetArray(bs,bt);bv=bu.link;bo.AppendI(k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",bv),l.Attr().NewAttr("target","_blank"),l.Text(bu.title)]))])),l.Div(u.toList(u.delay(function(){return u.map(function(bx){return k.add(l.Span(m.ofArray([l.Attr().Class("label label-info")])),m.ofArray([l.Text(bx)]));},bu.categories);})))])));}return;}));bn.AppendI(bo);v.Log("Appended fpish list");bn["HtmlProvider@32"].RemoveAttribute(bn.Body,"data-status");return q.hideProress();},bm);return bm;}},FSSnip:{Client:{hideProress:function(){return r("[data-status=\"loading\"]").length===0?r("#progress-bar").slideUp():r("[data-spy=\"scroll\"]").each(function(){return r(this).scrollspy.call(null,"refresh");});},main:function(){var by;by=l.Div(m.ofArray([s.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(bz){return g.Start(g.Delay(function(){var bB;bB=h.Async("Sitelet:1",[]);return g.Bind(bB,function(bC){var bD,bE,bH;bD=l.UL(m.ofArray([l.Attr().Class("list-group")]));bE=g.For(bC,function(bF){var bG;bG=bF.link;bD.AppendI(k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",bG),l.Attr().NewAttr("target","_blank"),l.Text(bF.title)]))])),l.P(m.ofArray([l.Text(bF.description)])),l.P(m.ofArray([l.Text("Published "+bF.published+" by "+bF.author)]))])));return g.Return(null);});bH=g.Delay(function(){bz.AppendI(bD);v.Log("Appended snippets list");bz["HtmlProvider@32"].RemoveAttribute(bz.Body,"data-status");x.hideProress();return g.Return(null);});return g.Bind(bE,function(){return bH;});});}));},by);return by;}},Control:$.Class({get_Body:function(){return x.main();}})},GoogleGroup:{Control:$.Class({get_Body:function(){return y.main();}}),hideProress:function(){return r("[data-status=\"loading\"]").length===0?r("#progress-bar").slideUp():r("[data-spy=\"scroll\"]").each(function(){return r(this).scrollspy.call(null,"refresh");});},main:function(){var bK;bK=l.Div(m.ofArray([s.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(bL){var bM;bM=l.UL(m.ofArray([l.Attr().Class("list-group")]));r.getJSON("http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q=https%3A%2F%2Fgroups.google.com%2Fforum%2Ffeed%2Ffsharp-opensource%2Ftopics%2Frss.xml%3Fnum%3D15",$.Tupled(function(bN){var bO,bP,bQ,bR,bS,bT;bO=bN[0];bP=bN[1];bQ=bO.responseData.feed.entries;for(bR=0;bR<=bQ.length-1;bR++){bS=t.GetArray(bQ,bR);bT=bS.link;bM.AppendI(k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",bT),l.Attr().NewAttr("target","_blank"),l.Text(bS.title)]))])),l.P(m.ofArray([l.Text(bS.contentSnippet)])),l.P(m.ofArray([l.Text("Author: "+bS.author)]))])));}return;}));bL.AppendI(bM);bL["HtmlProvider@32"].RemoveAttribute(bL.Body,"data-status");return y.hideProress();},bK);return bK;}},Login:{Client:{loginForm:function(bU){var bV,bW,bX,b2,b3,b4,b5,b6;bV=l.Input(m.ofArray([l.Attr().Class("form-control"),l.Attr().NewAttr("id","username"),l.Attr().NewAttr("type","text"),s.Attr().NewAttr("autofocus","autofocus")]));bW=k.add(l.Button(m.ofArray([l.Attr().Class("btn btn-primary btn-block"),l.Attr().NewAttr("id","login-btn"),l.Attr().NewAttr("type","button")])),m.ofArray([l.Text("Submit")]));bX=function(){return function(){return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:2",[{Name:bV.get_Value(),Password:A.passInput().get_Value()}]),function(b1){if(b1.$==1){B.location.assign(bU);return g.Return(null);}else{i("Login failed");return g.Return(null);}});}));};};C.Events().OnClick(bX,bW);b2=bW;b3=m.ofArray([l.Attr().Class("form-group")]);b4=m.ofArray([l.Text("Username"),l.Attr().NewAttr("for","username")]);b5=m.ofArray([l.Text("Password"),l.Attr().NewAttr("for","password")]);b6=m.ofArray([b2]);return k.add(l.Form(m.ofArray([l.Attr().NewAttr("role","form"),l.Attr().NewAttr("id","signin")])),m.ofArray([l.H2(m.ofArray([l.Text("Please sign in")])),k.add(l.Tags().NewTag("fieldset",b3),m.ofArray([l.Tags().NewTag("label",b4),bV,l.Tags().NewTag("label",b5),A.passInput()])),l.Tags().NewTag("fieldset",b6)]));},passInput:$.Field(function(){var b7,b8;b7=l.Input(m.ofArray([l.Attr().Class("form-control"),l.Attr().NewAttr("id","password"),l.Attr().NewAttr("type","password")]));b8=function(){return function(b_){return b_.KeyCode===13?r("#login-btn").click():null;};};C.Events().OnKeyDown(b8,b7);return b7;})},Control:$.Class({get_Body:function(){return A.loginForm(this.redirectUrl);}})},Msdn:{Control:$.Class({get_Body:function(){return D.main();}}),hideProress:function(){return r("[data-status=\"loading\"]").length===0?r("#progress-bar").slideUp():r("[data-spy=\"scroll\"]").each(function(){return r(this).scrollspy.call(null,"refresh");});},main:function(){var b$;b$=l.Div(m.ofArray([s.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(ca){var cb;cb=l.UL(m.ofArray([l.Attr().Class("list-group")]));r.getJSON("http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=https%3A%2F%2Fsocial.msdn.microsoft.com%2FForums%2Fen-US%2Ffsharpgeneral%2Fthreads%3FoutputAs%3Drss",$.Tupled(function(cc){var cd,ce,cf,cg,ch,ci;cd=cc[0];ce=cc[1];cf=cd.responseData.feed.entries;for(cg=0;cg<=cf.length-1;cg++){ch=t.GetArray(cf,cg);ci=ch.link;cb.AppendI(k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",ci),l.Attr().NewAttr("target","_blank"),l.Text(ch.title)]))])),l.P(m.ofArray([l.Text(ch.contentSnippet)]))])));}return;}));ca.AppendI(cb);v.Log("Appended MSDN list");ca["HtmlProvider@32"].RemoveAttribute(ca.Body,"data-status");return D.hideProress();},b$);return b$;}},News:{Control:$.Class({get_Body:function(){return E.main();}}),hideProress:function(){return r("[data-status=\"loading\"]").length===0?r("#progress-bar").slideUp():r("[data-spy=\"scroll\"]").each(function(){return r(this).scrollspy.call(null,"refresh");});},main:function(){var cj;cj=l.Div(m.ofArray([s.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(ck){var cl;cl=l.UL(m.ofArray([l.Attr().NewAttr("id","news-list"),l.Attr().Class("list-group")]));r.getJSON("http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=http%3A%2F%2Ffpish.net%2Frss%2Fblogs%2Ftag%2F1%2Ff~23",$.Tupled(function(cm){var cn,co,cp;cn=cm[0];co=cm[1];cp=cn.responseData.feed.entries;return F.iter(function(cq){var cr;cr=cq.link;return cl.AppendI(k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",cr),l.Attr().NewAttr("target","_blank"),l.Text(cq.title)]))])),l.P(m.ofArray([l.Text(cq.contentSnippet)]))])));},cp);}));ck.AppendI(cl);v.Log("Appended news list");ck["HtmlProvider@32"].RemoveAttribute(ck.Body,"data-status");return E.hideProress();},cj);return cj;}},Utils:{skip:function(cs,ct){return u.skip(ct,cs);},split:function(cu,cv){var cw;cw=function(cx){return u.toList(u.delay(function(){return u.append([G.truncate(cx,cu)],u.delay(function(){return u.length(cx)<=cu?u.empty():cw(G.skip(cx,cu));}));}));};return cw(cv);},truncate:function(cA,cB){return u.truncate(cB,cA);}},VideosAdmin:{Client:{main:function(){var cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cS,cT;cC=c.Input("");cD=d.WithTextLabel("Title",cC);cE=c.Input("");cF=d.WithTextLabel("URL",cE);cG=c.Input("");cH=d.WithTextLabel("Thumbnail",cG);cI=c.Input("");cJ=d.WithTextLabel("Website",cI);cK=c.Input("");cL=d.WithTextLabel("Date",cK);cM=e.$(e.$(e.$(e.$(e.$(f.Return(function(cN){return function(cO){return function(cP){return function(cQ){return function(cR){return[cN,cO,cP,cQ,cR];};};};};}),cD),cF),cH),cJ),cL);cS=d.WithSubmitAndResetButtons(cM);cT=d.WithFormContainer(cS);return f.Run($.Tupled(function(cU){var cV,cW,cX,cY,cZ;cV=cU[0];cW=cU[1];cX=cU[2];cY=cU[3];cZ=cU[4];return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:0",[cV,cW,cX,cY,cZ]),function(c1){if(c1){i("New video inserted successfully.");return g.Return(null);}else{i("The query failed.");return g.Return(null);}});}));}),cT);}},Control:$.Class({get_Body:function(){return I.main();}})}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Formlet);c=$.Safe(b.Controls);d=$.Safe(b.Enhance);e=$.Safe(b.Data);f=$.Safe(b.Formlet);g=$.Safe(a.Concurrency);h=$.Safe(a.Remoting);i=$.Safe($$.alert);j=$.Safe(a.Html);k=$.Safe(j.Operators);l=$.Safe(j.Default);m=$.Safe(a.List);n=$.Safe($$.Website);o=$.Safe(n.BooksAdmin);p=$.Safe(o.Client);q=$.Safe(n.FPish);r=$.Safe($$.jQuery);s=$.Safe(l.HTML5);t=$.Safe(a.IntrinsicFunctionProxy);u=$.Safe(a.Seq);v=$.Safe(a.JavaScript);w=$.Safe(n.FSSnip);x=$.Safe(w.Client);y=$.Safe(n.GoogleGroup);z=$.Safe(n.Login);A=$.Safe(z.Client);B=$.Safe($$.window);C=$.Safe(j.EventsPervasives);D=$.Safe(n.Msdn);E=$.Safe(n.News);F=$.Safe(a.Arrays);G=$.Safe(n.Utils);H=$.Safe(n.VideosAdmin);return I=$.Safe(H.Client);});$.OnLoad(function(){A.passInput();p.addFormlet();return;});}());
