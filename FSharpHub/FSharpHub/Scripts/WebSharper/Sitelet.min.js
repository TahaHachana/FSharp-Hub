(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P;$.Define($$,{Website:{BooksAdmin:{Client:{addFormlet:$.Field(function(){var Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,bf,bg;Q=c.Input("");R=d.WithTextLabel("URL",Q);S=c.Input("");T=d.WithTextLabel("Title",S);U=d.WithTextLabel("Author",c.Input(""));V=d.Many(U);W=d.WithFormContainer(V);X=c.Input("");Y=d.WithTextLabel("Publisher",X);Z=c.Input("");_0=d.WithTextLabel("ISBN",Z);_1=c.Input("");_2=d.WithTextLabel("Pages",_1);_3=c.Input("");_4=d.WithTextLabel("Release Date",_3);_5=c.Input("");_6=d.WithTextLabel("Cover URL",_5);_7=e.$(e.$(e.$(e.$(e.$(e.$(e.$(e.$(f.Return(function(_8){return function(_9){return function(_){return function(ba){return function(bb){return function(bc){return function(bd){return function(be){return[_8,_9,_,ba,bb,bc,bd,be];};};};};};};};}),R),T),W),Y),_0),_2),_4),_6);bf=d.WithSubmitAndResetButtons(_7);bg=d.WithFormContainer(bf);return f.Run($.Tupled(function(bh){var bi,bj,bk,bl,bm,bn,bo,bp;bi=bh[0];bj=bh[1];bk=bh[2];bl=bh[3];bm=bh[4];bn=bh[5];bo=bh[6];bp=bh[7];return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:10",[bi,bj,bk,bl,bm,bn,bo,bp]),function(br){if(br){i("New book inserted successfully.");return g.Return(null);}else{i("The query failed.");return g.Return(null);}});}));}),bg);}),main:function(){return k.add(l.Div(m.ofArray([l.Attr().Class("row")])),m.ofArray([l.Div(m.ofArray([l.H1(m.ofArray([l.Text("Add new book")])),l.Div(m.ofArray([p.addFormlet()]))]))]));},tr:function(br,bs){return l.TR(m.ofArray([l.TD(m.ofArray([l.Text(br)])),l.TD(m.ofArray([l.Text(bs)]))]));}},Control:$.Class({get_Body:function(){return p.main();}})},GitHubRepos:{Client:{hideProress:function(){if(q("[data-status=\"loading\"]").length===0){q("#progress-bar").slideUp();return q("[data-spy=\"scroll\"]").each(function(){return q(this).scrollspy.call(null,"refresh");});}else{return q("[data-spy=\"scroll\"]").each(function(){return q(this).scrollspy.call(null,"refresh");});}},newRepos:function(){var bt;bt=l.Div(m.ofArray([r.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(bu){return g.Start(g.Delay(function(){var bw;bw=h.Async("Sitelet:2",[]);return g.Bind(bw,function(bx){s.iter(function(by){return bu.AppendI(k.add(l.Div(m.ofArray([l.Attr().Class("row data-row")])),by));},t.split(2,u.mapi(function(bz){return function(bA){var bB,bC,bD,bE;bB=bz%2===0?"col-md-5":"col-md-5 col-md-offset-1";bC=bA.ownerLink;bD=bA.ownerAvatar;bE=bA.link;return k.add(l.Div(m.ofArray([l.Attr().Class(bB)])),m.ofArray([k.add(l.Div(m.ofArray([l.Attr().Class("media")])),m.ofArray([k.add(l.A(m.ofArray([l.Attr().Class("media-left"),l.Attr().NewAttr("href",bC),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Img(m.ofArray([l.Attr().NewAttr("style","width: 30px; height: 30px;"),l.Attr().NewAttr("src",bD)]))])),k.add(l.Div(m.ofArray([l.Attr().Class("media-body")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("media-heading"),l.Attr().NewAttr("style","word-break: break-word;")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",bE),l.Attr().NewAttr("target","_blank"),l.Text(bA.name)]))])),l.P(m.ofArray([l.Text(bA.createdAt)])),l.P(m.ofArray([l.Text(bA.description)]))]))]))]));};},bx)));bu["HtmlProvider@32"].RemoveAttribute(bu.Body,"data-status");w.hideProress();return g.Return(null);});}));},bt);return bt;},updatedRepos:function(){var bF;bF=l.Div(m.ofArray([r.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(bG){return g.Start(g.Delay(function(){var bI;bI=h.Async("Sitelet:3",[]);return g.Bind(bI,function(bJ){s.iter(function(bK){return bG.AppendI(k.add(l.Div(m.ofArray([l.Attr().Class("row data-row")])),bK));},t.split(2,u.mapi(function(bL){return function(bM){var bN,bO,bP,bQ;bN=bL%2===0?"col-md-5":"col-md-5 col-md-offset-1";bO=bM.ownerLink;bP=bM.ownerAvatar;bQ=bM.link;return k.add(l.Div(m.ofArray([l.Attr().Class(bN)])),m.ofArray([k.add(l.Div(m.ofArray([l.Attr().Class("media")])),m.ofArray([k.add(l.A(m.ofArray([l.Attr().Class("media-left"),l.Attr().NewAttr("href",bO),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Img(m.ofArray([l.Attr().NewAttr("style","width: 30px; height: 30px;"),l.Attr().NewAttr("src",bP)]))])),k.add(l.Div(m.ofArray([l.Attr().Class("media-body")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("media-heading"),l.Attr().NewAttr("style","word-break: break-word;")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",bQ),l.Attr().NewAttr("target","_blank"),l.Text(bM.name)]))])),l.P(m.ofArray([l.Text(bM.pushedAt)])),l.P(m.ofArray([l.Text(bM.description)]))]))]))]));};},bJ)));bG["HtmlProvider@32"].RemoveAttribute(bG.Body,"data-status");w.hideProress();return g.Return(null);});}));},bF);return bF;}},NewReposControl:$.Class({get_Body:function(){return w.newRepos();}}),UpdatedReposControl:$.Class({get_Body:function(){return w.updatedRepos();}})},Login:{Client:{loginForm:function(bR){var bS,bT,bU,bZ,b0,b1,b2,b3;bS=l.Input(m.ofArray([l.Attr().Class("form-control"),l.Attr().NewAttr("id","username"),l.Attr().NewAttr("type","text"),r.Attr().NewAttr("autofocus","autofocus")]));bT=k.add(l.Button(m.ofArray([l.Attr().Class("btn btn-primary btn-block"),l.Attr().NewAttr("id","login-btn"),l.Attr().NewAttr("type","button")])),m.ofArray([l.Text("Submit")]));bU=function(){return function(){return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:8",[{Name:bS.get_Value(),Password:y.passInput().get_Value()}]),function(bY){if(bY.$==1){z.location.assign(bR);return g.Return(null);}else{i("Login failed");return g.Return(null);}});}));};};A.Events().OnClick(bU,bT);bZ=bT;b0=m.ofArray([l.Attr().Class("form-group")]);b1=m.ofArray([l.Text("Username"),l.Attr().NewAttr("for","username")]);b2=m.ofArray([l.Text("Password"),l.Attr().NewAttr("for","password")]);b3=m.ofArray([bZ]);return k.add(l.Form(m.ofArray([l.Attr().NewAttr("role","form"),l.Attr().NewAttr("id","signin")])),m.ofArray([l.H2(m.ofArray([l.Text("Please sign in")])),k.add(l.Tags().NewTag("fieldset",b0),m.ofArray([l.Tags().NewTag("label",b1),bS,l.Tags().NewTag("label",b2),y.passInput()])),l.Tags().NewTag("fieldset",b3)]));},passInput:$.Field(function(){var b4,b5;b4=l.Input(m.ofArray([l.Attr().Class("form-control"),l.Attr().NewAttr("id","password"),l.Attr().NewAttr("type","password")]));b5=function(){return function(b7){return b7.KeyCode===13?q("#login-btn").click():null;};};A.Events().OnKeyDown(b5,b4);return b4;})},Control:$.Class({get_Body:function(){return y.loginForm(this.redirectUrl);}})},News:{Control:$.Class({get_Body:function(){return B.main();}}),main:$.Field(function(){var b8;b8=l.UL(m.ofArray([l.Attr().NewAttr("id","news-list")]));q.getJSON("http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=http%3A%2F%2Ffpish.net%2Frss%2Fblogs%2Ftag%2F1%2Ff~23",$.Tupled(function(b9){var b_,b$,ca,cb;b_=b9[0];b$=b9[1];ca=b_.responseData.feed.entries;cb=C.GetArraySlice(ca,{$:0},{$:1,$0:4});return u.iter(function(cc){var cd;cd=cc.link;return b8.AppendI(l.LI(m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",cd),l.Attr().NewAttr("target","_blank"),l.Text(cc.title)]))])),l.P(m.ofArray([l.Text(cc.contentSnippet)]))])));},cb);}));return l.Div(m.ofArray([b8]));})},NuGet:{Client:{hideProress:function(){if(q("[data-status=\"loading\"]").length===0){q("#progress-bar").slideUp();return q("[data-spy=\"scroll\"]").each(function(){return q(this).scrollspy.call(null,"refresh");});}else{return q("[data-spy=\"scroll\"]").each(function(){return q(this).scrollspy.call(null,"refresh");});}},main:function(){var ce;ce=l.Div(m.ofArray([r.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(cf){return g.Start(g.Delay(function(){var ch;ch=h.Async("Sitelet:1",[]);return g.Bind(ch,function(ci){s.iter(function(cj){return cf.AppendI(k.add(l.Div(m.ofArray([l.Attr().Class("row data-row")])),cj));},t.split(2,u.mapi(function(ck){return function(cl){var cm,cn,co,cp;cm=ck%2===0?"col-md-5":"col-md-5 col-md-offset-1";cn=cl.projectUrl;co=cl.iconUrl;cp=cl.galleryDetailsUrl;return k.add(l.Div(m.ofArray([l.Attr().Class(cm)])),m.ofArray([k.add(l.Div(m.ofArray([l.Attr().Class("media")])),m.ofArray([k.add(l.A(m.ofArray([l.Attr().Class("media-left"),l.Attr().NewAttr("href",cn),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Img(m.ofArray([l.Attr().NewAttr("src",co),l.Attr().Class("avatar")]))])),k.add(l.Div(m.ofArray([l.Attr().Class("media-body")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("media-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",cp),l.Attr().NewAttr("target","_blank"),l.Text(cl.id+" "+cl.version)]))])),l.P(m.ofArray([l.Text("Pushed on: "+cl.lastUpdated)])),l.P(m.ofArray([l.Text("Download Count: "),l.Span(m.ofArray([l.Attr().Class("badge"),l.Text($$.String(cl.downloadCount))]))])),l.Div(s.toList(s.delay(function(){return s.map(function(cr){return l.Span(m.ofArray([l.Attr().Class("label label-info"),l.Text(cr)]));},cl.tags);})))]))]))]));};},ci)));cf["HtmlProvider@32"].RemoveAttribute(cf.Body,"data-status");E.hideProress();return g.Return(null);});}));},ce);return ce;}},Control:$.Class({get_Body:function(){return E.main();}})},Questions:{Client:{displayQuestions:function(cs,ct){var cu;cu=l.UL(m.ofArray([l.Attr().Class("list-group"),l.Id("questions-list")]));u.iter(function(cv){return cu.AppendI(cv);},u.map($.Tupled(function(cw){return G.li(cw[0],cw[1],cw[2],cw[3],cw[4]);}),cs));return ct.AppendI(cu);},li:function(cx,cy,cz,cA,cB){var cC,cD;cC=m.ofArray([l.Text(cy)]);cD=m.ofArray([l.Text(cz+", "+cA)]);return k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.A(m.ofArray([l.HRef(cx),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Tags().NewTag("strong",cC)])),l.Br($.New(H,{$:0})),l.Tags().NewTag("small",cD),l.P(m.ofArray([l.Text(cB)]))]));},main:function(){var cE;cE=l.Div(m.ofArray([l.Attr().Class("home-widget")]));k.OnAfterRender(function(cF){return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:7",[]),function(cH){if(cH.$==1){G.displayQuestions(cH.$0,cF);return g.Return(null);}else{return g.Return(null);}});}));},cE);return cE;}},Control:$.Class({get_Body:function(){return G.main();}})},Snippets:{Client:{dispalySnippets:function(cI,cJ){var cK;cK=l.UL(m.ofArray([l.Attr().Class("list-group")]));u.iter(function(cL){return cK.AppendI(cL);},u.map($.Tupled(function(cM){return J.li(cM[0],cM[1],cM[2]);}),cI));return cJ.AppendI(cK);},li:function(cN,cO,cP){var cQ;cQ=m.ofArray([l.Text(cO)]);return k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.A(m.ofArray([l.HRef(cN),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Tags().NewTag("strong",cQ)])),l.P(m.ofArray([l.Text(cP)]))]));},main:function(){var cR;cR=l.Div(m.ofArray([l.Attr().Class("home-widget")]));k.OnAfterRender(function(cS){return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:6",[]),function(cU){if(cU.$==1){J.dispalySnippets(cU.$0,cS);return g.Return(null);}else{return g.Return(null);}});}));},cR);return cR;}},Control:$.Class({get_Body:function(){return J.main();}})},StackOverflow:{Client:{hideProress:function(){if(q("[data-status=\"loading\"]").length===0){q("#progress-bar").slideUp();return q("[data-spy=\"scroll\"]").each(function(){return q(this).scrollspy.call(null,"refresh");});}else{return q("[data-spy=\"scroll\"]").each(function(){return q(this).scrollspy.call(null,"refresh");});}},main:function(){var cV;cV=l.Div(m.ofArray([r.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(cW){return g.Start(g.Delay(function(){var cY;cY=h.Async("Sitelet:4",[]);return g.Bind(cY,function(cZ){s.iter(function(c0){return cW.AppendI(k.add(l.Div(m.ofArray([l.Attr().Class("row data-row")])),c0));},t.split(2,u.mapi(function(c1){return function(c2){var c3,c4,c5,c6;c3=c1%2===0?"col-md-5":"col-md-5 col-md-offset-1";c4=c2.ownerLink;c5=c2.ownerAvatar;c6=c2.link;return k.add(l.Div(m.ofArray([l.Attr().Class(c3)])),m.ofArray([k.add(l.Div(m.ofArray([l.Attr().Class("media")])),m.ofArray([k.add(l.A(m.ofArray([l.Attr().Class("media-left"),l.Attr().NewAttr("href",c4),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Img(m.ofArray([l.Attr().NewAttr("src",c5),l.Attr().Class("avatar")]))])),k.add(l.Div(m.ofArray([l.Attr().Class("media-body")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("media-heading"),l.Attr().NewAttr("style","word-break: break-word;")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",c6),l.Attr().NewAttr("target","_blank"),l.Text(c2.title)]))])),l.P(m.ofArray([l.Text(c2.creationDate)])),l.P(m.ofArray([l.Text("Score: "),l.Span(m.ofArray([l.Attr().Class("badge"),l.Text($$.String(c2.score))])),l.Text(" Answers: "),l.Span(m.ofArray([l.Attr().Class("badge"),l.Text($$.String(c2.answerCount))]))])),l.Div(s.toList(s.delay(function(){return s.map(function(c8){return l.Span(m.ofArray([l.Attr().Class("label label-info"),l.Text(c8)]));},c2.tags);})))]))]))]));};},cZ)));cW["HtmlProvider@32"].RemoveAttribute(cW.Body,"data-status");L.hideProress();return g.Return(null);});}));},cV);return cV;}},Control:$.Class({get_Body:function(){return L.main();}})},Twitter:{Client:{hideProress:function(){if(q("[data-status=\"loading\"]").length===0){q("#progress-bar").slideUp();return q("[data-spy=\"scroll\"]").each(function(){return q(this).scrollspy.call(null,"refresh");});}else{return q("[data-spy=\"scroll\"]").each(function(){return q(this).scrollspy.call(null,"refresh");});}},main:function(){var c9;c9=l.Div(m.ofArray([r.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(c_){return g.Start(g.Delay(function(){var da;da=h.Async("Sitelet:5",[]);return g.Bind(da,function(db){s.iter(function(dc){return c_.AppendI(k.add(l.Div(m.ofArray([l.Attr().Class("row data-row")])),dc));},t.split(2,u.mapi(function(dd){return function(de){var df,dg,dh,di,dj,dk,dl,dm,dn,_do;df=dd%2===0?"col-md-5":"col-md-5 col-md-offset-1";dg=l.P($.New(H,{$:0}));dg.set_Html(de.statusAsHtml);dh=de.isRetweeted?[de.retweetedScreenName.$0,de.retweetedId.$0]:[de.screenName,de.id];di=dh[1];dj=dh[0];dk="https://twitter.com/"+de.screenName;dl=de.avatar;dm="https://twitter.com/"+de.screenName;_do="https://twitter.com/"+dj+"/status/"+di;dn=m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",_do),l.Attr().NewAttr("target","_blank"),l.Text(de.createdAt)]))]);return k.add(l.Div(m.ofArray([l.Attr().Class(df)])),m.ofArray([k.add(l.Div(m.ofArray([l.Attr().Class("media")])),m.ofArray([k.add(l.A(m.ofArray([l.Attr().Class("media-left"),l.Attr().NewAttr("href",dk),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Img(m.ofArray([l.Attr().NewAttr("src",dl),l.Attr().Class("avatar")]))])),k.add(l.Div(m.ofArray([l.Attr().Class("media-body")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("media-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",dm),l.Attr().NewAttr("target","_blank"),l.Text(de.screenName)])),l.Text(" "),l.Tags().NewTag("small",dn)])),dg]))]))]));};},db)));c_["HtmlProvider@32"].RemoveAttribute(c_.Body,"data-status");N.hideProress();return g.Return(null);});}));},c9);return c9;}},Control:$.Class({get_Body:function(){return N.main();}})},Utils:{skip:function(dp,dq){return s.skip(dq,dp);},split:function(dr,ds){var dt;dt=function(du){return s.toList(s.delay(function(){return s.append([t.truncate(du,dr)],s.delay(function(){return s.length(du)<=dr?s.empty():dt(t.skip(du,dr));}));}));};return dt(ds);},truncate:function(dx,dy){return s.truncate(dy,dx);}},VideosAdmin:{Client:{main:function(){var dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dP,dQ;dz=c.Input("");dA=d.WithTextLabel("Title",dz);dB=c.Input("");dC=d.WithTextLabel("URL",dB);dD=c.Input("");dE=d.WithTextLabel("Thumbnail",dD);dF=c.Input("");dG=d.WithTextLabel("Website",dF);dH=c.Input("");dI=d.WithTextLabel("Date",dH);dJ=e.$(e.$(e.$(e.$(e.$(f.Return(function(dK){return function(dL){return function(dM){return function(dN){return function(dO){return[dK,dL,dM,dN,dO];};};};};}),dA),dC),dE),dG),dI);dP=d.WithSubmitAndResetButtons(dJ);dQ=d.WithFormContainer(dP);return f.Run($.Tupled(function(dR){var dS,dT,dU,dV,dW;dS=dR[0];dT=dR[1];dU=dR[2];dV=dR[3];dW=dR[4];return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:0",[dS,dT,dU,dV,dW]),function(dY){if(dY){i("New video inserted successfully.");return g.Return(null);}else{i("The query failed.");return g.Return(null);}});}));}),dQ);}},Control:$.Class({get_Body:function(){return P.main();}})}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Formlet);c=$.Safe(b.Controls);d=$.Safe(b.Enhance);e=$.Safe(b.Data);f=$.Safe(b.Formlet);g=$.Safe(a.Concurrency);h=$.Safe(a.Remoting);i=$.Safe($$.alert);j=$.Safe(a.Html);k=$.Safe(j.Operators);l=$.Safe(j.Default);m=$.Safe(a.List);n=$.Safe($$.Website);o=$.Safe(n.BooksAdmin);p=$.Safe(o.Client);q=$.Safe($$.jQuery);r=$.Safe(l.HTML5);s=$.Safe(a.Seq);t=$.Safe(n.Utils);u=$.Safe(a.Arrays);v=$.Safe(n.GitHubRepos);w=$.Safe(v.Client);x=$.Safe(n.Login);y=$.Safe(x.Client);z=$.Safe($$.window);A=$.Safe(j.EventsPervasives);B=$.Safe(n.News);C=$.Safe(a.OperatorIntrinsics);D=$.Safe(n.NuGet);E=$.Safe(D.Client);F=$.Safe(n.Questions);G=$.Safe(F.Client);H=$.Safe(m.T);I=$.Safe(n.Snippets);J=$.Safe(I.Client);K=$.Safe(n.StackOverflow);L=$.Safe(K.Client);M=$.Safe(n.Twitter);N=$.Safe(M.Client);O=$.Safe(n.VideosAdmin);return P=$.Safe(O.Client);});$.OnLoad(function(){B.main();y.passInput();p.addFormlet();return;});}());
