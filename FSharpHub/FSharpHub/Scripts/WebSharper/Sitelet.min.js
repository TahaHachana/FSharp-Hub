(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;$.Define($$,{Website:{BooksAdmin:{Client:{addFormlet:$.Field(function(){var I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_8,_9;I=c.Input("");J=d.WithTextLabel("URL",I);K=c.Input("");L=d.WithTextLabel("Title",K);M=d.WithTextLabel("Author",c.Input(""));N=d.Many(M);O=d.WithFormContainer(N);P=c.Input("");Q=d.WithTextLabel("Publisher",P);R=c.Input("");S=d.WithTextLabel("ISBN",R);T=c.Input("");U=d.WithTextLabel("Pages",T);V=c.Input("");W=d.WithTextLabel("Release Date",V);X=c.Input("");Y=d.WithTextLabel("Cover URL",X);Z=e.$(e.$(e.$(e.$(e.$(e.$(e.$(e.$(f.Return(function(_0){return function(_1){return function(_2){return function(_3){return function(_4){return function(_5){return function(_6){return function(_7){return[_0,_1,_2,_3,_4,_5,_6,_7];};};};};};};};}),J),L),O),Q),S),U),W),Y);_8=d.WithSubmitAndResetButtons(Z);_9=d.WithFormContainer(_8);return f.Run($.Tupled(function(_){var ba,bb,bc,bd,be,bf,bg,bh;ba=_[0];bb=_[1];bc=_[2];bd=_[3];be=_[4];bf=_[5];bg=_[6];bh=_[7];return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:4",[ba,bb,bc,bd,be,bf,bg,bh]),function(bj){if(bj){i("New book inserted successfully.");return g.Return(null);}else{i("The query failed.");return g.Return(null);}});}));}),_9);}),main:function(){return k.add(l.Div(m.ofArray([l.Attr().Class("row")])),m.ofArray([l.Div(m.ofArray([l.H1(m.ofArray([l.Text("Add new book")])),l.Div(m.ofArray([p.addFormlet()]))]))]));},tr:function(bj,bk){return l.TR(m.ofArray([l.TD(m.ofArray([l.Text(bj)])),l.TD(m.ofArray([l.Text(bk)]))]));}},Control:$.Class({get_Body:function(){return p.main();}})},FPish:{Control:$.Class({get_Body:function(){return q.main();}}),itemLi:function(bl){var bm;bm=bl.link;return k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",bm),l.Attr().NewAttr("target","_blank"),l.Text(bl.title)]))])),l.Div(r.toList(r.delay(function(){return r.map(function(bo){return k.add(l.Span(m.ofArray([l.Attr().Class("label label-info")])),m.ofArray([l.Text(bo)]));},bl.categories);})))]));},main:function(){var bp;bp=l.Div(m.ofArray([s.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(bq){return t.displayFeed("http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=http%3A%2F%2Ffpish.net%2Frss%2Ftopics%2Fall",function(br){return q.itemLi(br);},bq);},bp);return bp;}},FSSnip:{Client:{main:function(){var bs;bs=l.Div(m.ofArray([s.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(bt){return g.Start(g.Delay(function(){var bv;bv=h.Async("Sitelet:1",[]);return g.Bind(bv,function(bw){var bx,by,bB;bx=l.UL(m.ofArray([l.Attr().Class("list-group")]));by=g.For(bw,function(bz){var bA;bA=bz.link;bx.AppendI(k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",bA),l.Attr().NewAttr("target","_blank"),l.Text(bz.title)]))])),l.P(m.ofArray([l.Text(bz.description)])),l.P(m.ofArray([l.Text("Published "+bz.published+" by "+bz.author)]))])));return g.Return(null);});bB=g.Delay(function(){bt.AppendI(bx);bt["HtmlProvider@32"].RemoveAttribute(bt.Body,"data-status");t.hideProress();return g.Return(null);});return g.Bind(by,function(){return bB;});});}));},bs);return bs;}},Control:$.Class({get_Body:function(){return v.main();}})},GoogleGroup:{Control:$.Class({get_Body:function(){return w.main();}}),itemLi:function(bE){var bF;bF=bE.link;return k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",bF),l.Attr().NewAttr("target","_blank"),l.Text(bE.title)]))])),l.P(m.ofArray([l.Text(bE.contentSnippet)])),l.P(m.ofArray([l.Text("Author: "+bE.author)]))]));},main:function(){var bG;bG=l.Div(m.ofArray([s.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(bH){return t.displayFeed("http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q=https%3A%2F%2Fgroups.google.com%2Fforum%2Ffeed%2Ffsharp-opensource%2Ftopics%2Frss.xml%3Fnum%3D15",function(bI){return w.itemLi(bI);},bH);},bG);return bG;}},JsUtils:{displayFeed:function(bJ,bK,bL){var bM;bM=l.UL(m.ofArray([l.Attr().Class("list-group")]));x.getJSON(bJ,$.Tupled(function(bN){return y.iter(function(bO){return bM.AppendI(bK(bO));},bN[0].responseData.feed.entries);}));bL.AppendI(bM);bL["HtmlProvider@32"].RemoveAttribute(bL.Body,"data-status");return t.hideProress();},hideProress:function(){return x("[data-status=\"loading\"]").length===0?x("#progress-bar").slideUp():x("[data-spy=\"scroll\"]").each(function(){return x(this).scrollspy.call(null,"refresh");});}},Login:{Client:{loginForm:function(bP){var bQ,bR,bS,bX,bY,bZ,b0,b1;bQ=l.Input(m.ofArray([l.Attr().Class("form-control"),l.Attr().NewAttr("id","username"),l.Attr().NewAttr("type","text"),s.Attr().NewAttr("autofocus","autofocus")]));bR=k.add(l.Button(m.ofArray([l.Attr().Class("btn btn-primary btn-block"),l.Attr().NewAttr("id","login-btn"),l.Attr().NewAttr("type","button")])),m.ofArray([l.Text("Submit")]));bS=function(){return function(){return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:2",[{Name:bQ.get_Value(),Password:A.passInput().get_Value()}]),function(bW){if(bW.$==1){B.location.assign(bP);return g.Return(null);}else{i("Login failed");return g.Return(null);}});}));};};C.Events().OnClick(bS,bR);bX=bR;bY=m.ofArray([l.Attr().Class("form-group")]);bZ=m.ofArray([l.Text("Username"),l.Attr().NewAttr("for","username")]);b0=m.ofArray([l.Text("Password"),l.Attr().NewAttr("for","password")]);b1=m.ofArray([bX]);return k.add(l.Form(m.ofArray([l.Attr().NewAttr("role","form"),l.Attr().NewAttr("id","signin")])),m.ofArray([l.H2(m.ofArray([l.Text("Please sign in")])),k.add(l.Tags().NewTag("fieldset",bY),m.ofArray([l.Tags().NewTag("label",bZ),bQ,l.Tags().NewTag("label",b0),A.passInput()])),l.Tags().NewTag("fieldset",b1)]));},passInput:$.Field(function(){var b2,b3;b2=l.Input(m.ofArray([l.Attr().Class("form-control"),l.Attr().NewAttr("id","password"),l.Attr().NewAttr("type","password")]));b3=function(){return function(b5){return b5.KeyCode===13?x("#login-btn").click():null;};};C.Events().OnKeyDown(b3,b2);return b2;})},Control:$.Class({get_Body:function(){return A.loginForm(this.redirectUrl);}})},Msdn:{Control:$.Class({get_Body:function(){return D.main();}}),itemLi:function(b6){var b7;b7=b6.link;return k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",b7),l.Attr().NewAttr("target","_blank"),l.Text(b6.title)]))])),l.P(m.ofArray([l.Text(b6.contentSnippet)]))]));},main:function(){var b8;b8=l.Div(m.ofArray([s.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(b9){return t.displayFeed("http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=https%3A%2F%2Fsocial.msdn.microsoft.com%2FForums%2Fen-US%2Ffsharpgeneral%2Fthreads%3FoutputAs%3Drss",function(b_){return D.itemLi(b_);},b9);},b8);return b8;}},News:{Control:$.Class({get_Body:function(){return E.main();}}),itemLi:function(b$){var ca;ca=b$.link;return k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",ca),l.Attr().NewAttr("target","_blank"),l.Text(b$.title)]))])),l.P(m.ofArray([l.Text(b$.contentSnippet)]))]));},main:function(){var cb;cb=l.Div(m.ofArray([s.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(cc){return t.displayFeed("http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=http%3A%2F%2Ffpish.net%2Frss%2Fblogs%2Ftag%2F1%2Ff~23",function(cd){return E.itemLi(cd);},cc);},cb);return cb;}},Utils:{skip:function(ce,cf){return r.skip(cf,ce);},split:function(cg,ch){var ci;ci=function(cj){return r.toList(r.delay(function(){return r.append([F.truncate(cj,cg)],r.delay(function(){return r.length(cj)<=cg?r.empty():ci(F.skip(cj,cg));}));}));};return ci(ch);},truncate:function(cm,cn){return r.truncate(cn,cm);}},VideosAdmin:{Client:{main:function(){var co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cE,cF;co=c.Input("");cp=d.WithTextLabel("Title",co);cq=c.Input("");cr=d.WithTextLabel("URL",cq);cs=c.Input("");ct=d.WithTextLabel("Thumbnail",cs);cu=c.Input("");cv=d.WithTextLabel("Website",cu);cw=c.Input("");cx=d.WithTextLabel("Date",cw);cy=e.$(e.$(e.$(e.$(e.$(f.Return(function(cz){return function(cA){return function(cB){return function(cC){return function(cD){return[cz,cA,cB,cC,cD];};};};};}),cp),cr),ct),cv),cx);cE=d.WithSubmitAndResetButtons(cy);cF=d.WithFormContainer(cE);return f.Run($.Tupled(function(cG){var cH,cI,cJ,cK,cL;cH=cG[0];cI=cG[1];cJ=cG[2];cK=cG[3];cL=cG[4];return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:0",[cH,cI,cJ,cK,cL]),function(cN){if(cN){i("New video inserted successfully.");return g.Return(null);}else{i("The query failed.");return g.Return(null);}});}));}),cF);}},Control:$.Class({get_Body:function(){return H.main();}})}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Formlet);c=$.Safe(b.Controls);d=$.Safe(b.Enhance);e=$.Safe(b.Data);f=$.Safe(b.Formlet);g=$.Safe(a.Concurrency);h=$.Safe(a.Remoting);i=$.Safe($$.alert);j=$.Safe(a.Html);k=$.Safe(j.Operators);l=$.Safe(j.Default);m=$.Safe(a.List);n=$.Safe($$.Website);o=$.Safe(n.BooksAdmin);p=$.Safe(o.Client);q=$.Safe(n.FPish);r=$.Safe(a.Seq);s=$.Safe(l.HTML5);t=$.Safe(n.JsUtils);u=$.Safe(n.FSSnip);v=$.Safe(u.Client);w=$.Safe(n.GoogleGroup);x=$.Safe($$.jQuery);y=$.Safe(a.Arrays);z=$.Safe(n.Login);A=$.Safe(z.Client);B=$.Safe($$.window);C=$.Safe(j.EventsPervasives);D=$.Safe(n.Msdn);E=$.Safe(n.News);F=$.Safe(n.Utils);G=$.Safe(n.VideosAdmin);return H=$.Safe(G.Client);});$.OnLoad(function(){A.passInput();p.addFormlet();return;});}());
