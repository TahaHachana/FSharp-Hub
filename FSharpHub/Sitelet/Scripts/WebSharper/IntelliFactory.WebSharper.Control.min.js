(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;$.Define($$,{IntelliFactory:{WebSharper:{Control:{Disposable:{Of:function(y){return{Dispose:y};}},Event:{Event:$.Class({AddHandler:function(z){return this.Handlers.Add(z);},RemoveHandler:function(A){var B;B=this.Handlers;return b.iter(function(C){return B.RemoveAt(C);},c.tryFindIndex(function(D){return d.Equals(A,D);},this.Handlers));},Subscribe:function(E){var F,I=this;F=function(G){return E.OnNext(G);};this.AddHandler(F);return f.Of(function(){return I.RemoveHandler(F);});},Trigger:function(J){var K,L;K=this.Handlers.ToArray();for(L=0;L<=K.length-1;L++){(g.GetArray(K,L))(J);}return;}})},EventModule:{Choose:function(M,N){var O;O=h.New();i.addListener(N,function(P){var Q;Q=M(P);return Q.$==0?null:O.event.Trigger(Q.$0);});return O.event;},Filter:function(R,S){var T;T=$.New(k,{Handlers:n.New1()});i.addListener(S,function(U){return R(U)?T.Trigger(U):null;});return T;},Map:function(V,W){var X;X=$.New(k,{Handlers:n.New1()});i.addListener(W,function(Y){return X.Trigger(V(Y));});return X;},Merge:function(Z,_0){var _1;_1=$.New(k,{Handlers:n.New1()});i.addListener(Z,function(_2){return _1.Trigger(_2);});i.addListener(_0,function(_3){return _1.Trigger(_3);});return _1;},Pairwise:function(_4){var _5,_6;_5={contents:{$:0}};_6=$.New(k,{Handlers:n.New1()});i.addListener(_4,function(_7){var _8,_9;_8=_5.contents;if(_8.$==1){_9=_8.$0;_5.contents={$:1,$0:_7};return _6.Trigger([_9,_7]);}else{_5.contents={$:1,$0:_7};return;}});return _6;},Partition:function(_,ba){return[o.Filter(_,ba),o.Filter(function(bb){return!_(bb);},ba)];},Scan:function(bb,bc,bd){var be;be={contents:bc};return o.Map(function(bf){be.contents=(bb(be.contents))(bf);return be.contents;},bd);},Split:function(bg,bh){return[o.Choose(function(bi){var bj;bj=bg(bi);return bj.$==0?{$:1,$0:bj.$0}:{$:0};},bh),o.Choose(function(bk){var bl;bl=bg(bk);return bl.$==1?{$:1,$0:bl.$0}:{$:0};},bh)];}},FSharpEvent:$.Class({},{New:function(){var bm;bm=$.New(this,{});bm.event=$.New(k,{Handlers:n.New1()});return bm;}}),HotStream:{HotStream:$.Class({Subscribe:function(bn){if(this.Latest.contents.$==1){bn.OnNext(this.Latest.contents.$0);}return i.subscribeTo(this.Event.event,function(bo){return bn.OnNext(bo);});},Trigger:function(bp){this.Latest.contents={$:1,$0:bp};return this.Event.event.Trigger(bp);}},{New:function(){return $.New(q,{Latest:{contents:{$:0}},Event:h.New()});}})},Observable:{Aggregate:function(bq,br,bs){return r.New(function(bt){var bu;bu={contents:br};return bq.Subscribe(s.New(function(bv){return r.Protect(function(){return(bs(bu.contents))(bv);},function(bx){bu.contents=bx;return bt.OnNext(bx);},function(by){return bt.OnError(by);});},function(bz){return bt.OnError(bz);},function(){return bt.OnCompleted();}));});},Choose:function(bB,bC){return r.New(function(bD){return bC.Subscribe(s.New(function(bE){var bG;bG=function(bH){return bD.OnNext(bH);};return r.Protect(function(){return bB(bE);},function(bI){return b.iter(bG,bI);},function(bJ){return bD.OnError(bJ);});},function(bK){return bD.OnError(bK);},function(){return bD.OnCompleted();}));});},CombineLatest:function(bM,bN,bO){return r.New(function(bP){var bQ,bR,bS,b0,b4,b8,b9;bQ={contents:{$:0}};bR={contents:{$:0}};bS=function(){var bU,bV,bW;bU=[bQ.contents,bR.contents];if(bU[0].$==1){if(bU[1].$==1){bV=bU[0].$0;bW=bU[1].$0;return r.Protect(function(){return(bO(bV))(bW);},function(bY){return bP.OnNext(bY);},function(bZ){return bP.OnError(bZ);});}else{return null;}}else{return null;}};b0=s.New(function(b1){bQ.contents={$:1,$0:b1};return bS(null);},function(){},function(){});b4=s.New(function(b5){bR.contents={$:1,$0:b5};return bS(null);},function(){},function(){});b8=bM.Subscribe(b0);b9=bN.Subscribe(b4);return f.Of(function(){b8.Dispose();return b9.Dispose();});});},Concat:function(b$,ca){return r.New(function(cb){var cc,cd;cc={contents:{$:0}};cd=b$.Subscribe(s.New(function(ce){return cb.OnNext(ce);},function(){},function(){cc.contents={$:1,$0:ca.Subscribe(cb)};}));return f.Of(function(){if(cc.contents.$==1){cc.contents.$0.Dispose();}return cd.Dispose();});});},Drop:function(ci,cj){return r.New(function(ck){var cl;cl={contents:0};return cj.Subscribe(s.New(function(cm){t.Increment(cl);return cl.contents>ci?ck.OnNext(cm):null;},function(cn){return ck.OnError(cn);},function(){return ck.OnCompleted();}));});},Filter:function(cp,cq){return r.New(function(cr){return cq.Subscribe(s.New(function(cs){var cu;cu=function(cv){return cr.OnNext(cv);};return r.Protect(function(){return cp(cs)?{$:1,$0:cs}:{$:0};},function(cw){return b.iter(cu,cw);},function(cx){return cr.OnError(cx);});},function(cy){return cr.OnError(cy);},function(){return cr.OnCompleted();}));});},Map:function(cA,cB){return r.New(function(cC){return cB.Subscribe(s.New(function(cD){return r.Protect(function(){return cA(cD);},function(cF){return cC.OnNext(cF);},function(cG){return cC.OnError(cG);});},function(cH){return cC.OnError(cH);},function(){return cC.OnCompleted();}));});},Merge:function(cJ,cK){return r.New(function(cL){var cM,cN,cO,cS;cM={contents:false};cN={contents:false};cO=cJ.Subscribe(s.New(function(cP){return cL.OnNext(cP);},function(){},function(){cM.contents=true;return(cM.contents?cN.contents:false)?cL.OnCompleted():null;}));cS=cK.Subscribe(s.New(function(cT){return cL.OnNext(cT);},function(){},function(){cN.contents=true;return(cM.contents?cN.contents:false)?cL.OnCompleted():null;}));return f.Of(function(){cO.Dispose();return cS.Dispose();});});},Never:function(){return r.New(function(){return f.Of(function(){});});},New:function(cZ){return $.New(u,{Subscribe1:cZ});},Observable:$.Class({Subscribe:function(c0){return this.Subscribe1.call(null,c0);}}),Of:function(c1){return r.New(function(c2){return f.Of(c1(function(c3){return c2.OnNext(c3);}));});},Protect:function(c4,c5,c6){var c7,c8;try{c7={$:0,$0:c4(null)};}catch(c8){c7={$:1,$0:c8};}return c7.$==1?c6(c7.$0):c5(c7.$0);},Range:function(c9,c_){return r.New(function(c$){var da;for(da=c9;da<=c9+c_;da++){c$.OnNext(da);}return f.Of(function(){});});},Return:function(dc){return r.New(function(dd){dd.OnNext(dc);dd.OnCompleted();return f.Of(function(){});});},SelectMany:function(df){return r.New(function(dg){var dh,dj;dh={contents:function(){}};dj=i.subscribeTo(df,function(dk){var dl;dl=i.subscribeTo(dk,function(dm){return dg.OnNext(dm);});dh.contents=function(){dh.contents.call(null,null);return dl.Dispose();};return;});return f.Of(function(){dh.contents.call(null,null);return dj.Dispose();});});},Sequence:function(dp){var dq;dq=function(dr){return dr.$==1?r.CombineLatest(dr.$0,dq(dr.$1),function(ds){return function(dt){return $.New(w,{$:1,$0:ds,$1:dt});};}):r.Return($.New(w,{$:0}));};return dq(v.ofSeq(dp));},Switch:function(du){return r.New(function(dv){var dw,dx;dw={contents:0};dx={contents:{$:0}};return i.subscribeTo(du,function(dy){var dz;t.Increment(dw);if(dx.contents.$==1){dx.contents.$0.Dispose();}dz=dw.contents;dx.contents={$:1,$0:i.subscribeTo(dy,function(dA){return dz===dw.contents?dv.OnNext(dA):null;})};return;});});}},ObservableModule:{Pairwise:function(dB){return r.New(function(dC){var dD;dD={contents:{$:0}};return dB.Subscribe(s.New(function(dE){var dF;dF=dD.contents;if(dF.$==1){dC.OnNext([dF.$0,dE]);}dD.contents={$:1,$0:dE};return;},function(dG){return dC.OnError(dG);},function(){return dC.OnCompleted();}));});},Partition:function(dI,dJ){return[r.Filter(dI,dJ),r.Filter(function(dK){return!dI(dK);},dJ)];},Scan:function(dL,dM,dN){return r.New(function(dO){var dP;dP={contents:dM};return dN.Subscribe(s.New(function(dQ){return r.Protect(function(){return(dL(dP.contents))(dQ);},function(dS){dP.contents=dS;return dO.OnNext(dS);},function(dT){return dO.OnError(dT);});},function(dU){return dO.OnError(dU);},function(){return dO.OnCompleted();}));});},Split:function(dW,dX){var dY;dY=function(dZ){var d0;d0=dW(dZ);return d0.$==1?{$:1,$0:d0.$0}:{$:0};};return[r.Choose(function(d1){var d2;d2=dW(d1);return d2.$==0?{$:1,$0:d2.$0}:{$:0};},dX),r.Choose(dY,dX)];}},Observer:{New:function(d3,d4,d5){return $.New(x,{onNext:d3,onError:d4,onCompleted:d5});},Observer:$.Class({OnCompleted:function(){return this.onCompleted.call(null,null);},OnError:function(d6){return this.onError.call(null,d6);},OnNext:function(d7){return this.onNext.call(null,d7);}}),Of:function(d8){return $.New(x,{onNext:function(d9){return d8(d9);},onError:function(d_){return t.Raise(d_);},onCompleted:function(){return null;}});}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Option);c=$.Safe(a.Seq);d=$.Safe(a.Unchecked);e=$.Safe(a.Control);f=$.Safe(e.Disposable);g=$.Safe(a.IntrinsicFunctionProxy);h=$.Safe(e.FSharpEvent);i=$.Safe(a.Util);j=$.Safe(e.Event);k=$.Safe(j.Event);l=$.Safe(a.Collections);m=$.Safe(l.ResizeArray);n=$.Safe(m.ResizeArrayProxy);o=$.Safe(e.EventModule);p=$.Safe(e.HotStream);q=$.Safe(p.HotStream);r=$.Safe(e.Observable);s=$.Safe(e.Observer);t=$.Safe(a.Operators);u=$.Safe(r.Observable);v=$.Safe(a.List);w=$.Safe(v.T);return x=$.Safe(s.Observer);});$.OnLoad(function(){return;});}());
