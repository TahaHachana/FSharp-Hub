(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;$.Define($$,{IntelliFactory:{WebSharper:{Control:{Disposable:{Of:function(u){return{Dispose:u};}},Event:{Event:$.Class({AddHandler:function(v){return this.Handlers.push(v);},RemoveHandler:function(w){var x,y,z,A,B,I;x=(y=(z=(A=this.Handlers,(B=function(C){var D;D=function(E){return function(F){if(b.Equals(F,w)){return{$:1,$0:E};}else{return{$:0};}};};return C.map(function(G,H){return(D(H))(G);});},B(A))),(I=function(J){return c.choose(function(K){return K;},J);},I(z))),d.ofArray(y));if(x.$==1){return this.Handlers.splice(x.$0,1);}else{return null;}},Subscribe:function(L){var M,P=this;M=function(N){return L.OnNext(N);};this.AddHandler(M);return f.Of(function(){return P.RemoveHandler(M);});},Trigger:function(Q){var S=this;$.For(0,this.Handlers.length-1,function(R){S.Handlers[R].call(null,Q);});}})},EventModule:{Choose:function(T,U){var V;V=g.New();h.addListener(U,function(W){var X,Y;X=T(W);if(X.$==0){return null;}else{Y=X.$0;return V.event.Trigger(Y);}});return V.event;},Filter:function(Z,_0){var _1;_1=$.New(j,{Handlers:[]});h.addListener(_0,function(_2){if(Z(_2)){return _1.Trigger(_2);}else{return null;}});return _1;},Map:function(_3,_4){var _5;_5=$.New(j,{Handlers:[]});h.addListener(_4,function(_6){return _5.Trigger(_3(_6));});return _5;},Merge:function(_7,_8){var _9;_9=$.New(j,{Handlers:[]});h.addListener(_7,function(_){return _9.Trigger(_);});h.addListener(_8,function(ba){return _9.Trigger(ba);});return _9;},Pairwise:function(ba){var bb,bc;bb={contents:{$:0}};bc=$.New(j,{Handlers:[]});h.addListener(ba,function(bd){var be,bf;be=bb.contents;if(be.$==1){bf=be.$0;bb.contents={$:1,$0:bd};return bc.Trigger([bf,bd]);}else{bb.contents={$:1,$0:bd};}});return bc;},Partition:function(bg,bh){var bi;return[k.Filter(bg,bh),k.Filter((bi=function(bj){return!bj;},function(bk){return bi(bg(bk));}),bh)];},Scan:function(bl,bm,bn){var bo;bo={contents:bm};return k.Map(function(bp){bo.contents=(bl(bo.contents))(bp);return bo.contents;},bn);},Split:function(bq,br){var bs,bt,by,bz;return[(bs=(bt=function(bu){var bv,bw;bv=bq(bu);if(bv.$==0){bw=bv.$0;return{$:1,$0:bw};}else{return{$:0};}},function(bx){return k.Choose(bt,bx);}),bs(br)),(by=(bz=function(bA){var bB,bC;bB=bq(bA);if(bB.$==1){bC=bB.$0;return{$:1,$0:bC};}else{return{$:0};}},function(bD){return k.Choose(bz,bD);}),by(br))];}},FSharpEvent:$.Class({},{New:function(){var bE;bE=$.New(this,{});bE.event=$.New(j,{Handlers:[]});return bE;}}),HotStream:{HotStream:$.Class({Subscribe:function(bF){var bG,bH;if(this.Latest.contents.$==1){bF.OnNext(this.Latest.contents.$0);}bG=h.subscribeTo((bH=this.Event,bH.event),function(bI){return bF.OnNext(bI);});return bG;},Trigger:function(bJ){var bK;this.Latest.contents={$:1,$0:bJ};bK=this.Event;return bK.event.Trigger(bJ);}},{New:function(){return $.New(m,{Latest:{contents:{$:0}},Event:g.New()});}})},Observable:{Aggregate:function(bL,bM,bN){return n.New(function(bO){var bP;bP={contents:bM};return h.subscribeTo(bL,function(bQ){bP.contents=(bN(bP.contents))(bQ);return bO.OnNext(bP.contents);});});},Choose:function(bR,bS){return n.New(function(bT){var bU,bY;bU=function(bV){var bW,bX;bW=bR(bV);if(bW.$==0){return null;}else{bX=bW.$0;return bT.OnNext(bX);}};bY=o.New(bU,function(bZ){return bT.OnError(bZ);},function(){return bT.OnCompleted();});return bS.Subscribe(bY);});},CombineLatest:function(b1,b2,b3){return n.New(function(b4){var b5,b6,b7,ca,cb,cf,cg,ck,cl;b5={contents:{$:0}};b6={contents:{$:0}};b7=function(){var b9,b_,b$;b9=[b5.contents,b6.contents];if(b9[0].$==1){if(b9[1].$==1){b_=b9[0].$0;b$=b9[1].$0;return b4.OnNext((b3(b_))(b$));}else{return null;}}else{return null;}};ca=(cb=function(cc){b5.contents={$:1,$0:cc};return b7(null);},o.New(cb,function(cd){cd;},function(ce){ce;}));cf=(cg=function(ch){b6.contents={$:1,$0:ch};return b7(null);},o.New(cg,function(ci){ci;},function(cj){cj;}));ck=b1.Subscribe(ca);cl=b2.Subscribe(cf);return f.Of(function(){ck.Dispose();return cl.Dispose();});});},Concat:function(cn,co){return n.New(function(cp){var cq,cr,cw;cq={contents:{$:0}};cr=cn.Subscribe(o.New(function(cs){return cp.OnNext(cs);},function(ct){ct;},function(){var cv;cq.contents=(cv=co.Subscribe(cp),{$:1,$0:cv});}));cw=function(){if(cq.contents.$==1){cq.contents.$0.Dispose();}return cr.Dispose();};return f.Of(cw);});},Drop:function(cy,cz){return n.New(function(cA){var cB,cC,cE;cB={contents:0};cC=function(cD){p.Increment(cB);if(cB.contents>cy){return cA.OnNext(cD);}else{return null;}};cE=o.New(cC,function(cF){return cA.OnError(cF);},function(){return cA.OnCompleted();});return cz.Subscribe(cE);});},Filter:function(cH,cI){return n.New(function(cJ){var cK,cM;cK=function(cL){if(cH(cL)){return cJ.OnNext(cL);}else{return null;}};cM=o.New(cK,function(cN){return cJ.OnError(cN);},function(){return cJ.OnCompleted();});return cI.Subscribe(cM);});},Map:function(cP,cQ){return n.New(function(cR){var cS,cU;cS=function(cT){return cR.OnNext(cP(cT));};cU=o.New(cS,function(cV){return cR.OnError(cV);},function(){return cR.OnCompleted();});return cQ.Subscribe(cU);});},Merge:function(cX,cY){return n.New(function(cZ){var c0,c1,c2,c3,c7,c9,c_,dc;c0={contents:false};c1={contents:false};c2=(c3=o.New(function(c4){return cZ.OnNext(c4);},function(c5){c5;},function(){c0.contents=true;if(c0.contents?c1.contents:false){return cZ.OnCompleted();}else{return null;}}),(c7=function(c8){return cX.Subscribe(c8);},c7(c3)));c9=(c_=o.New(function(c$){return cZ.OnNext(c$);},function(da){da;},function(){c1.contents=true;if(c0.contents?c1.contents:false){return cZ.OnCompleted();}else{return null;}}),(dc=function(dd){return cY.Subscribe(dd);},dc(c_)));return f.Of(function(){c2.Dispose();return c9.Dispose();});});},Never:function(){return n.New(function(){return f.Of(function(dg){dg;});});},New:function(dh){return $.New(q,{Subscribe1:dh});},Observable:$.Class({Subscribe:function(di){return this.Subscribe1.call(null,di);}}),Of:function(dj){return n.New(function(dk){return f.Of(dj(function(dl){return dk.OnNext(dl);}));});},Range:function(dm,dn){return n.New(function(_do){$.For(dm,dm+dn,function(dp){_do.OnNext(dp);});return f.Of(function(dq){dq;});});},Return:function(dr){return n.New(function(ds){ds.OnNext(dr);ds.OnCompleted();return f.Of(function(dt){dt;});});},SelectMany:function(du){return n.New(function(dv){var dw,dy;dw={contents:function(dx){dx;}};dy=h.subscribeTo(du,function(dz){var dA;dA=h.subscribeTo(dz,function(dB){return dv.OnNext(dB);});dw.contents=function(){dw.contents.call(null,null);return dA.Dispose();};});return f.Of(function(){dw.contents.call(null,null);return dy.Dispose();});});},Sequence:function(dE){var dF;dF=function(dG){var dH,dI,dJ;if(dG.$==1){dH=dG.$1;dI=dG.$0;dJ=dF(dH);return n.CombineLatest(dI,dJ,function(dK){return function(dL){return $.New(r,{$:1,$0:dK,$1:dL});};});}else{return n.Return($.New(r,{$:0}));}};return dF(d.ofSeq(dE));},Switch:function(dM){return n.New(function(dN){var dO,dP,dQ;dO=(dP={contents:0},(dQ={contents:{$:0}},h.subscribeTo(dM,function(dR){var dS,dT,dU;p.Increment(dP);if(dQ.contents.$==1){dQ.contents.$0.Dispose();}dS=dP.contents;dT=(dU=h.subscribeTo(dR,function(dV){if(dS===dP.contents){return dN.OnNext(dV);}else{return null;}}),{$:1,$0:dU});dQ.contents=dT;})));return dO;});}},ObservableModule:{Pairwise:function(dW){var dX,dY,dZ,d0,d7,d8;dX=(dY=[{$:0},{$:0}],(dZ=(d0=$.Tupled(function(d1){var d2,d3;d2=d1[0];d3=d1[1];return function(d4){return[d3,{$:1,$0:d4}];};}),$.Tupled(function(d5){return function(d6){return s.Scan(d0,d5,d6);};})),(dZ(dY))(dW)));d7=(d8=$.Tupled(function(d9){var d_,d$;if(d9[0].$==1){if(d9[1].$==1){d_=d9[0].$0;d$=d9[1].$0;return{$:1,$0:[d_,d$]};}else{return{$:0};}}else{return{$:0};}}),function(ea){return n.Choose(d8,ea);});return d7(dX);},Partition:function(eb,ec){var ed;return[n.Filter(eb,ec),n.Filter((ed=function(ee){return!ee;},function(ef){return ed(eb(ef));}),ec)];},Scan:function(eg,eh,ei){var ej,ek;ej={contents:eh};ek=function(el){ej.contents=(eg(ej.contents))(el);return ej.contents;};return n.Map(ek,ei);},Split:function(em,en){var eo,ep,eq,ev,ew,ex;eo=(ep=(eq=function(er){var es,et;es=em(er);if(es.$==0){et=es.$0;return{$:1,$0:et};}else{return{$:0};}},function(eu){return n.Choose(eq,eu);}),ep(en));ev=(ew=(ex=function(ey){var ez,eA;ez=em(ey);if(ez.$==1){eA=ez.$0;return{$:1,$0:eA};}else{return{$:0};}},function(eB){return n.Choose(ex,eB);}),ew(en));return[eo,ev];}},Observer:{New:function(eC,eD,eE){return $.New(t,{onNext:eC,onError:eD,onCompleted:eE});},Observer:$.Class({OnCompleted:function(){return this.onCompleted.call(null,null);},OnError:function(eF){return this.onError.call(null,eF);},OnNext:function(eG){return this.onNext.call(null,eG);}}),Of:function(eH){return $.New(t,{onNext:eH,onError:function(eI){return p.Raise(eI);},onCompleted:function(){return null;}});}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Unchecked);c=$.Safe(a.Arrays);d=$.Safe(a.List);e=$.Safe(a.Control);f=$.Safe(e.Disposable);g=$.Safe(e.FSharpEvent);h=$.Safe(a.Util);i=$.Safe(e.Event);j=$.Safe(i.Event);k=$.Safe(e.EventModule);l=$.Safe(e.HotStream);m=$.Safe(l.HotStream);n=$.Safe(e.Observable);o=$.Safe(e.Observer);p=$.Safe(a.Operators);q=$.Safe(n.Observable);r=$.Safe(d.T);s=$.Safe(e.ObservableModule);return t=$.Safe(o.Observer);});$.OnLoad(function(){});}());
