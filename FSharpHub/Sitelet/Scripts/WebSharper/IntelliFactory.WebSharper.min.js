(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;$.Define($$,{IntelliFactory:{WebSharper:{Arrays:{Find:function(E,F){var G;G=b.tryFind(E,F);return G.$==0?c.FailWith("KeyNotFoundException"):G.$0;},FindIndex:function(H,I){var J;J=b.tryFindIndex(H,I);return J.$==0?c.FailWith("KeyNotFoundException"):J.$0;},Pick:function(K,L){var M;M=b.tryPick(K,L);return M.$==0?c.FailWith("KeyNotFoundException"):M.$0;},average:function(N){return d(b.sum(N))/d(e.GetLength(N));},averageBy:function(O,P){return d(b.sumBy(O,P))/d(e.GetLength(P));},blit:function(Q,R,S,T,U){var V;b.checkRange(Q,R,U);b.checkRange(S,T,U);for(V=0;V<=U-1;V++){e.SetArray(S,T+V,e.GetArray(Q,R+V));}return;},checkLength:function(W,X){return e.GetLength(W)!==e.GetLength(X)?c.FailWith("Arrays differ in length."):null;},checkRange:function(Y,Z,_0){return((_0<0?true:Z<0)?true:e.GetLength(Y)<Z+_0)?c.FailWith("Index was outside the bounds of the array."):null;},choose:function(_1,_2){var _3,_4,_5;_3=[];for(_4=0;_4<=e.GetLength(_2)-1;_4++){_5=_1(e.GetArray(_2,_4));if(_5.$==0){}else{_3.push(_5.$0);}}return _3;},collect:function(_6,_7){return f.prototype.concat.apply([],b.map(_6,_7));},concat:function(_8){return f.prototype.concat.apply([],b.ofSeq(_8));},create:function(_9,_){var ba,bb;ba=f(_9);for(bb=0;bb<=_9-1;bb++){e.SetArray(ba,bb,_);}return ba;},exists2:function(bb,bc,bd){b.checkLength(bc,bd);return g.exists2(bb,bc,bd);},fill:function(be,bf,bg,bh){var bi;b.checkRange(be,bf,bg);for(bi=bf;bi<=bf+bg-1;bi++){e.SetArray(be,bi,bh);}return;},filter:function(bj,bk){var bl,bm;bl=[];for(bm=0;bm<=e.GetLength(bk)-1;bm++){if(bj(e.GetArray(bk,bm))){bl.push(e.GetArray(bk,bm));}}return bl;},fold:function(bn,bo,bp){var bq,br;bq=bo;for(br=0;br<=e.GetLength(bp)-1;br++){bq=(bn(bq))(e.GetArray(bp,br));}return bq;},fold2:function(bs,bt,bu,bv){var bw,bx;b.checkLength(bu,bv);bw=bt;for(bx=0;bx<=bu.length-1;bx++){bw=((bs(bw))(e.GetArray(bu,bx)))(e.GetArray(bv,bx));}return bw;},foldBack:function(by,bz,bA){var bB,bC,bD;bB=bA;bC=e.GetLength(bz);for(bD=1;bD<=bC;bD++){bB=(by(e.GetArray(bz,bC-bD)))(bB);}return bB;},foldBack2:function(bE,bF,bG,bH){var bI,bJ,bK;b.checkLength(bF,bG);bI=e.GetLength(bF);bJ=bH;for(bK=1;bK<=bI;bK++){bJ=((bE(e.GetArray(bF,bI-bK)))(e.GetArray(bG,bI-bK)))(bJ);}return bJ;},forall2:function(bL,bM,bN){b.checkLength(bM,bN);return g.forall2(bL,bM,bN);},init:function(bO,bP){var bQ,bR;if(bO<0){c.FailWith("Negative size given.");}bQ=f(bO);for(bR=0;bR<=bO-1;bR++){e.SetArray(bQ,bR,bP(bR));}return bQ;},iter:function(bS,bT){var bU;for(bU=0;bU<=e.GetLength(bT)-1;bU++){bS(e.GetArray(bT,bU));}return;},iter2:function(bV,bW,bX){var bY;b.checkLength(bW,bX);for(bY=0;bY<=e.GetLength(bW)-1;bY++){(bV(e.GetArray(bW,bY)))(e.GetArray(bX,bY));}return;},iteri:function(bZ,b0){var b1;for(b1=0;b1<=e.GetLength(b0)-1;b1++){(bZ(b1))(e.GetArray(b0,b1));}return;},iteri2:function(b2,b3,b4){var b5;b.checkLength(b3,b4);for(b5=0;b5<=e.GetLength(b3)-1;b5++){((b2(b5))(e.GetArray(b3,b5)))(e.GetArray(b4,b5));}return;},map:function(b6,b7){var b8,b9;b8=f(e.GetLength(b7));for(b9=0;b9<=e.GetLength(b7)-1;b9++){e.SetArray(b8,b9,b6(e.GetArray(b7,b9)));}return b8;},map2:function(b_,b$,ca){var cb,cc;b.checkLength(b$,ca);cb=f(e.GetLength(ca));for(cc=0;cc<=e.GetLength(ca)-1;cc++){e.SetArray(cb,cc,(b_(e.GetArray(b$,cc)))(e.GetArray(ca,cc)));}return cb;},mapi:function(cd,ce){var cf,cg;cf=f(e.GetLength(ce));for(cg=0;cg<=e.GetLength(ce)-1;cg++){e.SetArray(cf,cg,(cd(cg))(e.GetArray(ce,cg)));}return cf;},mapi2:function(ch,ci,cj){var ck,cl;b.checkLength(ci,cj);ck=f(e.GetLength(ci));for(cl=0;cl<=e.GetLength(ci)-1;cl++){e.SetArray(ck,cl,((ch(cl))(e.GetArray(ci,cl)))(e.GetArray(cj,cl)));}return ck;},max:function(cm){return b.reduce(function(cn){return function(co){return c.Max(cn,co);};},cm);},maxBy:function(cp,cq){return b.reduce(function(cr){return function(cs){return h.Compare(cp(cr),cp(cs))===1?cr:cs;};},cq);},min:function(ct){return b.reduce(function(cu){return function(cv){return c.Min(cu,cv);};},ct);},minBy:function(cw,cx){return b.reduce(function(cy){return function(cz){return h.Compare(cw(cy),cw(cz))===-1?cy:cz;};},cx);},nonEmpty:function(cA){return e.GetLength(cA)===0?c.FailWith("The input array was empty."):null;},ofSeq:function(cB){var cC,cD;cC=[];cD=i.Get(cB);while(cD.MoveNext()){cC.push(cD.get_Current());}return cC;},partition:function(cE,cF){var cG,cH,cI;cG=[];cH=[];for(cI=0;cI<=e.GetLength(cF)-1;cI++){if(cE(e.GetArray(cF,cI))){cG.push(e.GetArray(cF,cI));}else{cH.push(e.GetArray(cF,cI));}}return[cG,cH];},permute:function(cJ,cK){var cL,cM;cL=f(e.GetLength(cK));for(cM=0;cM<=e.GetLength(cK)-1;cM++){e.SetArray(cL,cJ(cM),e.GetArray(cK,cM));}return cL;},reduce:function(cN,cO){var cP,cQ;b.nonEmpty(cO);cP=e.GetArray(cO,0);for(cQ=1;cQ<=e.GetLength(cO)-1;cQ++){cP=(cN(cP))(e.GetArray(cO,cQ));}return cP;},reduceBack:function(cR,cS){var cT,cU,cV;b.nonEmpty(cS);cT=e.GetLength(cS);cU=e.GetArray(cS,cT-1);for(cV=2;cV<=cT;cV++){cU=(cR(e.GetArray(cS,cT-cV)))(cU);}return cU;},reverse:function(cW,cX,cY){var cZ;cZ=b.sub(cW,cX,cY).slice().reverse();return b.blit(cZ,0,cW,cX,e.GetLength(cZ));},scan:function(c0,c1,c2){var c3,c4;c3=f(1+e.GetLength(c2));e.SetArray(c3,0,c1);for(c4=0;c4<=e.GetLength(c2)-1;c4++){e.SetArray(c3,c4+1,(c0(e.GetArray(c3,c4)))(e.GetArray(c2,c4)));}return c3;},scanBack:function(c5,c6,c7){var c8,c9,c_;c8=e.GetLength(c6);c9=f(1+c8);e.SetArray(c9,c8,c7);for(c_=0;c_<=c8-1;c_++){e.SetArray(c9,c8-c_-1,(c5(e.GetArray(c6,c8-c_-1)))(e.GetArray(c9,c8-c_)));}return c9;},sort:function(c$){return b.sortBy(function(da){return da;},c$);},sortBy:function(db,dc){var dd;dd=$.Tupled(function(de){var df;df=de[1];return c.Compare(db(de[0]),db(df));});return dc.slice().sort(dd);},sortInPlace:function(dg){return b.sortInPlaceBy(function(dh){return dh;},dg);},sortInPlaceBy:function(di,dj){return dj.sort($.Tupled(function(dk){var dl;dl=dk[1];return c.Compare(di(dk[0]),di(dl));}));},sortInPlaceWith:function(dm,dn){return dn.sort($.Tupled(function(_do){var dp;dp=_do[1];return(dm(_do[0]))(dp);}));},sortWith:function(dq,dr){var ds;ds=$.Tupled(function(dt){var du;du=dt[1];return(dq(dt[0]))(du);});return dr.slice().sort(ds);},sub:function(dv,dw,dx){b.checkRange(dv,dw,dx);return dv.slice(dw,dw+dx);},sum:function($arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$arr[i];return sum;},sumBy:function($f,$arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$f($arr[i]);return sum;},tryFind:function(dy,dz){var dA,dB;dA={$:0};dB=0;while(dB<e.GetLength(dz)?dA.$==0:false){if(dy(e.GetArray(dz,dB))){dA={$:1,$0:e.GetArray(dz,dB)};}dB=dB+1;}return dA;},tryFindIndex:function(dC,dD){var dE,dF;dE={$:0};dF=0;while(dF<e.GetLength(dD)?dE.$==0:false){if(dC(e.GetArray(dD,dF))){dE={$:1,$0:dF};}dF=dF+1;}return dE;},tryPick:function(dG,dH){var dI,dJ,dK;dI={$:0};dJ=0;while(dJ<e.GetLength(dH)?dI.$==0:false){dK=dG(e.GetArray(dH,dJ));if(dK.$==1){dI=dK;}dJ=dJ+1;}return dI;},unzip:function(dL){var dM,dN,dO,dP,dQ;dM=[];dN=[];for(dO=0;dO<=e.GetLength(dL)-1;dO++){dP=e.GetArray(dL,dO);dQ=dP[1];dM.push(dP[0]);dN.push(dQ);}return[dM,dN];},unzip3:function(dR){var dS,dT,dU,dV,dW,dX,dY;dS=[];dT=[];dU=[];for(dV=0;dV<=e.GetLength(dR)-1;dV++){dW=e.GetArray(dR,dV);dX=dW[2];dY=dW[1];dS.push(dW[0]);dT.push(dY);dU.push(dX);}return[dS,dT,dU];},zip:function(dZ,d0){var d1,d2;b.checkLength(dZ,d0);d1=f(dZ.length);for(d2=0;d2<=e.GetLength(dZ)-1;d2++){e.SetArray(d1,d2,[e.GetArray(dZ,d2),e.GetArray(d0,d2)]);}return d1;},zip3:function(d3,d4,d5){var d6,d7;b.checkLength(d3,d4);b.checkLength(d4,d5);d6=f(d3.length);for(d7=0;d7<=e.GetLength(d3)-1;d7++){e.SetArray(d6,d7,[e.GetArray(d3,d7),e.GetArray(d4,d7),e.GetArray(d5,d7)]);}return d6;}},Arrays2D:{copy:function(d8){return j.init(d8.length,d8.length?d8[0].length:0,function(d9){return function(d_){return e.GetArray2D(d8,d9,d_);};});},init:function(d$,ea,eb){var ec,ed,ee;ec=j.zeroCreate(d$,ea);for(ed=0;ed<=d$-1;ed++){for(ee=0;ee<=ea-1;ee++){e.SetArray2D(ec,ed,ee,(eb(ed))(ee));}}return ec;},iter:function(ef,eg){var eh,ei,ej,ek;eh=eg.length;ei=eg.length?eg[0].length:0;for(ej=0;ej<=eh-1;ej++){for(ek=0;ek<=ei-1;ek++){ef(e.GetArray2D(eg,ej,ek));}}return;},iteri:function(el,em){var en,eo,ep,eq;en=em.length;eo=em.length?em[0].length:0;for(ep=0;ep<=en-1;ep++){for(eq=0;eq<=eo-1;eq++){((el(ep))(eq))(e.GetArray2D(em,ep,eq));}}return;},map:function(er,es){return j.init(es.length,es.length?es[0].length:0,function(et){return function(eu){return er(e.GetArray2D(es,et,eu));};});},mapi:function(ev,ew){return j.init(ew.length,ew.length?ew[0].length:0,function(ex){return function(ey){return((ev(ex))(ey))(e.GetArray2D(ew,ex,ey));};});},zeroCreate:function(ez,eA){return e.Array2DZeroCreate(ez,eA);}},Char:$.Class({},{GetNumericValue:function(eB){return(eB>=48?eB<=57:false)?d(eB)-d(48):-1;},IsControl:function(eC){return(eC>=0?eC<=31:false)?true:eC>=128?eC<=159:false;},IsDigit:function(eD){return eD>=48?eD<=57:false;},IsLetter:function(eE){return(eE>=65?eE<=90:false)?true:eE>=97?eE<=122:false;},IsLetterOrDigit:function(eF){return k.IsLetter(eF)?true:k.IsDigit(eF);},IsLower:function(eG){return eG>=97?eG<=122:false;},IsUpper:function(eH){return eH>=65?eH<=90:false;},IsWhiteSpace:function($c){var $0=this,$this=this;return $$.String.fromCharCode($c).match(/\s/)!==null;}}),Concurrency:{AwaitEvent:function(eI){return{$:0,$0:function(eJ){var eK;eK={contents:undefined};eK.contents=l.subscribeTo(eI,function(eL){eK.contents.Dispose();return eJ({$:0,$0:eL});});return;}};},Bind:function(eM,eN){var eO;eO=eM.$0;return{$:0,$0:function(eP){return eO(function(eQ){var eR;if(eQ.$==1){return eP({$:1,$0:eQ.$0});}else{eR=eQ.$0;return m.fork(function(){var eT;try{return m.Run(eN(eR),eP);}catch(eT){return eP({$:1,$0:eT});}});}});}};},Catch:function(eU){var eV;eV=eU.$0;return{$:0,$0:function(eW){var eY;try{return eV(function(eX){return eX.$==1?eW({$:0,$0:{$:1,$0:eX.$0}}):eW({$:0,$0:{$:0,$0:eX.$0}});});}catch(eY){return eW({$:0,$0:{$:1,$0:eY}});}}};},Delay:function(eZ){return{$:0,$0:function(e0){var e1;try{return m.Run(eZ(null),e0);}catch(e1){return e0({$:1,$0:e1});}}};},For:function(e2,e3){var e4;e4=i.Get(e2);return m.While(function(){return e4.MoveNext();},m.Delay(function(){return e3(e4.get_Current());}));},FromContinuations:function(e7){return{$:0,$0:function(e8){return(e7(function(e9){return e8({$:0,$0:e9});}))(function(e_){return e8({$:1,$0:e_});});}};},Parallel:function(e$){var fa;fa=b.ofSeq(e$);return e.GetLength(fa)===0?m.Return([]):{$:0,$0:function(fb){var fc,fd,fe;fc=fa.length;fd={contents:fc};fe=b.create(fc,undefined);return b.iteri(function(ff){return function(fg){var fh;fh=fg.$0;return m.fork(function(){return fh(function(fj){var fk,fl,fm,fn;fk=[fd.contents,fj];if(fk[0]===0){return null;}else{if(fk[0]===1){if(fk[1].$==1){fl=fk[1].$0;fd.contents=0;return fb({$:1,$0:fl});}else{e.SetArray(fe,ff,fk[1].$0);fd.contents=0;return fb({$:0,$0:fe});}}else{if(fk[1].$==1){fm=fk[1].$0;fd.contents=0;return fb({$:1,$0:fm});}else{fn=fk[0];e.SetArray(fe,ff,fk[1].$0);fd.contents=fn-1;return;}}}});});};},fa);}};},Return:function(fo){return{$:0,$0:function(fp){return fp({$:0,$0:fo});}};},Run:function(fq,fr){return fq.$0.call(null,fr);},Scheduler:$.Class({Fork:function(fs){var fu=this;this.robin.push(fs);if(this.idle){this.idle=false;return n(function(){return fu.tick();},0);}else{return null;}},tick:function(){var fv,fw,fy=this;fv=o.now();fw=true;while(fw){if(this.robin.length===0){this.idle=true;fw=false;}else{(this.robin.shift())(null);if(o.now()-fv>40){n(function(){return fy.tick();},0);fw=false;}}}return;}},{New:function(){var fz;fz=$.New(this,{});fz.idle=true;fz.robin=[];return fz;}}),Sleep:function(fA){return{$:0,$0:function(fB){return n(function(){return fB({$:0,$0:null});},fA);}};},Start:function(fD){return m.StartWithContinuations(fD,function(){},function(fF){return p.Log(["WebSharper: Uncaught asynchronous exception",fF]);});},StartChild:function(fG){var fH;fH=fG.$0;return{$:0,$0:function(fI){var fJ,fK;fJ={contents:{$:0}};fK=[];m.fork(function(){return fH(function(fM){fJ.contents={$:1,$0:fM};while(fK.length>0){(fK.shift())(fM);}return;});});return fI({$:0,$0:{$:0,$0:function(fN){var fO;fO=fJ.contents;return fO.$==0?fK.push(fN):fN(fO.$0);}}});}};},StartWithContinuations:function(fP,fQ,fR){return m.fork(function(){return m.Run(fP,function(fT){return fT.$==1?fR(fT.$0):fQ(fT.$0);});});},TryFinally:function(fU,fV){var fW;fW=fU.$0;return{$:0,$0:function(fX){return fW(function(fY){var fZ;try{fV(null);return fX(fY);}catch(fZ){return fX({$:1,$0:fZ});}});}};},TryWith:function(f0,f1){var f2;f2=f0.$0;return{$:0,$0:function(f3){return f2(function(f4){var f5,f6;if(f4.$==1){f5=f4.$0;try{return m.Run(f1(f5),f3);}catch(f6){return f3({$:1,$0:f6});}}else{return f3({$:0,$0:f4.$0});}});}};},Using:function(f7,f8){return m.TryFinally(f8(f7),function(){return f7.Dispose();});},While:function(f_,f$){return f_(null)?m.Bind(f$,function(){return m.While(f_,f$);}):m.Return(null);},fork:function(gb){return m.scheduler().Fork(gb);},scheduler:$.Field(function(){return q.New();})},DateTimeHelpers:{AddMonths:function(gc,gd){var ge;ge=new o(gc);return(new o(ge.getFullYear(),ge.getMonth()+gd,ge.getDate(),ge.getHours(),ge.getMinutes(),ge.getSeconds(),ge.getMilliseconds())).getTime();},AddYears:function(gf,gg){var gh;gh=new o(gf);return(new o(gh.getFullYear()+gg,gh.getMonth(),gh.getDate(),gh.getHours(),gh.getMinutes(),gh.getSeconds(),gh.getMilliseconds())).getTime();},DatePortion:function(gi){var gj;gj=new o(gi);return(new o(gj.getFullYear(),gj.getMonth(),gj.getDate())).getTime();},TimePortion:function(gk){var gl;gl=new o(gk);return(((24*0+gl.getHours())*60+gl.getMinutes())*60+gl.getSeconds())*1000+gl.getMilliseconds();}},Enumerable:{Of:function(gm){return{GetEnumerator:gm};}},Enumerator:{Get:function(gn){return gn instanceof $$.Array?r.New(0,null,function(go){var gp;gp=go.s;if(gp<e.GetLength(gn)){go.c=e.GetArray(gn,gp);go.s=gp+1;return true;}else{return false;}}):h.Equals(typeof gn,"string")?r.New(0,null,function(gq){var gr;gr=gq.s;if(gr<gn.length){gq.c=gn.charCodeAt(gr);gq.s=gr+1;return true;}else{return false;}}):gn.GetEnumerator();},T:$.Class({MoveNext:function(){return this.n.call(null,this);},get_Current:function(){return this.c;}},{New:function(gs,gt,gu){var gv;gv=$.New(this,{});gv.s=gs;gv.c=gt;gv.n=gu;return gv;}})},ExtraTopLevelOperatorsProxy:{array2D:function(gw){var gx;gx=b.ofSeq(g.map(function(gy){return b.ofSeq(gy);},gw));gx.dims=2;return gx;}},IntrinsicFunctionProxy:{Array2DZeroCreate:function(gz,gA){var gB;gB=b.init(gz,function(){return f(gA);});gB.dims=2;return gB;},BoundsCheck:function(gD,gE){return(gE<0?true:gE>=e.GetLength(gD))?c.Raise(new s("IndexOutOfRangeException")):null;},BoundsCheck2D:function(gF,gG,gH){return(((gG<0?true:gH<0)?true:gG>=gF.length)?true:gH>=(gF.length?gF[0].length:0))?c.Raise(new s("IndexOutOfRangeException")):null;},GetArray:function(gI,gJ){e.BoundsCheck(gI,gJ);return gI[gJ];},GetArray2D:function(gK,gL,gM){e.BoundsCheck2D(gK,gL,gM);return gK[gL][gM];},GetArray2DSub:function(gN,gO,gP,gQ,gR){var gS,gT,gU,gV,gW;gS=gQ<0?0:gQ;gT=gR<0?0:gR;gU=e.Array2DZeroCreate(gS,gT);for(gV=0;gV<=gS-1;gV++){for(gW=0;gW<=gT-1;gW++){e.SetArray2D(gU,gV,gW,e.GetArray2D(gN,gO+gV,gP+gW));}}return gU;},GetArraySub:function(gX,gY,gZ){var g0,g1;g0=f(gZ);for(g1=0;g1<=gZ-1;g1++){e.SetArray(g0,g1,e.GetArray(gX,gY+1));}return g0;},GetLength:function(g2){return g2.dims===2?g2.length*g2.length:g2.length;},SetArray:function(g3,g4,g5){e.BoundsCheck(g3,g4);g3[g4]=g5;return;},SetArray2D:function(g6,g7,g8,g9){e.BoundsCheck2D(g6,g7,g8);g6[g7][g8]=g9;return;},SetArray2DSub:function(g_,g$,ha,hb,hc,hd){var he,hf;for(he=0;he<=hb-1;he++){for(hf=0;hf<=hc-1;hf++){e.SetArray2D(g_,g$+he,ha+hf,e.GetArray2D(hd,he,hf));}}return;},SetArraySub:function(hg,hh,hi,hj){var hk;for(hk=0;hk<=hi-1;hk++){e.SetArray(hg,hh+hk,e.GetArray(hj,hk));}return;}},JavaScript:{Delete:function($x,$field){var $0=this,$this=this;return delete $x[$field];},ForEach:function($x,$iter){var $0=this,$this=this;for(var k in $x){if($iter(k))break;}},GetFieldNames:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push(k);return r;},GetFieldValues:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push($o[k]);return r;},GetFields:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push([k,$o[k]]);return r;},Log:function($x){var $0=this,$this=this;if($$.console)$$.console.log($x);},LogMore:function($args){var $0=this,$this=this;if($$.console)$$.console.log.apply($$.console,$args);}},Json:{Activate:function(hl){var hm,hn,ho;hm=hl.$TYPES;for(hn=0;hn<=e.GetLength(hm)-1;hn++){e.SetArray(hm,hn,t.lookup(e.GetArray(hm,hn)));}ho=function(hp){var hq,hr;if(h.Equals(hp,null)){return hp;}else{if(typeof hp==="object"){if(hp instanceof $$.Array){return t.shallowMap(ho,hp);}else{hq=t.shallowMap(ho,hp.$V);hr=hp.$T;return h.Equals(typeof hr,"undefined")?hq:t.restore(e.GetArray(hm,hr),hq);}}else{return hp;}}};return ho(hl.$DATA);},lookup:function(hs){var ht,hu,hv,hw,hx;ht=e.GetLength(hs);hu=$$;hv=0;while(hv<ht){hw=e.GetArray(hs,hv);hx=hu[hw];if(!h.Equals(typeof hx,undefined)){hu=hx;hv=hv+1;}else{c.FailWith("Invalid server reply. Failed to find type: "+hw);}}return hu;},restore:function(hy,hz){var hA;hA=new hy();p.ForEach(hz,function(hB){hA[hB]=hz[hB];return false;});return hA;},shallowMap:function(hC,hD){var hE;if(hD instanceof $$.Array){return b.map(hC,hD);}else{if(typeof hD==="object"){hE={};p.ForEach(hD,function(hF){hE[hF]=hC(hD[hF]);return false;});return hE;}else{return hD;}}}},Lazy:{Create:function(hG){var hH;hH={value:undefined,created:false,eval:hG};hH.eval=function(){if(hH.created){return hH.value;}else{hH.created=true;hH.value=hG(null);return hH.value;}};return hH;},CreateFromValue:function(hJ){return{value:hJ,created:true,eval:function(){return hJ;},eval:function(){return hJ;}};},Force:function(hM){return hM.eval.call(null,null);}},List:{T:$.Class({GetEnumerator:function(){return r.New(this,null,function(hN){var hO,hP;hO=hN.s;if(hO.$==0){return false;}else{hP=hO.$1;hN.c=hO.$0;hN.s=hP;return true;}});},get_Item:function(hQ){return g.nth(hQ,this);},get_Length:function(){return g.length(this);}},{Construct:function(hR,hS){return $.New(v,{$:1,$0:hR,$1:hS});},get_Nil:function(){return $.New(v,{$:0});}}),append:function(hT,hU){return u.ofSeq(g.append(hT,hU));},choose:function(hV,hW){return u.ofSeq(g.choose(hV,hW));},collect:function(hX,hY){return u.ofSeq(g.collect(hX,hY));},concat:function(hZ){return u.ofSeq(g.concat(hZ));},exists2:function(h0,h1,h2){return b.exists2(h0,b.ofSeq(h1),b.ofSeq(h2));},filter:function(h3,h4){return u.ofSeq(g.filter(h3,h4));},fold2:function(h5,h6,h7,h8){return b.fold2(h5,h6,b.ofSeq(h7),b.ofSeq(h8));},foldBack:function(h9,h_,h$){return b.foldBack(h9,b.ofSeq(h_),h$);},foldBack2:function(ia,ib,ic,id){return b.foldBack2(ia,b.ofSeq(ib),b.ofSeq(ic),id);},forall2:function(ie,_if,ig){return b.forall2(ie,b.ofSeq(_if),b.ofSeq(ig));},head:function(ih){return ih.$==1?ih.$0:c.FailWith("The input list was empty.");},init:function(ii,ij){return u.ofArray(b.init(ii,ij));},iter2:function(ik,il,im){return b.iter2(ik,b.ofSeq(il),b.ofSeq(im));},iteri2:function(_in,io,ip){return b.iteri2(_in,b.ofSeq(io),b.ofSeq(ip));},map:function(iq,ir){return u.ofSeq(g.map(iq,ir));},map2:function(is,it,iu){return u.ofArray(b.map2(is,b.ofSeq(it),b.ofSeq(iu)));},map3:function(iv,iw,ix,iy){return u.ofArray(b.map2(function(iz){return function(iA){return iz(iA);};},b.map2(iv,b.ofSeq(iw),b.ofSeq(ix)),b.ofSeq(iy)));},mapi:function(iB,iC){return u.ofSeq(g.mapi(iB,iC));},mapi2:function(iD,iE,iF){return u.ofArray(b.mapi2(iD,b.ofSeq(iE),b.ofSeq(iF)));},max:function(iG){return g.reduce(function(iH){return function(iI){return c.Max(iH,iI);};},iG);},maxBy:function(iJ,iK){return g.reduce(function(iL){return function(iM){return h.Compare(iJ(iL),iJ(iM))===1?iL:iM;};},iK);},min:function(iN){return g.reduce(function(iO){return function(iP){return c.Min(iO,iP);};},iN);},minBy:function(iQ,iR){return g.reduce(function(iS){return function(iT){return h.Compare(iQ(iS),iQ(iT))===-1?iS:iT;};},iR);},ofArray:function(iU){var iV,iW;iV=$.New(v,{$:0});for(iW=0;iW<=e.GetLength(iU)-1;iW++){iV=$.New(v,{$:1,$0:e.GetArray(iU,e.GetLength(iU)-iW-1),$1:iV});}return iV;},ofSeq:function(iX){var iY,iZ,i0;iY=[];iZ=i.Get(iX);while(iZ.MoveNext()){iY.unshift(iZ.get_Current());}i0=iY.slice(0);i0.reverse();return u.ofArray(i0);},partition:function(i1,i2){var i3,i4;i3=b.partition(i1,b.ofSeq(i2));i4=i3[1];return[u.ofArray(i3[0]),u.ofArray(i4)];},permute:function(i5,i6){return u.ofArray(b.permute(i5,b.ofSeq(i6)));},reduceBack:function(i7,i8){return b.reduceBack(i7,b.ofSeq(i8));},replicate:function(i9,i_){return u.ofArray(b.create(i9,i_));},rev:function(i$){var ja;ja=b.ofSeq(i$);ja.reverse();return u.ofArray(ja);},scan:function(jb,jc,jd){return u.ofSeq(g.scan(jb,jc,jd));},scanBack:function(je,jf,jg){return u.ofArray(b.scanBack(je,b.ofSeq(jf),jg));},sort:function(jh){var ji;ji=b.ofSeq(jh);b.sortInPlace(ji);return u.ofArray(ji);},sortBy:function(jj,jk){return u.sortWith(function(jl){return function(jm){return c.Compare(jj(jl),jj(jm));};},jk);},sortWith:function(jn,jo){var jp;jp=b.ofSeq(jo);b.sortInPlaceWith(jn,jp);return u.ofArray(jp);},tail:function(jq){return jq.$==1?jq.$1:c.FailWith("The input list was empty.");},unzip:function(jr){var js,jt,ju,jv,jw;js=[];jt=[];ju=i.Get(jr);while(ju.MoveNext()){jv=ju.get_Current();jw=jv[1];js.push(jv[0]);jt.push(jw);}return[u.ofArray(js.slice(0)),u.ofArray(jt.slice(0))];},unzip3:function(jx){var jy,jz,jA,jB,jC,jD,jE;jy=[];jz=[];jA=[];jB=i.Get(jx);while(jB.MoveNext()){jC=jB.get_Current();jD=jC[2];jE=jC[1];jy.push(jC[0]);jz.push(jE);jA.push(jD);}return[u.ofArray(jy.slice(0)),u.ofArray(jz.slice(0)),u.ofArray(jA.slice(0))];},zip:function(jF,jG){return u.ofArray(b.zip(b.ofSeq(jF),b.ofSeq(jG)));},zip3:function(jH,jI,jJ){return u.ofArray(b.zip3(b.ofSeq(jH),b.ofSeq(jI),b.ofSeq(jJ)));}},OperatorIntrinsics:{GetArraySlice:function(jK,jL,jM){var jN;jN=[jL,jM];return jN[0].$==0?jN[1].$==1?jK.slice(0,jN[1].$0+1):[]:jN[1].$==0?jK.slice(jN[0].$0):jK.slice(jN[0].$0,jN[1].$0+1);},GetArraySlice2D:function(jO,jP,jQ,jR,jS){var jT,jU;jT=jP.$==1?jP.$0:0;jU=jR.$==1?jR.$0:0;return e.GetArray2DSub(jO,jT,jU,(jQ.$==1?jQ.$0:jO.length-1)-jT+1,(jS.$==1?jS.$0:(jO.length?jO[0].length:0)-1)-jU+1);},GetArraySlice2DFixed1:function(jV,jW,jX,jY){var jZ,j0,j1,j2;jZ=jX.$==1?jX.$0:0;j0=(jY.$==1?jY.$0:(jV.length?jV[0].length:0)-1)-jZ+1;j1=f(j0);for(j2=0;j2<=j0-1;j2++){e.SetArray(j1,j2,e.GetArray2D(jV,jW,jZ+j2));}return j1;},GetArraySlice2DFixed2:function(j3,j4,j5,j6){var j7,j8,j9,j_;j7=j4.$==1?j4.$0:0;j8=(j5.$==1?j5.$0:j3.length-1)-j7+1;j9=f(j8);for(j_=0;j_<=j8-1;j_++){e.SetArray(j9,j_,e.GetArray2D(j3,j7+j_,j6));}return j9;},GetStringSlice:function(j$,ka,kb){var kc;kc=[ka,kb];return kc[0].$==0?kc[1].$==1?j$.slice(0,kc[1].$0+1):"":kc[1].$==0?j$.slice(kc[0].$0):j$.slice(kc[0].$0,kc[1].$0+1);},SetArraySlice:function(kd,ke,kf,kg){var kh;kh=ke.$==1?ke.$0:0;return e.SetArraySub(kd,kh,(kf.$==1?kf.$0:e.GetLength(kd)-1)-kh+1,kg);},SetArraySlice2D:function(ki,kj,kk,kl,km,kn){var ko,kp;ko=kj.$==1?kj.$0:0;kp=kl.$==1?kl.$0:0;return e.SetArray2DSub(ki,ko,kp,(kk.$==1?kk.$0:ki.length-1)-ko+1,(km.$==1?km.$0:(ki.length?ki[0].length:0)-1)-kp+1,kn);},SetArraySlice2DFixed1:function(kq,kr,ks,kt,ku){var kv,kw,kx;kv=ks.$==1?ks.$0:0;kw=(kt.$==1?kt.$0:(kq.length?kq[0].length:0)-1)-kv+1;for(kx=0;kx<=kw-1;kx++){e.SetArray2D(kq,kr,kv+kx,e.GetArray(ku,kx));}return;},SetArraySlice2DFixed2:function(ky,kz,kA,kB,kC){var kD,kE,kF;kD=kz.$==1?kz.$0:0;kE=(kA.$==1?kA.$0:ky.length-1)-kD+1;for(kF=0;kF<=kE-1;kF++){e.SetArray2D(ky,kD+kF,kB,e.GetArray(kC,kF));}return;}},Operators:{Compare:function(kG,kH){return h.Compare(kG,kH);},Decrement:function(kI){kI.contents=kI.contents-1;},DefaultArg:function(kJ,kK){return kJ.$==0?kK:kJ.$0;},FailWith:function(kL){return c.Raise(new s(kL));},Increment:function(kM){kM.contents=kM.contents+1;},KeyValue:function(kN){return[kN.K,kN.V];},Max:function(kO,kP){return h.Compare(kO,kP)===1?kO:kP;},Min:function(kQ,kR){return h.Compare(kQ,kR)===-1?kQ:kR;},Pown:function(kS,kT){var kU;kU=function(kV){var kW;if(kV===1){return kS;}else{if(kV%2===0){kW=kU(kV/2>>0);return kW*kW;}else{return kS*kU(kV-1);}}};return kU(kT);},Raise:function($e){var $0=this,$this=this;throw $e;},Sign:function(kX){return kX===0?0:kX<0?-1:1;},Truncate:function(kY){return kY<0?w.ceil(kY):w.floor(kY);},Using:function(kZ,k0){try{return k0(kZ);}finally{kZ.Dispose();}},range:function(k1,k2){return g.init(1+k2-k1,function(k3){return k3+k1;});},step:function(k4,k5,k6){var k7;k7=c.Sign(k5);return g.takeWhile(function(k8){return k7*(k6-k8)>=0;},g.initInfinite(function(k9){return k4+k9*k5;}));}},Option:{bind:function(k_,k$){return k$.$==0?{$:0}:k_(k$.$0);},exists:function(la,lb){return lb.$==0?false:la(lb.$0);},fold:function(lc,ld,le){var lf;if(le.$==0){return ld;}else{lf=le.$0;return(lc(ld))(lf);}},foldBack:function(lg,lh,li){return lh.$==0?li:(lg(lh.$0))(li);},forall:function(lj,lk){return lk.$==0?true:lj(lk.$0);},iter:function(ll,lm){return lm.$==0?null:ll(lm.$0);},map:function(ln,lo){return lo.$==0?{$:0}:{$:1,$0:ln(lo.$0)};},toArray:function(lp){return lp.$==0?[]:[lp.$0];},toList:function(lq){return lq.$==0?$.New(v,{$:0}):u.ofArray([lq.$0]);}},Pervasives:{NewFromList:function(lr){var ls,lt,lu;ls={};lt=i.Get(lr);while(lt.MoveNext()){lu=lt.get_Current();ls[lu[0]]=lu[1];}return ls;}},Queue:{Clear:function(lv){return lv.splice(0,e.GetLength(lv));},Contains:function(lw,lx){return g.exists(function(ly){return h.Equals(lx,ly);},lw);},CopyTo:function(lz,lA,lB){return b.blit(lz,0,lA,lB,e.GetLength(lz));}},Remoting:{AjaxProvider:$.Field(function(){return y.New();}),Async:function(lC,lD){var lE,lF,lG;lE=x.makeHeaders(lC);lF=x.makePayload(lD);lG=$.Tupled(function(lH){var lI,lJ,lK,lM;lI=lH[0];lJ=lH[1];lK=function(lL){return lI(t.Activate(z.parse(lL)));};lM=x.EndPoint();return x.AjaxProvider().Async(lM,lE,lF,lK,lJ);});return m.FromContinuations(function(lN){return function(lO){return lG([lN,lO,function(){}]);};});},Call:function(lQ,lR){var lS,lT,lU;lS=x.EndPoint();lT=x.makeHeaders(lQ);lU=x.makePayload(lR);return t.Activate(z.parse(x.AjaxProvider().Sync(lS,lT,lU)));},EndPoint:$.Field(function(){return"?";}),Send:function(lV,lW){return m.Start(m.Bind(x.Async(lV,lW),function(){return m.Return(null);}));},XhrProvider:$.Class({Async:function(lY,lZ,l0,l1,l2){return x.ajax(true,lY,lZ,l0,l1,l2);},Sync:function(l3,l4,l5){var l6;l6={contents:undefined};x.ajax(false,l3,l4,l5,function(l7){l6.contents=l7;},function(l8){return c.Raise(l8);});return l6.contents;}},{New:function(){return $.New(this,{});}}),ajax:function($async,$url,$headers,$data,$ok,$err){var $0=this,$this=this;var xhr=new $$.XMLHttpRequest();xhr.open("POST",$url,$async);for(var h in $headers){xhr.setRequestHeader(h,$headers[h]);}function k(){if(xhr.status==200){$ok(xhr.responseText);}else{var msg="Response status is not 200: ";$err(new $$.Error(msg+xhr.status));}}if("onload"in xhr){xhr.onload=xhr.onerror=xhr.onabort=k;}else{xhr.onreadystatechange=function(){if(xhr.readyState==4){k();}};}xhr.send($data);},makeHeaders:function(l9){var l_;l_={};l_["content-type"]="application/json";l_["x-websharper-rpc"]=l9;return l_;},makePayload:function(l$){return z.stringify(l$);}},Seq:{append:function(ma,mb){return A.Of(function(){var md;md=i.Get(ma);return r.New(md,null,function(me){var mf;if(me.s.MoveNext()){me.c=me.s.get_Current();return true;}else{if(me.s===md){mf=i.Get(mb);me.s=mf;if(mf.MoveNext()){me.c=mf.get_Current();return true;}else{return false;}}else{return false;}}});});},average:function(mg){var mh;mh=g.fold($.Tupled(function(mi){var mj,mk;mj=mi[0];mk=mi[1];return function(ml){return[mj+1,mk+ml];};}),[0,0],mg);return mh[1]/mh[0];},averageBy:function(mm,mn){var mo;mo=g.fold($.Tupled(function(mp){var mq,mr;mq=mp[0];mr=mp[1];return function(ms){return[mq+1,mr+mm(ms)];};}),[0,0],mn);return mo[1]/mo[0];},cache:function(mt){var mu,mv;mu=[];mv=i.Get(mt);return A.Of(function(){return r.New(0,null,function(mx){if(mx.s+1<mu.length){mx.s=mx.s+1;mx.c=mu[mx.s];return true;}else{if(mv.MoveNext()){mx.s=mx.s+1;mx.c=mv.get_Current();mu.push(mx.get_Current());return true;}else{return false;}}});});},choose:function(my,mz){return g.collect(function(mA){var mB;mB=my(mA);return mB.$==0?$.New(v,{$:0}):u.ofArray([mB.$0]);},mz);},collect:function(mC,mD){return g.concat(g.map(mC,mD));},compareWith:function(mE,mF,mG){var mH,mI,mJ,mK,mL;mH=i.Get(mF);mI=i.Get(mG);mJ=0;mK=true;while(mK?mJ===0:false){mL=[mH.MoveNext(),mI.MoveNext()];if(mL[0]){if(mL[1]){mJ=(mE(mH.get_Current()))(mI.get_Current());}else{mJ=1;}}else{if(mL[1]){mJ=-1;}else{mK=false;}}}return mJ;},concat:function(mM){return A.Of(function(){var mO,mP;mO=i.Get(mM);mP=function(mQ){var mR;mR=mQ.s;if(h.Equals(mR,null)){if(mO.MoveNext()){mQ.s=i.Get(mO.get_Current());return mP(mQ);}else{return false;}}else{if(mR.MoveNext()){mQ.c=mR.get_Current();return true;}else{mQ.s=null;return mP(mQ);}}};return r.New(null,null,mP);});},countBy:function(mS,mT){return g.delay(function(){var mV,mW,mX,mY,mZ;mV={};mW=i.Get(mT);mX=[];while(mW.MoveNext()){mY=mS(mW.get_Current());mZ=h.Hash(mY);if(mV.hasOwnProperty(mZ)){mV[mZ]=mV[mZ]+1;}else{mX.push(mY);mV[mZ]=1;}}return b.map(function(m0){return[m0,mV[h.Hash(m0)]];},mX.slice(0));});},delay:function(m1){return A.Of(function(){return i.Get(m1(null));});},distinct:function(m3){return g.distinctBy(function(m4){return m4;},m3);},distinctBy:function(m5,m6){return A.Of(function(){var m8,m9;m8=i.Get(m6);m9={};return r.New(null,null,function(m_){var m$,na,nc,ne;if(m8.MoveNext()){m$=m8.get_Current();na=function(nb){return h.Hash(m5(nb));};nc=function(nd){return m9.hasOwnProperty(na(nd));};ne=nc(m$);while(ne?m8.MoveNext():false){m$=m8.get_Current();ne=nc(m$);}if(ne){return false;}else{m9[na(m$)]=null;m_.c=m$;return true;}}else{return false;}});});},empty:function(){return[];},enumFinally:function(nf,ng){return A.Of(function(){var ni,nj;try{ni=i.Get(nf);}catch(nj){ng(null);ni=c.Raise(nj);}return r.New(null,null,function(nk){var nl;try{if(ni.MoveNext()){nk.c=ni.get_Current();return true;}else{ng(null);return false;}}catch(nl){ng(null);return c.Raise(nl);}});});},enumUsing:function(nm,nn){return nn(nm);},enumWhile:function(no,np){return A.Of(function(){var nr;nr=function(ns){var nt,nu;nt=ns.s;if(nt.$==1){nu=nt.$0;if(nu.MoveNext()){ns.c=nu.get_Current();return true;}else{ns.s={$:0};return nr(ns);}}else{if(no(null)){ns.s={$:1,$0:i.Get(np)};return nr(ns);}else{return false;}}};return r.New({$:0},null,nr);});},exists:function(nv,nw){var nx,ny;nx=i.Get(nw);ny=false;while(!ny?nx.MoveNext():false){ny=nv(nx.get_Current());}return ny;},exists2:function(nz,nA,nB){var nC,nD,nE;nC=i.Get(nA);nD=i.Get(nB);nE=false;while((!nE?nC.MoveNext():false)?nD.MoveNext():false){nE=(nz(nC.get_Current()))(nD.get_Current());}return nE;},filter:function(nF,nG){return A.Of(function(){var nI;nI=i.Get(nG);return r.New(null,null,function(nJ){var nK,nL,nM;nK=nI.MoveNext();nL=nI.get_Current();nM=false;while(nK){if(nF(nL)){nJ.c=nL;nM=true;nK=false;}else{if(nI.MoveNext()){nL=nI.get_Current();}else{nK=false;}}}return nM;});});},find:function(nN,nO){var nP;nP=g.tryFind(nN,nO);return nP.$==0?c.FailWith("KeyNotFoundException"):nP.$0;},findIndex:function(nQ,nR){var nS;nS=g.tryFindIndex(nQ,nR);return nS.$==0?c.FailWith("KeyNotFoundException"):nS.$0;},fold:function(nT,nU,nV){var nW,nX;nW=nU;nX=i.Get(nV);while(nX.MoveNext()){nW=(nT(nW))(nX.get_Current());}return nW;},forall:function(nY,nZ){return!g.exists(function(n0){return!nY(n0);},nZ);},forall2:function(n1,n2,n3){return!g.exists2(function(n4){return function(n5){return!(n1(n4))(n5);};},n2,n3);},groupBy:function(n6,n7){return g.delay(function(){var n9,n_,n$,oa,ob,oc,od;n9={};n_={};n$=[];oa=i.Get(n7);while(oa.MoveNext()){ob=oa.get_Current();oc=n6(ob);od=h.Hash(oc);if(!n9.hasOwnProperty(od)){n$.push(oc);}n_[od]=oc;if(n9.hasOwnProperty(od)){n9[od].push(ob);}else{n9[od]=[ob];}}return b.map(function(oe){return[oe,n9[h.Hash(oe)]];},n$);});},head:function(of){var og;og=i.Get(of);return og.MoveNext()?og.get_Current():g.insufficient();},init:function(oh,oi){return g.take(oh,g.initInfinite(oi));},initInfinite:function(oj){return A.Of(function(){return r.New(0,null,function(ol){ol.c=oj(ol.s);ol.s=ol.s+1;return true;});});},insufficient:function(){return c.FailWith("The input sequence has an insufficient number of elements.");},isEmpty:function(om){return!i.Get(om).MoveNext();},iter:function(on,oo){return g.iteri(function(){return function(oq){return on(oq);};},oo);},iter2:function(or,os,ot){var ou,ov;ou=i.Get(os);ov=i.Get(ot);while(ou.MoveNext()?ov.MoveNext():false){(or(ou.get_Current()))(ov.get_Current());}return;},iteri:function(ow,ox){var oy,oz;oy=0;oz=i.Get(ox);while(oz.MoveNext()){(ow(oy))(oz.get_Current());oy=oy+1;}return;},length:function(oA){var oB,oC;oB=0;oC=i.Get(oA);while(oC.MoveNext()){oB=oB+1;}return oB;},map:function(oD,oE){return A.Of(function(){var oG;oG=i.Get(oE);return r.New(null,null,function(oH){if(oG.MoveNext()){oH.c=oD(oG.get_Current());return true;}else{return false;}});});},mapi:function(oI,oJ){return g.mapi2(oI,g.initInfinite(function(oK){return oK;}),oJ);},mapi2:function(oL,oM,oN){return A.Of(function(){var oP,oQ;oP=i.Get(oM);oQ=i.Get(oN);return r.New(null,null,function(oR){if(oP.MoveNext()?oQ.MoveNext():false){oR.c=(oL(oP.get_Current()))(oQ.get_Current());return true;}else{return false;}});});},max:function(oS){return g.reduce(function(oT){return function(oU){return h.Compare(oT,oU)>=0?oT:oU;};},oS);},maxBy:function(oV,oW){return g.reduce(function(oX){return function(oY){return h.Compare(oV(oX),oV(oY))>=0?oX:oY;};},oW);},min:function(oZ){return g.reduce(function(o0){return function(o1){return h.Compare(o0,o1)<=0?o0:o1;};},oZ);},minBy:function(o2,o3){return g.reduce(function(o4){return function(o5){return h.Compare(o2(o4),o2(o5))<=0?o4:o5;};},o3);},nth:function(o6,o7){var o8,o9;if(o6<0){c.FailWith("negative index requested");}o8=-1;o9=i.Get(o7);while(o8<o6){if(!o9.MoveNext()){g.insufficient();}o8=o8+1;}return o9.get_Current();},pairwise:function(o_){return g.map(function(o$){return[e.GetArray(o$,0),e.GetArray(o$,1)];},g.windowed(2,o_));},pick:function(pa,pb){var pc;pc=g.tryPick(pa,pb);return pc.$==0?c.FailWith("KeyNotFoundException"):pc.$0;},readOnly:function(pd){return A.Of(function(){return i.Get(pd);});},reduce:function(pf,pg){var ph,pi;ph=i.Get(pg);if(!ph.MoveNext()){c.FailWith("The input sequence was empty");}pi=ph.get_Current();while(ph.MoveNext()){pi=(pf(pi))(ph.get_Current());}return pi;},scan:function(pj,pk,pl){return A.Of(function(){var pn;pn=i.Get(pl);return r.New(false,null,function(po){if(po.s){if(pn.MoveNext()){po.c=(pj(po.get_Current()))(pn.get_Current());return true;}else{return false;}}else{po.c=pk;po.s=true;return true;}});});},skip:function(pp,pq){return A.Of(function(){var ps,pt;ps=i.Get(pq);for(pt=1;pt<=pp;pt++){if(!ps.MoveNext()){g.insufficient();}}return ps;});},skipWhile:function(pu,pv){return A.Of(function(){var px,py;px=i.Get(pv);py=true;while(px.MoveNext()?pu(px.get_Current()):false){py=false;}return py?i.Get(g.empty()):r.New(true,null,function(pz){var pA;if(pz.s){pz.s=false;pz.c=px.get_Current();return true;}else{pA=px.MoveNext();pz.c=px.get_Current();return pA;}});});},sort:function(pB){return g.sortBy(function(pC){return pC;},pB);},sortBy:function(pD,pE){return g.delay(function(){var pG;pG=b.ofSeq(pE);b.sortInPlaceBy(pD,pG);return pG;});},sum:function(pH){return g.fold(function(pI){return function(pJ){return pI+pJ;};},0,pH);},sumBy:function(pK,pL){return g.fold(function(pM){return function(pN){return pM+pK(pN);};},0,pL);},take:function(pO,pP){return A.Of(function(){var pR;pR=i.Get(pP);return r.New(0,null,function(pS){if(pS.s>=pO){return false;}else{if(pR.MoveNext()){pS.s=pS.s+1;pS.c=pR.get_Current();return true;}else{pR.Dispose();pS.s=pO;return false;}}});});},takeWhile:function(pT,pU){return g.delay(function(){return g.enumUsing(i.Get(pU),function(pW){return g.enumWhile(function(){return pW.MoveNext()?pT(pW.get_Current()):false;},g.delay(function(){return[pW.get_Current()];}));});});},toArray:function(pZ){var p0,p1;p0=[];p1=i.Get(pZ);while(p1.MoveNext()){p0.push(p1.get_Current());}return p0.slice(0);},toList:function(p2){return u.ofSeq(p2);},truncate:function(p3,p4){return g.delay(function(){return g.enumUsing(i.Get(p4),function(p6){var p7;p7={contents:0};return g.enumWhile(function(){return p6.MoveNext()?p7.contents<p3:false;},g.delay(function(){c.Increment(p7);return[p6.get_Current()];}));});});},tryFind:function(p_,p$){var qa,qb,qc;qa=i.Get(p$);qb={$:0};while(qb.$==0?qa.MoveNext():false){qc=qa.get_Current();if(p_(qc)){qb={$:1,$0:qc};}}return qb;},tryFindIndex:function(qd,qe){var qf,qg,qh;qf=i.Get(qe);qg=true;qh=0;while(qg?qf.MoveNext():false){if(qd(qf.get_Current())){qg=false;}else{qh=qh+1;}}return qg?{$:0}:{$:1,$0:qh};},tryPick:function(qi,qj){var qk,ql;qk=i.Get(qj);ql={$:0};while(h.Equals(ql,{$:0})?qk.MoveNext():false){ql=qi(qk.get_Current());}return ql;},unfold:function(qm,qn){return A.Of(function(){return r.New(qn,null,function(qp){var qq,qr;qq=qm(qp.s);if(qq.$==0){return false;}else{qr=qq.$0[1];qp.c=qq.$0[0];qp.s=qr;return true;}});});},windowed:function(qs,qt){if(qs<=0){c.FailWith("The input must be non-negative.");}return g.delay(function(){return g.enumUsing(i.Get(qt),function(qv){var qw;qw=[];return g.append(g.enumWhile(function(){return qw.length<qs?qv.MoveNext():false;},g.delay(function(){qw.push(qv.get_Current());return g.empty();})),g.delay(function(){return qw.length===qs?g.append([qw.slice(0)],g.delay(function(){return g.enumWhile(function(){return qv.MoveNext();},g.delay(function(){qw.shift();qw.push(qv.get_Current());return[qw.slice(0)];}));})):g.empty();}));});});},zip:function(qD,qE){return g.mapi2(function(qF){return function(qG){return[qF,qG];};},qD,qE);},zip3:function(qH,qI,qJ){return g.mapi2(function(qK){return $.Tupled(function(qL){return[qK,qL[0],qL[1]];});},qH,g.zip(qI,qJ));}},Stack:{Clear:function(qM){return qM.splice(0,e.GetLength(qM));},Contains:function(qN,qO){return g.exists(function(qP){return h.Equals(qO,qP);},qN);},CopyTo:function(qQ,qR,qS){return b.blit(qR,0,qR,qS,e.GetLength(qQ));}},Strings:{Compare:function(qT,qU){return c.Compare(qT,qU);},CopyTo:function(qV,qW,qX,qY,qZ){return b.blit(B.ToCharArray(qV),qW,qX,qY,qZ);},EndsWith:function($x,$s){var $0=this,$this=this;return $x.substring($x.length-$s.length)==$s;},IndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.indexOf($$.String.fromCharCode($c),$i);},Insert:function($x,$index,$s){var $0=this,$this=this;return $x.substring(0,$index-1)+$s+$x.substring($index);},IsNullOrEmpty:function($x){var $0=this,$this=this;return $x==null||$x=="";},Join:function($sep,$values){var $0=this,$this=this;return $values.join($sep);},LastIndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.lastIndexOf($$.String.fromCharCode($c),$i);},PadLeft:function(q0,q1){return f(q1-q0.length+1).join(C.fromCharCode(32))+q0;},PadRight:function(q2,q3){return q2+f(q3-q2.length+1).join(C.fromCharCode(32));},RegexEscape:function($s){var $0=this,$this=this;return $s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");},Remove:function($x,$ix,$ct){var $0=this,$this=this;return $x.substring(0,$ix)+$x.substring($ix+$ct);},Replace:function(q4,q5,q6){var q7;q7=function(q8){var q9,q_,q$;q9=q8.indexOf(q5);if(q9!==-1){q_=B.ReplaceOnce(q8,q5,q6);q$=q9+q6.length;return B.Substring(q_,0,q9+q6.length)+q7(q_.substring(q$));}else{return q8;}};return q7(q4);},ReplaceChar:function(ra,rb,rc){return B.Replace(ra,C.fromCharCode(rb),C.fromCharCode(rc));},ReplaceOnce:function($string,$search,$replace){var $0=this,$this=this;return $string.replace($search,$replace);},Split:function(rd,re,rf){var rg;rg=B.SplitWith(rd,re);return rf===1?b.filter(function(rh){return rh!=="";},rg):rg;},SplitChars:function(ri,rj,rk){return B.Split(ri,new D("["+B.RegexEscape(C.fromCharCode.apply(undefined,rj))+"]"),rk);},SplitStrings:function(rl,rm,rn){return B.Split(rl,new D(B.concat("|",b.map(function(ro){return B.RegexEscape(ro);},rm))),rn);},SplitWith:function($str,$pat){var $0=this,$this=this;return $str.split($pat);},StartsWith:function($t,$s){var $0=this,$this=this;return $t.substring(0,$s.length)==$s;},Substring:function($s,$ix,$ct){var $0=this,$this=this;return $s.substr($ix,$ct);},ToCharArray:function(rp){return b.init(rp.length,function(rq){return rp.charCodeAt(rq);});},ToCharArrayRange:function(rr,rs,rt){return b.init(rt,function(ru){return rr.charCodeAt(rs+ru);});},Trim:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"").replace(/\s+$/,"");},collect:function(rv,rw){return b.init(rw.length,function(rx){return rv(rw.charCodeAt(rx));}).join("");},concat:function(ry,rz){return g.toArray(rz).join(ry);},exists:function(rA,rB){return g.exists(rA,B.protect(rB));},forall:function(rC,rD){return g.forall(rC,B.protect(rD));},init:function(rE,rF){return b.init(rE,rF).join("");},iter:function(rG,rH){return g.iter(rG,B.protect(rH));},iteri:function(rI,rJ){return g.iteri(rI,B.protect(rJ));},length:function(rK){return B.protect(rK).length;},map:function(rL,rM){return B.collect(function(rN){return C.fromCharCode(rL(rN));},B.protect(rM));},mapi:function(rO,rP){return g.toArray(g.mapi(function(rQ){return function(rR){return C.fromCharCode((rO(rQ))(rR));};},rP)).join("");},protect:function(rS){return rS===null?"":rS;},replicate:function(rT,rU){return B.init(rT,function(){return rU;});}},Unchecked:{Compare:function(rW,rX){var rY;if(rW===rX){return 0;}else{rY=typeof rW;return rY==="undefined"?typeof rX==="undefined"?0:-1:rY==="function"?c.FailWith("Cannot compare function values."):rY==="boolean"?rW<rX?-1:1:rY==="number"?rW<rX?-1:1:rY==="string"?rW<rX?-1:1:rW===null?-1:rX===null?1:"CompareTo"in rW?rW.CompareTo(rX):(rW instanceof f?rX instanceof f:false)?h.compareArrays(rW,rX):(rW instanceof o?rX instanceof o:false)?h.compareDates(rW,rX):h.compareArrays(p.GetFields(rW),p.GetFields(rX));}},Equals:function(rZ,r0){return rZ===r0?true:typeof rZ==="object"?rZ===null?false:r0===null?false:"Equals"in rZ?rZ.Equals(r0):(rZ instanceof f?r0 instanceof f:false)?h.arrayEquals(rZ,r0):(rZ instanceof o?r0 instanceof o:false)?h.dateEquals(rZ,r0):h.arrayEquals(p.GetFields(rZ),p.GetFields(r0)):false;},Hash:function(r1){var r2;r2=typeof r1;return r2==="function"?0:r2==="boolean"?r1?1:0:r2==="number"?r1:r2==="string"?h.hashString(r1):r2==="object"?r1==null?0:r1 instanceof f?h.hashArray(r1):h.hashObject(r1):0;},arrayEquals:function(r3,r4){var r5,r6;if(e.GetLength(r3)===e.GetLength(r4)){r5=true;r6=0;while(r5?r6<e.GetLength(r3):false){if(!h.Equals(e.GetArray(r3,r6),e.GetArray(r4,r6))){r5=false;}r6=r6+1;}return r5;}else{return false;}},compareArrays:function(r7,r8){var r9,r_;if(e.GetLength(r7)<e.GetLength(r8)){return-1;}else{if(e.GetLength(r7)>e.GetLength(r8)){return 1;}else{r9=0;r_=0;while(r9===0?r_<e.GetLength(r7):false){r9=h.Compare(e.GetArray(r7,r_),e.GetArray(r8,r_));r_=r_+1;}return r9;}}},compareDates:function(r$,sa){return c.Compare(r$.getTime(),sa.getTime());},dateEquals:function(sb,sc){return sb.getTime()===sc.getTime();},hashArray:function(sd){var se,sf;se=-34948909;for(sf=0;sf<=e.GetLength(sd)-1;sf++){se=h.hashMix(se,h.Hash(e.GetArray(sd,sf)));}return se;},hashMix:function(sg,sh){return(sg<<5)+sg+sh;},hashObject:function(si){var sj,sm;if("GetHashCode"in si){return si.GetHashCode();}else{sj=function(sk,sl){return h.hashMix(sk,sl);};sm={contents:0};p.ForEach(si,function(sn){sm.contents=sj(sj(sm.contents,h.hashString(sn)),h.Hash(si[sn]));return false;});return sm.contents;}},hashString:function(so){var sp,sq;if(so===null){return 0;}else{sp=5381;for(sq=0;sq<=so.length-1;sq++){sp=h.hashMix(sp,so.charCodeAt(sq)<<0);}return sp;}}},Util:{addListener:function(sr,ss){sr.Subscribe(l.observer(ss));},observer:function(st){return{OnCompleted:function(){},OnError:function(){},OnNext:st};},subscribeTo:function(sw,sx){return sw.Subscribe(l.observer(sx));}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Arrays);c=$.Safe(a.Operators);d=$.Safe($$.Number);e=$.Safe(a.IntrinsicFunctionProxy);f=$.Safe($$.Array);g=$.Safe(a.Seq);h=$.Safe(a.Unchecked);i=$.Safe(a.Enumerator);j=$.Safe(a.Arrays2D);k=$.Safe(a.Char);l=$.Safe(a.Util);m=$.Safe(a.Concurrency);n=$.Safe($$.setTimeout);o=$.Safe($$.Date);p=$.Safe(a.JavaScript);q=$.Safe(m.Scheduler);r=$.Safe(i.T);s=$.Safe($$.Error);t=$.Safe(a.Json);u=$.Safe(a.List);v=$.Safe(u.T);w=$.Safe($$.Math);x=$.Safe(a.Remoting);y=$.Safe(x.XhrProvider);z=$.Safe($$.JSON);A=$.Safe(a.Enumerable);B=$.Safe(a.Strings);C=$.Safe($$.String);return D=$.Safe($$.RegExp);});$.OnLoad(function(){x.EndPoint();x.AjaxProvider();m.scheduler();return;});}());
