(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O;$.Define($$,{Website:{BooksAdmin:{Client:{addFormlet:$.Field(function(){var P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,be,bf;P=c.Input("");Q=d.WithTextLabel("URL",P);R=c.Input("");S=d.WithTextLabel("Title",R);T=d.WithTextLabel("Author",c.Input(""));U=d.Many(T);V=d.WithFormContainer(U);W=c.Input("");X=d.WithTextLabel("Publisher",W);Y=c.Input("");Z=d.WithTextLabel("ISBN",Y);_0=c.Input("");_1=d.WithTextLabel("Pages",_0);_2=c.Input("");_3=d.WithTextLabel("Release Date",_2);_4=c.Input("");_5=d.WithTextLabel("Cover URL",_4);_6=e.$(e.$(e.$(e.$(e.$(e.$(e.$(e.$(f.Return(function(_7){return function(_8){return function(_9){return function(_){return function(ba){return function(bb){return function(bc){return function(bd){return[_7,_8,_9,_,ba,bb,bc,bd];};};};};};};};}),Q),S),V),X),Z),_1),_3),_5);be=d.WithSubmitAndResetButtons(_6);bf=d.WithFormContainer(be);return f.Run($.Tupled(function(bg){var bh,bi,bj,bk,bl,bm,bn,bo;bh=bg[0];bi=bg[1];bj=bg[2];bk=bg[3];bl=bg[4];bm=bg[5];bn=bg[6];bo=bg[7];return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:10",[bh,bi,bj,bk,bl,bm,bn,bo]),function(bq){if(bq){i("New book inserted successfully.");return g.Return(null);}else{i("The query failed.");return g.Return(null);}});}));}),bf);}),main:function(){return k.add(l.Div(m.ofArray([l.Attr().Class("row")])),m.ofArray([l.Div(m.ofArray([l.H1(m.ofArray([l.Text("Add new book")])),l.Div(m.ofArray([p.addFormlet()]))]))]));},tr:function(bq,br){return l.TR(m.ofArray([l.TD(m.ofArray([l.Text(bq)])),l.TD(m.ofArray([l.Text(br)]))]));}},Control:$.Class({get_Body:function(){return p.main();}})},GitHubRepos:{Client:{hideProress:function(){if(q("[data-status=\"loading\"]").length===0){q("#progress-bar").slideUp();return q("[data-spy=\"scroll\"]").each(function(){return q(this).scrollspy.call(null,"refresh");});}else{return q("[data-spy=\"scroll\"]").each(function(){return q(this).scrollspy.call(null,"refresh");});}},newRepos:function(){var bs;bs=l.Div(m.ofArray([r.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(bt){return g.Start(g.Delay(function(){var bv;bv=h.Async("Sitelet:2",[]);return g.Bind(bv,function(bw){s.iter(function(bx){return bt.AppendI(k.add(l.Div(m.ofArray([l.Attr().Class("row data-row")])),bx));},t.split(2,u.mapi(function(by){return function(bz){var bA,bB,bC,bD;bA=by%2===0?"col-md-5":"col-md-5 col-md-offset-1";bB=bz.ownerLink;bC=bz.ownerAvatar;bD=bz.link;return k.add(l.Div(m.ofArray([l.Attr().Class(bA)])),m.ofArray([k.add(l.Div(m.ofArray([l.Attr().Class("media")])),m.ofArray([k.add(l.A(m.ofArray([l.Attr().Class("media-left"),l.Attr().NewAttr("href",bB),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Img(m.ofArray([l.Attr().NewAttr("style","width: 30px; height: 30px;"),l.Attr().NewAttr("src",bC)]))])),k.add(l.Div(m.ofArray([l.Attr().Class("media-body")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("media-heading"),l.Attr().NewAttr("style","word-break: break-word;")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",bD),l.Attr().NewAttr("target","_blank"),l.Text(bz.name)]))])),l.P(m.ofArray([l.Text(bz.createdAt)])),l.P(m.ofArray([l.Text(bz.description)]))]))]))]));};},bw)));bt["HtmlProvider@32"].RemoveAttribute(bt.Body,"data-status");w.hideProress();return g.Return(null);});}));},bs);return bs;},updatedRepos:function(){var bE;bE=l.Div(m.ofArray([r.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(bF){return g.Start(g.Delay(function(){var bH;bH=h.Async("Sitelet:3",[]);return g.Bind(bH,function(bI){s.iter(function(bJ){return bF.AppendI(k.add(l.Div(m.ofArray([l.Attr().Class("row data-row")])),bJ));},t.split(2,u.mapi(function(bK){return function(bL){var bM,bN,bO,bP;bM=bK%2===0?"col-md-5":"col-md-5 col-md-offset-1";bN=bL.ownerLink;bO=bL.ownerAvatar;bP=bL.link;return k.add(l.Div(m.ofArray([l.Attr().Class(bM)])),m.ofArray([k.add(l.Div(m.ofArray([l.Attr().Class("media")])),m.ofArray([k.add(l.A(m.ofArray([l.Attr().Class("media-left"),l.Attr().NewAttr("href",bN),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Img(m.ofArray([l.Attr().NewAttr("style","width: 30px; height: 30px;"),l.Attr().NewAttr("src",bO)]))])),k.add(l.Div(m.ofArray([l.Attr().Class("media-body")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("media-heading"),l.Attr().NewAttr("style","word-break: break-word;")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",bP),l.Attr().NewAttr("target","_blank"),l.Text(bL.name)]))])),l.P(m.ofArray([l.Text(bL.pushedAt)])),l.P(m.ofArray([l.Text(bL.description)]))]))]))]));};},bI)));bF["HtmlProvider@32"].RemoveAttribute(bF.Body,"data-status");w.hideProress();return g.Return(null);});}));},bE);return bE;}},NewReposControl:$.Class({get_Body:function(){return w.newRepos();}}),UpdatedReposControl:$.Class({get_Body:function(){return w.updatedRepos();}})},Login:{Client:{loginForm:function(bQ){var bR,bS,bT,bY,bZ,b0,b1,b2;bR=l.Input(m.ofArray([l.Attr().Class("form-control"),l.Attr().NewAttr("id","username"),l.Attr().NewAttr("type","text"),r.Attr().NewAttr("autofocus","autofocus")]));bS=k.add(l.Button(m.ofArray([l.Attr().Class("btn btn-primary btn-block"),l.Attr().NewAttr("id","login-btn"),l.Attr().NewAttr("type","button")])),m.ofArray([l.Text("Submit")]));bT=function(){return function(){return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:8",[{Name:bR.get_Value(),Password:y.passInput().get_Value()}]),function(bX){if(bX.$==1){z.location.assign(bQ);return g.Return(null);}else{i("Login failed");return g.Return(null);}});}));};};A.Events().OnClick(bT,bS);bY=bS;bZ=m.ofArray([l.Attr().Class("form-group")]);b0=m.ofArray([l.Text("Username"),l.Attr().NewAttr("for","username")]);b1=m.ofArray([l.Text("Password"),l.Attr().NewAttr("for","password")]);b2=m.ofArray([bY]);return k.add(l.Form(m.ofArray([l.Attr().NewAttr("role","form"),l.Attr().NewAttr("id","signin")])),m.ofArray([l.H2(m.ofArray([l.Text("Please sign in")])),k.add(l.Tags().NewTag("fieldset",bZ),m.ofArray([l.Tags().NewTag("label",b0),bR,l.Tags().NewTag("label",b1),y.passInput()])),l.Tags().NewTag("fieldset",b2)]));},passInput:$.Field(function(){var b3,b4;b3=l.Input(m.ofArray([l.Attr().Class("form-control"),l.Attr().NewAttr("id","password"),l.Attr().NewAttr("type","password")]));b4=function(){return function(b6){return b6.KeyCode===13?q("#login-btn").click():null;};};A.Events().OnKeyDown(b4,b3);return b3;})},Control:$.Class({get_Body:function(){return y.loginForm(this.redirectUrl);}})},News:{Control:$.Class({get_Body:function(){return B.main();}}),main:$.Field(function(){var b7;b7=l.UL(m.ofArray([l.Attr().NewAttr("id","news-list"),l.Attr().Class("list-group")]));q.getJSON("http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=http%3A%2F%2Ffpish.net%2Frss%2Fblogs%2Ftag%2F1%2Ff~23",$.Tupled(function(b8){var b9,b_,b$;b9=b8[0];b_=b8[1];b$=b9.responseData.feed.entries;return u.iter(function(ca){var cb;cb=ca.link;return b7.AppendI(k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",cb),l.Attr().NewAttr("target","_blank"),l.Text(ca.title)]))])),l.P(m.ofArray([l.Text(ca.contentSnippet)]))])));},b$);}));return l.Div(m.ofArray([b7]));})},NuGet:{Client:{hideProress:function(){if(q("[data-status=\"loading\"]").length===0){q("#progress-bar").slideUp();return q("[data-spy=\"scroll\"]").each(function(){return q(this).scrollspy.call(null,"refresh");});}else{return q("[data-spy=\"scroll\"]").each(function(){return q(this).scrollspy.call(null,"refresh");});}},main:function(){var cc;cc=l.Div(m.ofArray([r.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(cd){return g.Start(g.Delay(function(){var cf;cf=h.Async("Sitelet:1",[]);return g.Bind(cf,function(cg){s.iter(function(ch){return cd.AppendI(k.add(l.Div(m.ofArray([l.Attr().Class("row data-row")])),ch));},t.split(2,u.mapi(function(ci){return function(cj){var ck,cl,cm,cn;ck=ci%2===0?"col-md-5":"col-md-5 col-md-offset-1";cl=cj.projectUrl;cm=cj.iconUrl;cn=cj.galleryDetailsUrl;return k.add(l.Div(m.ofArray([l.Attr().Class(ck)])),m.ofArray([k.add(l.Div(m.ofArray([l.Attr().Class("media")])),m.ofArray([k.add(l.A(m.ofArray([l.Attr().Class("media-left"),l.Attr().NewAttr("href",cl),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Img(m.ofArray([l.Attr().NewAttr("src",cm),l.Attr().Class("avatar")]))])),k.add(l.Div(m.ofArray([l.Attr().Class("media-body")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("media-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",cn),l.Attr().NewAttr("target","_blank"),l.Text(cj.id+" "+cj.version)]))])),l.P(m.ofArray([l.Text("Pushed on: "+cj.lastUpdated)])),l.P(m.ofArray([l.Text("Download Count: "),l.Span(m.ofArray([l.Attr().Class("badge"),l.Text($$.String(cj.downloadCount))]))])),l.Div(s.toList(s.delay(function(){return s.map(function(cp){return l.Span(m.ofArray([l.Attr().Class("label label-info"),l.Text(cp)]));},cj.tags);})))]))]))]));};},cg)));cd["HtmlProvider@32"].RemoveAttribute(cd.Body,"data-status");D.hideProress();return g.Return(null);});}));},cc);return cc;}},Control:$.Class({get_Body:function(){return D.main();}})},Questions:{Client:{displayQuestions:function(cq,cr){var cs;cs=l.UL(m.ofArray([l.Attr().Class("list-group"),l.Id("questions-list")]));u.iter(function(ct){return cs.AppendI(ct);},u.map($.Tupled(function(cu){return F.li(cu[0],cu[1],cu[2],cu[3],cu[4]);}),cq));return cr.AppendI(cs);},li:function(cv,cw,cx,cy,cz){var cA,cB;cA=m.ofArray([l.Text(cw)]);cB=m.ofArray([l.Text(cx+", "+cy)]);return k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.A(m.ofArray([l.HRef(cv),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Tags().NewTag("strong",cA)])),l.Br($.New(G,{$:0})),l.Tags().NewTag("small",cB),l.P(m.ofArray([l.Text(cz)]))]));},main:function(){var cC;cC=l.Div(m.ofArray([l.Attr().Class("home-widget")]));k.OnAfterRender(function(cD){return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:7",[]),function(cF){if(cF.$==1){F.displayQuestions(cF.$0,cD);return g.Return(null);}else{return g.Return(null);}});}));},cC);return cC;}},Control:$.Class({get_Body:function(){return F.main();}})},Snippets:{Client:{dispalySnippets:function(cG,cH){var cI;cI=l.UL(m.ofArray([l.Attr().Class("list-group")]));u.iter(function(cJ){return cI.AppendI(cJ);},u.map($.Tupled(function(cK){return I.li(cK[0],cK[1],cK[2]);}),cG));return cH.AppendI(cI);},li:function(cL,cM,cN){var cO;cO=m.ofArray([l.Text(cM)]);return k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.A(m.ofArray([l.HRef(cL),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Tags().NewTag("strong",cO)])),l.P(m.ofArray([l.Text(cN)]))]));},main:function(){var cP;cP=l.Div(m.ofArray([l.Attr().Class("home-widget")]));k.OnAfterRender(function(cQ){return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:6",[]),function(cS){if(cS.$==1){I.dispalySnippets(cS.$0,cQ);return g.Return(null);}else{return g.Return(null);}});}));},cP);return cP;}},Control:$.Class({get_Body:function(){return I.main();}})},StackOverflow:{Client:{hideProress:function(){if(q("[data-status=\"loading\"]").length===0){q("#progress-bar").slideUp();return q("[data-spy=\"scroll\"]").each(function(){return q(this).scrollspy.call(null,"refresh");});}else{return q("[data-spy=\"scroll\"]").each(function(){return q(this).scrollspy.call(null,"refresh");});}},main:function(){var cT;cT=l.Div(m.ofArray([r.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(cU){return g.Start(g.Delay(function(){var cW;cW=h.Async("Sitelet:4",[]);return g.Bind(cW,function(cX){s.iter(function(cY){return cU.AppendI(k.add(l.Div(m.ofArray([l.Attr().Class("row data-row")])),cY));},t.split(2,u.mapi(function(cZ){return function(c0){var c1,c2,c3,c4;c1=cZ%2===0?"col-md-5":"col-md-5 col-md-offset-1";c2=c0.ownerLink;c3=c0.ownerAvatar;c4=c0.link;return k.add(l.Div(m.ofArray([l.Attr().Class(c1)])),m.ofArray([k.add(l.Div(m.ofArray([l.Attr().Class("media")])),m.ofArray([k.add(l.A(m.ofArray([l.Attr().Class("media-left"),l.Attr().NewAttr("href",c2),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Img(m.ofArray([l.Attr().NewAttr("src",c3),l.Attr().Class("avatar")]))])),k.add(l.Div(m.ofArray([l.Attr().Class("media-body")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("media-heading"),l.Attr().NewAttr("style","word-break: break-word;")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",c4),l.Attr().NewAttr("target","_blank"),l.Text(c0.title)]))])),l.P(m.ofArray([l.Text(c0.creationDate)])),l.P(m.ofArray([l.Text("Score: "),l.Span(m.ofArray([l.Attr().Class("badge"),l.Text($$.String(c0.score))])),l.Text(" Answers: "),l.Span(m.ofArray([l.Attr().Class("badge"),l.Text($$.String(c0.answerCount))]))])),l.Div(s.toList(s.delay(function(){return s.map(function(c6){return l.Span(m.ofArray([l.Attr().Class("label label-info"),l.Text(c6)]));},c0.tags);})))]))]))]));};},cX)));cU["HtmlProvider@32"].RemoveAttribute(cU.Body,"data-status");K.hideProress();return g.Return(null);});}));},cT);return cT;}},Control:$.Class({get_Body:function(){return K.main();}})},Twitter:{Client:{hideProress:function(){if(q("[data-status=\"loading\"]").length===0){q("#progress-bar").slideUp();return q("[data-spy=\"scroll\"]").each(function(){return q(this).scrollspy.call(null,"refresh");});}else{return q("[data-spy=\"scroll\"]").each(function(){return q(this).scrollspy.call(null,"refresh");});}},main:function(){var c7;c7=l.Div(m.ofArray([r.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(c8){return g.Start(g.Delay(function(){var c_;c_=h.Async("Sitelet:5",[]);return g.Bind(c_,function(c$){s.iter(function(da){return c8.AppendI(k.add(l.Div(m.ofArray([l.Attr().Class("row data-row")])),da));},t.split(2,u.mapi(function(db){return function(dc){var dd,de,df,dg,dh,di,dj,dk,dl,dm;dd=db%2===0?"col-md-5":"col-md-5 col-md-offset-1";de=l.P($.New(G,{$:0}));de.set_Html(dc.statusAsHtml);df=dc.isRetweeted?[dc.retweetedScreenName.$0,dc.retweetedId.$0]:[dc.screenName,dc.id];dg=df[1];dh=df[0];di="https://twitter.com/"+dc.screenName;dj=dc.avatar;dk="https://twitter.com/"+dc.screenName;dm="https://twitter.com/"+dh+"/status/"+dg;dl=m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",dm),l.Attr().NewAttr("target","_blank"),l.Text(dc.createdAt)]))]);return k.add(l.Div(m.ofArray([l.Attr().Class(dd)])),m.ofArray([k.add(l.Div(m.ofArray([l.Attr().Class("media")])),m.ofArray([k.add(l.A(m.ofArray([l.Attr().Class("media-left"),l.Attr().NewAttr("href",di),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Img(m.ofArray([l.Attr().NewAttr("src",dj),l.Attr().Class("avatar")]))])),k.add(l.Div(m.ofArray([l.Attr().Class("media-body")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("media-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",dk),l.Attr().NewAttr("target","_blank"),l.Text(dc.screenName)])),l.Text(" "),l.Tags().NewTag("small",dl)])),de]))]))]));};},c$)));c8["HtmlProvider@32"].RemoveAttribute(c8.Body,"data-status");M.hideProress();return g.Return(null);});}));},c7);return c7;}},Control:$.Class({get_Body:function(){return M.main();}})},Utils:{skip:function(dn,_do){return s.skip(_do,dn);},split:function(dp,dq){var dr;dr=function(ds){return s.toList(s.delay(function(){return s.append([t.truncate(ds,dp)],s.delay(function(){return s.length(ds)<=dp?s.empty():dr(t.skip(ds,dp));}));}));};return dr(dq);},truncate:function(dv,dw){return s.truncate(dw,dv);}},VideosAdmin:{Client:{main:function(){var dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dN,dO;dx=c.Input("");dy=d.WithTextLabel("Title",dx);dz=c.Input("");dA=d.WithTextLabel("URL",dz);dB=c.Input("");dC=d.WithTextLabel("Thumbnail",dB);dD=c.Input("");dE=d.WithTextLabel("Website",dD);dF=c.Input("");dG=d.WithTextLabel("Date",dF);dH=e.$(e.$(e.$(e.$(e.$(f.Return(function(dI){return function(dJ){return function(dK){return function(dL){return function(dM){return[dI,dJ,dK,dL,dM];};};};};}),dy),dA),dC),dE),dG);dN=d.WithSubmitAndResetButtons(dH);dO=d.WithFormContainer(dN);return f.Run($.Tupled(function(dP){var dQ,dR,dS,dT,dU;dQ=dP[0];dR=dP[1];dS=dP[2];dT=dP[3];dU=dP[4];return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:0",[dQ,dR,dS,dT,dU]),function(dW){if(dW){i("New video inserted successfully.");return g.Return(null);}else{i("The query failed.");return g.Return(null);}});}));}),dO);}},Control:$.Class({get_Body:function(){return O.main();}})}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Formlet);c=$.Safe(b.Controls);d=$.Safe(b.Enhance);e=$.Safe(b.Data);f=$.Safe(b.Formlet);g=$.Safe(a.Concurrency);h=$.Safe(a.Remoting);i=$.Safe($$.alert);j=$.Safe(a.Html);k=$.Safe(j.Operators);l=$.Safe(j.Default);m=$.Safe(a.List);n=$.Safe($$.Website);o=$.Safe(n.BooksAdmin);p=$.Safe(o.Client);q=$.Safe($$.jQuery);r=$.Safe(l.HTML5);s=$.Safe(a.Seq);t=$.Safe(n.Utils);u=$.Safe(a.Arrays);v=$.Safe(n.GitHubRepos);w=$.Safe(v.Client);x=$.Safe(n.Login);y=$.Safe(x.Client);z=$.Safe($$.window);A=$.Safe(j.EventsPervasives);B=$.Safe(n.News);C=$.Safe(n.NuGet);D=$.Safe(C.Client);E=$.Safe(n.Questions);F=$.Safe(E.Client);G=$.Safe(m.T);H=$.Safe(n.Snippets);I=$.Safe(H.Client);J=$.Safe(n.StackOverflow);K=$.Safe(J.Client);L=$.Safe(n.Twitter);M=$.Safe(L.Client);N=$.Safe(n.VideosAdmin);return O=$.Safe(N.Client);});$.OnLoad(function(){B.main();y.passInput();p.addFormlet();return;});}());
