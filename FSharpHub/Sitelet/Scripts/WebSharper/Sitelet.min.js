(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;$.Define($$,{Website:{BooksAdmin:{Client:{addFormlet:$.Field(function(){var J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_9,_;J=c.Input("");K=d.WithTextLabel("URL",J);L=c.Input("");M=d.WithTextLabel("Title",L);N=d.WithTextLabel("Author",c.Input(""));O=d.Many(N);P=d.WithFormContainer(O);Q=c.Input("");R=d.WithTextLabel("Publisher",Q);S=c.Input("");T=d.WithTextLabel("ISBN",S);U=c.Input("");V=d.WithTextLabel("Pages",U);W=c.Input("");X=d.WithTextLabel("Release Date",W);Y=c.Input("");Z=d.WithTextLabel("Cover URL",Y);_0=e.$(e.$(e.$(e.$(e.$(e.$(e.$(e.$(f.Return(function(_1){return function(_2){return function(_3){return function(_4){return function(_5){return function(_6){return function(_7){return function(_8){return[_1,_2,_3,_4,_5,_6,_7,_8];};};};};};};};}),K),M),P),R),T),V),X),Z);_9=d.WithSubmitAndResetButtons(_0);_=d.WithFormContainer(_9);return f.Run($.Tupled(function(ba){var bb,bc,bd,be,bf,bg,bh,bi;bb=ba[0];bc=ba[1];bd=ba[2];be=ba[3];bf=ba[4];bg=ba[5];bh=ba[6];bi=ba[7];return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:4",[bb,bc,bd,be,bf,bg,bh,bi]),function(bk){if(bk){i("New book inserted successfully.");return g.Return(null);}else{i("The query failed.");return g.Return(null);}});}));}),_);}),main:function(){return k.add(l.Div(m.ofArray([l.Attr().Class("row")])),m.ofArray([l.Div(m.ofArray([l.H1(m.ofArray([l.Text("Add new book")])),l.Div(m.ofArray([p.addFormlet()]))]))]));},tr:function(bk,bl){return l.TR(m.ofArray([l.TD(m.ofArray([l.Text(bk)])),l.TD(m.ofArray([l.Text(bl)]))]));}},Control:$.Class({get_Body:function(){return p.main();}})},FPish:{Control:$.Class({get_Body:function(){return q.main();}}),itemLi:function(bm){var bn;bn=bm.link;return k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",bn),l.Attr().NewAttr("target","_blank"),l.Text(bm.title)]))])),l.Div(r.toList(r.delay(function(){return r.map(function(bp){return k.add(l.Span(m.ofArray([l.Attr().Class("label label-info")])),m.ofArray([l.Text(bp)]));},bm.categories);})))]));},main:function(){var bq;bq=l.Div(m.ofArray([s.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(br){return t.displayFeed("http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=http%3A%2F%2Ffpish.net%2Frss%2Ftopics%2Fall",function(bs){return q.itemLi(bs);},br);},bq);return bq;}},FSSnip:{Client:{hideProress:function(){return u("[data-status=\"loading\"]").length===0?u("#progress-bar").slideUp():u("[data-spy=\"scroll\"]").each(function(){return u(this).scrollspy.call(null,"refresh");});},main:function(){var bt;bt=l.Div(m.ofArray([s.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(bu){return g.Start(g.Delay(function(){var bw;bw=h.Async("Sitelet:1",[]);return g.Bind(bw,function(bx){var by,bz,bC;by=l.UL(m.ofArray([l.Attr().Class("list-group")]));bz=g.For(bx,function(bA){var bB;bB=bA.link;by.AppendI(k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",bB),l.Attr().NewAttr("target","_blank"),l.Text(bA.title)]))])),l.P(m.ofArray([l.Text(bA.description)])),l.P(m.ofArray([l.Text("Published "+bA.published+" by "+bA.author)]))])));return g.Return(null);});bC=g.Delay(function(){bu.AppendI(by);v.Log("Appended snippets list");bu["HtmlProvider@32"].RemoveAttribute(bu.Body,"data-status");x.hideProress();return g.Return(null);});return g.Bind(bz,function(){return bC;});});}));},bt);return bt;}},Control:$.Class({get_Body:function(){return x.main();}})},GoogleGroup:{Control:$.Class({get_Body:function(){return y.main();}}),itemLi:function(bF){var bG;bG=bF.link;return k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",bG),l.Attr().NewAttr("target","_blank"),l.Text(bF.title)]))])),l.P(m.ofArray([l.Text(bF.contentSnippet)])),l.P(m.ofArray([l.Text("Author: "+bF.author)]))]));},main:function(){var bH;bH=l.Div(m.ofArray([s.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(bI){return t.displayFeed("http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q=https%3A%2F%2Fgroups.google.com%2Fforum%2Ffeed%2Ffsharp-opensource%2Ftopics%2Frss.xml%3Fnum%3D15",function(bJ){return y.itemLi(bJ);},bI);},bH);return bH;}},JsUtils:{displayFeed:function(bK,bL,bM){var bN;bN=l.UL(m.ofArray([l.Attr().Class("list-group")]));u.getJSON(bK,$.Tupled(function(bO){return z.iter(function(bP){return bN.AppendI(bL(bP));},bO[0].responseData.feed.entries);}));bM.AppendI(bN);bM["HtmlProvider@32"].RemoveAttribute(bM.Body,"data-status");return t.hideProress();},hideProress:function(){return u("[data-status=\"loading\"]").length===0?u("#progress-bar").slideUp():u("[data-spy=\"scroll\"]").each(function(){return u(this).scrollspy.call(null,"refresh");});}},Login:{Client:{loginForm:function(bQ){var bR,bS,bT,bY,bZ,b0,b1,b2;bR=l.Input(m.ofArray([l.Attr().Class("form-control"),l.Attr().NewAttr("id","username"),l.Attr().NewAttr("type","text"),s.Attr().NewAttr("autofocus","autofocus")]));bS=k.add(l.Button(m.ofArray([l.Attr().Class("btn btn-primary btn-block"),l.Attr().NewAttr("id","login-btn"),l.Attr().NewAttr("type","button")])),m.ofArray([l.Text("Submit")]));bT=function(){return function(){return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:2",[{Name:bR.get_Value(),Password:B.passInput().get_Value()}]),function(bX){if(bX.$==1){C.location.assign(bQ);return g.Return(null);}else{i("Login failed");return g.Return(null);}});}));};};D.Events().OnClick(bT,bS);bY=bS;bZ=m.ofArray([l.Attr().Class("form-group")]);b0=m.ofArray([l.Text("Username"),l.Attr().NewAttr("for","username")]);b1=m.ofArray([l.Text("Password"),l.Attr().NewAttr("for","password")]);b2=m.ofArray([bY]);return k.add(l.Form(m.ofArray([l.Attr().NewAttr("role","form"),l.Attr().NewAttr("id","signin")])),m.ofArray([l.H2(m.ofArray([l.Text("Please sign in")])),k.add(l.Tags().NewTag("fieldset",bZ),m.ofArray([l.Tags().NewTag("label",b0),bR,l.Tags().NewTag("label",b1),B.passInput()])),l.Tags().NewTag("fieldset",b2)]));},passInput:$.Field(function(){var b3,b4;b3=l.Input(m.ofArray([l.Attr().Class("form-control"),l.Attr().NewAttr("id","password"),l.Attr().NewAttr("type","password")]));b4=function(){return function(b6){return b6.KeyCode===13?u("#login-btn").click():null;};};D.Events().OnKeyDown(b4,b3);return b3;})},Control:$.Class({get_Body:function(){return B.loginForm(this.redirectUrl);}})},Msdn:{Control:$.Class({get_Body:function(){return E.main();}}),itemLi:function(b7){var b8;b8=b7.link;return k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",b8),l.Attr().NewAttr("target","_blank"),l.Text(b7.title)]))])),l.P(m.ofArray([l.Text(b7.contentSnippet)]))]));},main:function(){var b9;b9=l.Div(m.ofArray([s.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(b_){return t.displayFeed("http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=https%3A%2F%2Fsocial.msdn.microsoft.com%2FForums%2Fen-US%2Ffsharpgeneral%2Fthreads%3FoutputAs%3Drss",function(b$){return E.itemLi(b$);},b_);},b9);return b9;}},News:{Control:$.Class({get_Body:function(){return F.main();}}),itemLi:function(ca){var cb;cb=ca.link;return k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",cb),l.Attr().NewAttr("target","_blank"),l.Text(ca.title)]))])),l.P(m.ofArray([l.Text(ca.contentSnippet)]))]));},main:function(){var cc;cc=l.Div(m.ofArray([s.Attr().NewAttr("data-"+"status","loading")]));k.OnAfterRender(function(cd){return t.displayFeed("http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=http%3A%2F%2Ffpish.net%2Frss%2Fblogs%2Ftag%2F1%2Ff~23",function(ce){return F.itemLi(ce);},cd);},cc);return cc;}},Utils:{skip:function(cf,cg){return r.skip(cg,cf);},split:function(ch,ci){var cj;cj=function(ck){return r.toList(r.delay(function(){return r.append([G.truncate(ck,ch)],r.delay(function(){return r.length(ck)<=ch?r.empty():cj(G.skip(ck,ch));}));}));};return cj(ci);},truncate:function(cn,co){return r.truncate(co,cn);}},VideosAdmin:{Client:{main:function(){var cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cF,cG;cp=c.Input("");cq=d.WithTextLabel("Title",cp);cr=c.Input("");cs=d.WithTextLabel("URL",cr);ct=c.Input("");cu=d.WithTextLabel("Thumbnail",ct);cv=c.Input("");cw=d.WithTextLabel("Website",cv);cx=c.Input("");cy=d.WithTextLabel("Date",cx);cz=e.$(e.$(e.$(e.$(e.$(f.Return(function(cA){return function(cB){return function(cC){return function(cD){return function(cE){return[cA,cB,cC,cD,cE];};};};};}),cq),cs),cu),cw),cy);cF=d.WithSubmitAndResetButtons(cz);cG=d.WithFormContainer(cF);return f.Run($.Tupled(function(cH){var cI,cJ,cK,cL,cM;cI=cH[0];cJ=cH[1];cK=cH[2];cL=cH[3];cM=cH[4];return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:0",[cI,cJ,cK,cL,cM]),function(cO){if(cO){i("New video inserted successfully.");return g.Return(null);}else{i("The query failed.");return g.Return(null);}});}));}),cG);}},Control:$.Class({get_Body:function(){return I.main();}})}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Formlet);c=$.Safe(b.Controls);d=$.Safe(b.Enhance);e=$.Safe(b.Data);f=$.Safe(b.Formlet);g=$.Safe(a.Concurrency);h=$.Safe(a.Remoting);i=$.Safe($$.alert);j=$.Safe(a.Html);k=$.Safe(j.Operators);l=$.Safe(j.Default);m=$.Safe(a.List);n=$.Safe($$.Website);o=$.Safe(n.BooksAdmin);p=$.Safe(o.Client);q=$.Safe(n.FPish);r=$.Safe(a.Seq);s=$.Safe(l.HTML5);t=$.Safe(n.JsUtils);u=$.Safe($$.jQuery);v=$.Safe(a.JavaScript);w=$.Safe(n.FSSnip);x=$.Safe(w.Client);y=$.Safe(n.GoogleGroup);z=$.Safe(a.Arrays);A=$.Safe(n.Login);B=$.Safe(A.Client);C=$.Safe($$.window);D=$.Safe(j.EventsPervasives);E=$.Safe(n.Msdn);F=$.Safe(n.News);G=$.Safe(n.Utils);H=$.Safe(n.VideosAdmin);return I=$.Safe(H.Client);});$.OnLoad(function(){B.passInput();p.addFormlet();return;});}());
