(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R;$.Define($$,{Website:{BooksAdmin:{Client:{addFormlet:$.Field(function(){var S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,bh,bi;S=c.Input("");T=d.WithTextLabel("URL",S);U=c.Input("");V=d.WithTextLabel("Title",U);W=d.WithTextLabel("Author",c.Input(""));X=d.Many(W);Y=d.WithFormContainer(X);Z=c.Input("");_0=d.WithTextLabel("Publisher",Z);_1=c.Input("");_2=d.WithTextLabel("ISBN",_1);_3=c.Input("");_4=d.WithTextLabel("Pages",_3);_5=c.Input("");_6=d.WithTextLabel("Release Date",_5);_7=c.Input("");_8=d.WithTextLabel("Cover URL",_7);_9=e.$(e.$(e.$(e.$(e.$(e.$(e.$(e.$(f.Return(function(_){return function(ba){return function(bb){return function(bc){return function(bd){return function(be){return function(bf){return function(bg){return[_,ba,bb,bc,bd,be,bf,bg];};};};};};};};}),T),V),Y),_0),_2),_4),_6),_8);bh=d.WithSubmitAndResetButtons(_9);bi=d.WithFormContainer(bh);return f.Run($.Tupled(function(bj){var bk,bl,bm,bn,bo,bp,bq,br;bk=bj[0];bl=bj[1];bm=bj[2];bn=bj[3];bo=bj[4];bp=bj[5];bq=bj[6];br=bj[7];return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:11",[bk,bl,bm,bn,bo,bp,bq,br]),function(bt){if(bt){i("New book inserted successfully.");return g.Return(null);}else{i("The query failed.");return g.Return(null);}});}));}),bi);}),main:function(){return k.add(l.Div(m.ofArray([l.Attr().Class("row")])),m.ofArray([l.Div(m.ofArray([l.H1(m.ofArray([l.Text("Add new book")])),l.Div(m.ofArray([p.addFormlet()]))]))]));},tr:function(bt,bu){return l.TR(m.ofArray([l.TD(m.ofArray([l.Text(bt)])),l.TD(m.ofArray([l.Text(bu)]))]));}},Control:$.Class({get_Body:function(){return p.main();}})},GitHubGists:{Client:{main:function(){var bv;bv=l.Div(m.ofArray([l.Attr().Class("home-widget")]));k.OnAfterRender(function(bw){return g.Start(g.Delay(function(){var by;by=h.Async("Sitelet:4",[]);return g.Bind(by,function(bz){var bA;bA=l.UL(m.ofArray([l.Attr().Class("media-list")]));q.iter(function(bB){var bC,bD,bE;bC=bB.ownerLink;bD=bB.ownerAvatar;bE=bB.link;return bA.AppendI(k.add(l.LI(m.ofArray([l.Attr().Class("media")])),m.ofArray([k.add(l.A(m.ofArray([l.Attr().Class("media-left"),l.Attr().NewAttr("href",bC),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Img(m.ofArray([l.Attr().NewAttr("src",bD)]))])),k.add(l.Div(m.ofArray([l.Attr().Class("media-body")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("media-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",bE),l.Attr().NewAttr("target","_blank"),l.Text("Gist by "+bB.ownerName)]))]))]))])));},bz);bw.AppendI(bA);return g.Return(null);});}));},bv);return bv;}},Control:$.Class({get_Body:function(){return s.main();}})},GitHubIssues:{Client:{main:function(){var bF;bF=l.Div(m.ofArray([l.Attr().Class("home-widget")]));k.OnAfterRender(function(bG){return g.Start(g.Delay(function(){var bI;bI=h.Async("Sitelet:1",[]);return g.Bind(bI,function(bJ){var bK;bK=l.UL(m.ofArray([l.Attr().Class("media-list"),l.Attr().NewAttr("id","tweets-ul")]));t.iter($.Tupled(function(bL){var bM,bN,bO,bP,bQ;bM=bL[0];bN=bL[1];bO=bL[2];bP=bL[3];bQ=bL[4];return bK.AppendI(k.add(l.LI(m.ofArray([l.Attr().Class("media")])),m.ofArray([k.add(l.A(m.ofArray([l.Attr().Class("media-left"),l.Attr().NewAttr("href",bM),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Img(m.ofArray([l.Attr().NewAttr("style","width: 30px; height: 30px;"),l.Attr().NewAttr("src",bN)]))])),k.add(l.Div(m.ofArray([l.Attr().Class("media-body")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("media-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",bP),l.Attr().NewAttr("target","_blank"),l.Text(bO)]))])),l.P(m.ofArray([l.Text(bQ)]))]))])));}),bJ);bG.AppendI(bK);return g.Return(null);});}));},bF);return bF;}},Control:$.Class({get_Body:function(){return v.main();}})},GitHubRepos:{Client:{newRepos:function(){var bR;bR=l.Div(m.ofArray([l.Attr().Class("home-widget")]));k.OnAfterRender(function(bS){return g.Start(g.Delay(function(){var bU;bU=h.Async("Sitelet:2",[]);return g.Bind(bU,function(bV){var bW;bW=l.UL(m.ofArray([l.Attr().Class("media-list"),l.Attr().NewAttr("id","tweets-ul")]));q.iter(function(bX){var bY,bZ,b0;bY=bX.ownerLink;bZ=bX.ownerAvatar;b0=bX.link;return bW.AppendI(k.add(l.LI(m.ofArray([l.Attr().Class("media")])),m.ofArray([k.add(l.A(m.ofArray([l.Attr().Class("media-left"),l.Attr().NewAttr("href",bY),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Img(m.ofArray([l.Attr().NewAttr("style","width: 30px; height: 30px;"),l.Attr().NewAttr("src",bZ)]))])),k.add(l.Div(m.ofArray([l.Attr().Class("media-body")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("media-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",b0),l.Attr().NewAttr("target","_blank"),l.Text(bX.name)]))])),l.P(m.ofArray([l.Text(bX.createdAt)]))]))])));},bV);bS.AppendI(bW);return g.Return(null);});}));},bR);return bR;},updatedRepos:function(){var b1;b1=l.Div(m.ofArray([l.Attr().Class("home-widget")]));k.OnAfterRender(function(b2){return g.Start(g.Delay(function(){var b4;b4=h.Async("Sitelet:3",[]);return g.Bind(b4,function(b5){var b6;b6=l.UL(m.ofArray([l.Attr().Class("media-list"),l.Attr().NewAttr("id","tweets-ul")]));q.iter(function(b7){var b8,b9,b_;b8=b7.ownerLink;b9=b7.ownerAvatar;b_=b7.link;return b6.AppendI(k.add(l.LI(m.ofArray([l.Attr().Class("media")])),m.ofArray([k.add(l.A(m.ofArray([l.Attr().Class("media-left"),l.Attr().NewAttr("href",b8),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Img(m.ofArray([l.Attr().NewAttr("style","width: 30px; height: 30px;"),l.Attr().NewAttr("src",b9)]))])),k.add(l.Div(m.ofArray([l.Attr().Class("media-body")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("media-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",b_),l.Attr().NewAttr("target","_blank"),l.Text(b7.name)]))])),l.P(m.ofArray([l.Text(b7.pushedAt)]))]))])));},b5);b2.AppendI(b6);return g.Return(null);});}));},b1);return b1;}},NewReposControl:$.Class({get_Body:function(){return x.newRepos();}}),UpdatedReposControl:$.Class({get_Body:function(){return x.updatedRepos();}})},Login:{Client:{loginForm:function(b$){var ca,cb,cc,ch,ci,cj,ck,cl;ca=l.Input(m.ofArray([l.Attr().Class("form-control"),l.Attr().NewAttr("id","username"),l.Attr().NewAttr("type","text"),y.Attr().NewAttr("autofocus","autofocus")]));cb=k.add(l.Button(m.ofArray([l.Attr().Class("btn btn-primary btn-block"),l.Attr().NewAttr("id","login-btn"),l.Attr().NewAttr("type","button")])),m.ofArray([l.Text("Submit")]));cc=function(){return function(){return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:9",[{Name:ca.get_Value(),Password:A.passInput().get_Value()}]),function(cg){if(cg.$==1){B.location.assign(b$);return g.Return(null);}else{i("Login failed");return g.Return(null);}});}));};};C.Events().OnClick(cc,cb);ch=cb;ci=m.ofArray([l.Attr().Class("form-group")]);cj=m.ofArray([l.Text("Username"),l.Attr().NewAttr("for","username")]);ck=m.ofArray([l.Text("Password"),l.Attr().NewAttr("for","password")]);cl=m.ofArray([ch]);return k.add(l.Form(m.ofArray([l.Attr().NewAttr("role","form"),l.Attr().NewAttr("id","signin")])),m.ofArray([l.H2(m.ofArray([l.Text("Please sign in")])),k.add(l.Tags().NewTag("fieldset",ci),m.ofArray([l.Tags().NewTag("label",cj),ca,l.Tags().NewTag("label",ck),A.passInput()])),l.Tags().NewTag("fieldset",cl)]));},passInput:$.Field(function(){var cm,cn;cm=l.Input(m.ofArray([l.Attr().Class("form-control"),l.Attr().NewAttr("id","password"),l.Attr().NewAttr("type","password")]));cn=function(){return function(cp){return cp.KeyCode===13?D("#login-btn").click():null;};};C.Events().OnKeyDown(cn,cm);return cm;})},Control:$.Class({get_Body:function(){return A.loginForm(this.redirectUrl);}})},News:{Control:$.Class({get_Body:function(){return E.main();}}),main:$.Field(function(){var cq;cq=l.UL(m.ofArray([l.Attr().NewAttr("id","news-list")]));D.getJSON("http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=http%3A%2F%2Ffpish.net%2Frss%2Fblogs%2Ftag%2F1%2Ff~23",$.Tupled(function(cr){var cs,ct,cu,cv;cs=cr[0];ct=cr[1];cu=cs.responseData.feed.entries;cv=F.GetArraySlice(cu,{$:0},{$:1,$0:4});return q.iter(function(cw){var cx;cx=cw.link;return cq.AppendI(l.LI(m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("list-group-item-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",cx),l.Attr().NewAttr("target","_blank"),l.Text(cw.title)]))])),l.P(m.ofArray([l.Text(cw.contentSnippet)]))])));},cv);}));return l.Div(m.ofArray([cq]));})},Questions:{Client:{displayQuestions:function(cy,cz){var cA;cA=l.UL(m.ofArray([l.Attr().Class("list-group"),l.Id("questions-list")]));q.iter(function(cB){return cA.AppendI(cB);},q.map($.Tupled(function(cC){return H.li(cC[0],cC[1],cC[2],cC[3],cC[4]);}),cy));return cz.AppendI(cA);},li:function(cD,cE,cF,cG,cH){var cI,cJ;cI=m.ofArray([l.Text(cE)]);cJ=m.ofArray([l.Text(cF+", "+cG)]);return k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.A(m.ofArray([l.HRef(cD),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Tags().NewTag("strong",cI)])),l.Br($.New(I,{$:0})),l.Tags().NewTag("small",cJ),l.P(m.ofArray([l.Text(cH)]))]));},main:function(){var cK;cK=l.Div(m.ofArray([l.Attr().Class("home-widget")]));k.OnAfterRender(function(cL){return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:8",[]),function(cN){if(cN.$==1){H.displayQuestions(cN.$0,cL);return g.Return(null);}else{return g.Return(null);}});}));},cK);return cK;}},Control:$.Class({get_Body:function(){return H.main();}})},Snippets:{Client:{dispalySnippets:function(cO,cP){var cQ;cQ=l.UL(m.ofArray([l.Attr().Class("list-group")]));q.iter(function(cR){return cQ.AppendI(cR);},q.map($.Tupled(function(cS){return K.li(cS[0],cS[1],cS[2]);}),cO));return cP.AppendI(cQ);},li:function(cT,cU,cV){var cW;cW=m.ofArray([l.Text(cU)]);return k.add(l.LI(m.ofArray([l.Attr().Class("list-group-item")])),m.ofArray([k.add(l.A(m.ofArray([l.HRef(cT),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Tags().NewTag("strong",cW)])),l.P(m.ofArray([l.Text(cV)]))]));},main:function(){var cX;cX=l.Div(m.ofArray([l.Attr().Class("home-widget")]));k.OnAfterRender(function(cY){return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:7",[]),function(c0){if(c0.$==1){K.dispalySnippets(c0.$0,cY);return g.Return(null);}else{return g.Return(null);}});}));},cX);return cX;}},Control:$.Class({get_Body:function(){return K.main();}})},StackOverflow:{Client:{main:function(){var c1;c1=l.Div($.New(I,{$:0}));k.OnAfterRender(function(c2){return g.Start(g.Delay(function(){var c4;c4=h.Async("Sitelet:5",[]);return g.Bind(c4,function(c5){D("#so-progress").fadeOut();t.iter(function(c6){return c2.AppendI(k.add(l.Div(m.ofArray([l.Attr().Class("row data-row")])),c6));},L.split(2,q.mapi(function(c7){return function(c8){var c9,c_,c$;c9=c7%2===0?"col-md-5":"col-md-5 col-md-offset-1";c_=c8.ownerLink;c$=c8.ownerAvatar;return k.add(l.Div(m.ofArray([l.Attr().Class(c9)])),m.ofArray([k.add(l.Div(m.ofArray([l.Attr().Class("media")])),m.ofArray([k.add(l.A(m.ofArray([l.Attr().Class("media-left"),l.Attr().NewAttr("href",c_),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Img(m.ofArray([l.Attr().NewAttr("src",c$),l.Attr().Class("avatar")]))])),k.add(l.Div(m.ofArray([l.Attr().Class("media-body")])),t.toList(t.delay(function(){var db;db=c8.link;return t.append([k.add(l.H4(m.ofArray([l.Attr().Class("media-heading"),l.Attr().NewAttr("style","word-break: break-word;")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",db),l.Attr().NewAttr("target","_blank"),l.Text(c8.title)]))]))],t.delay(function(){return t.append([l.P(m.ofArray([l.Text(c8.creationDate)]))],t.delay(function(){return t.append([l.P(m.ofArray([l.Text("Score: "),l.Span(m.ofArray([l.Attr().Class("badge"),l.Text($$.String(c8.score))])),l.Text(" Answers: "),l.Span(m.ofArray([l.Attr().Class("badge"),l.Text($$.String(c8.answerCount))]))]))],t.delay(function(){return[l.Div(t.toList(t.delay(function(){return t.map(function(dg){return l.Span(m.ofArray([l.Attr().Class("label label-primary"),l.Text(dg)]));},c8.tags);})))];}));}));}));})))]))]));};},c5)));D("[data-spy=\"scroll\"]").each(function(){return D(this).scrollspy.call(null,"refresh");});return g.Return(null);});}));},c1);return c1;}},Control:$.Class({get_Body:function(){return N.main();}})},Twitter:{Client:{main:function(){var dh;dh=l.Div(m.ofArray([l.Attr().Class("home-widget")]));k.OnAfterRender(function(di){return g.Start(g.Delay(function(){var dk;dk=h.Async("Sitelet:6",[]);return g.Bind(dk,function(dl){D("#twitter-progress").fadeOut();t.iter(function(dm){return di.AppendI(k.add(l.Div(m.ofArray([l.Attr().Class("row data-row")])),dm));},L.split(2,q.mapi(function(dn){return function(_do){var dp,dq,dr,ds,dt,du;dp=l.P($.New(I,{$:0}));dp.set_Html(_do.statusAsHtml);dq=dn%2===0?"col-md-5":"col-md-5 col-md-offset-1";dr="https://twitter.com/"+_do.screenName;ds=_do.avatar;dt="https://twitter.com/"+_do.screenName;du=m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href","https://twitter.com/"+_do.screenName+"/status/"+$$.String(_do.id)),l.Attr().NewAttr("target","_blank"),l.Text(_do.createdAt)]))]);return k.add(l.Div(m.ofArray([l.Attr().Class(dq)])),m.ofArray([k.add(l.Div(m.ofArray([l.Attr().Class("media")])),m.ofArray([k.add(l.A(m.ofArray([l.Attr().Class("media-left"),l.Attr().NewAttr("href",dr),l.Attr().NewAttr("target","_blank")])),m.ofArray([l.Img(m.ofArray([l.Attr().NewAttr("src",ds),l.Attr().Class("avatar")]))])),k.add(l.Div(m.ofArray([l.Attr().Class("media-body")])),m.ofArray([k.add(l.H4(m.ofArray([l.Attr().Class("media-heading")])),m.ofArray([l.A(m.ofArray([l.Attr().NewAttr("href",dt),l.Attr().NewAttr("target","_blank"),l.Text(_do.screenName)])),l.Span(m.ofArray([l.Text(" ")])),l.Tags().NewTag("small",du)])),dp]))]))]));};},dl)));D("[data-spy=\"scroll\"]").each(function(){return D(this).scrollspy.call(null,"refresh");});return g.Return(null);});}));},dh);return dh;}},Control:$.Class({get_Body:function(){return P.main();}})},Utils:{skip:function(dv,dw){return t.skip(dw,dv);},split:function(dx,dy){var dz;dz=function(dA){return t.toList(t.delay(function(){return t.append([L.truncate(dA,dx)],t.delay(function(){return t.length(dA)<=dx?t.empty():dz(L.skip(dA,dx));}));}));};return dz(dy);},truncate:function(dD,dE){return t.truncate(dE,dD);}},VideosAdmin:{Client:{main:function(){var dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dV,dW;dF=c.Input("");dG=d.WithTextLabel("Title",dF);dH=c.Input("");dI=d.WithTextLabel("URL",dH);dJ=c.Input("");dK=d.WithTextLabel("Thumbnail",dJ);dL=c.Input("");dM=d.WithTextLabel("Website",dL);dN=c.Input("");dO=d.WithTextLabel("Date",dN);dP=e.$(e.$(e.$(e.$(e.$(f.Return(function(dQ){return function(dR){return function(dS){return function(dT){return function(dU){return[dQ,dR,dS,dT,dU];};};};};}),dG),dI),dK),dM),dO);dV=d.WithSubmitAndResetButtons(dP);dW=d.WithFormContainer(dV);return f.Run($.Tupled(function(dX){var dY,dZ,d0,d1,d2;dY=dX[0];dZ=dX[1];d0=dX[2];d1=dX[3];d2=dX[4];return g.Start(g.Delay(function(){return g.Bind(h.Async("Sitelet:0",[dY,dZ,d0,d1,d2]),function(d4){if(d4){i("New video inserted successfully.");return g.Return(null);}else{i("The query failed.");return g.Return(null);}});}));}),dW);}},Control:$.Class({get_Body:function(){return R.main();}})}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Formlet);c=$.Safe(b.Controls);d=$.Safe(b.Enhance);e=$.Safe(b.Data);f=$.Safe(b.Formlet);g=$.Safe(a.Concurrency);h=$.Safe(a.Remoting);i=$.Safe($$.alert);j=$.Safe(a.Html);k=$.Safe(j.Operators);l=$.Safe(j.Default);m=$.Safe(a.List);n=$.Safe($$.Website);o=$.Safe(n.BooksAdmin);p=$.Safe(o.Client);q=$.Safe(a.Arrays);r=$.Safe(n.GitHubGists);s=$.Safe(r.Client);t=$.Safe(a.Seq);u=$.Safe(n.GitHubIssues);v=$.Safe(u.Client);w=$.Safe(n.GitHubRepos);x=$.Safe(w.Client);y=$.Safe(l.HTML5);z=$.Safe(n.Login);A=$.Safe(z.Client);B=$.Safe($$.window);C=$.Safe(j.EventsPervasives);D=$.Safe($$.jQuery);E=$.Safe(n.News);F=$.Safe(a.OperatorIntrinsics);G=$.Safe(n.Questions);H=$.Safe(G.Client);I=$.Safe(m.T);J=$.Safe(n.Snippets);K=$.Safe(J.Client);L=$.Safe(n.Utils);M=$.Safe(n.StackOverflow);N=$.Safe(M.Client);O=$.Safe(n.Twitter);P=$.Safe(O.Client);Q=$.Safe(n.VideosAdmin);return R=$.Safe(Q.Client);});$.OnLoad(function(){E.main();A.passInput();p.addFormlet();return;});}());
