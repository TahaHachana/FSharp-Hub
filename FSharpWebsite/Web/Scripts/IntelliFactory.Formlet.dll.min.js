(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;$.Define($$,{IntelliFactory:{Formlet:{Base:{D:$.Class({Dispose:function(){return null;}},{New:function(){var q;q={};return $.New(this,q);}}),"Form`2":$.Class({Dispose:function(){return this.Dispose1.call(null,null);}}),"FormletBuilder`1":$.Class({Bind:function(r,s){var t;t=this.F;return function(u){return t.Bind(r,u);}(s);},Delay:function(v){return this.F.Delay(v);},Return:function(w){return this.F.Return(w);},ReturnFrom:function(x){return x;}},{New:function(y){var z;z={};z.F=y;return $.New(this,z);}}),"FormletProvider`1":$.Class({AppendLayout:function(A,B){var C,D,F=this;C=this.ApplyLayout(B);D=function(E){return F.WithLayout(A,E);};return D(C);},Apply:function(G,H){var I,L=this;I=function(){var K,M,N,O,P,Q,T,U,V,Y,_0,_1,_2;K=L.BuildForm(G);M=L.BuildForm(H);N=(O=(P=L.U.Reactive,(Q=K.Body,function(R){return P.Select(Q,R);})(function(S){return $.New(d,{$:1,$0:S});})),(T=(U=L.U.Reactive,(V=M.Body,function(W){return U.Select(V,W);})(function(X){return $.New(d,{$:2,$0:X});})),(Y=L.U.Reactive,function(Z){return Y.Merge(O,Z);}(T))));_0=(_1=L.U.Reactive,((_2=M.State,function(_3){return function(_4){return _1.CombineLatest(_2,_3,_4);};})(K.State))(function(_5){return function(_6){return e.Apply(_6,_5);};}));return $.New(f,{Body:N,Dispose1:function(){M.Dispose1.call(null,null);return K.Dispose1.call(null,null);},Notify:function(_8){M.Notify.call(null,_8);return K.Notify.call(null,_8);},State:_0});};return L.New(I);},ApplyLayout:function(_9){var _,bg=this;_=function(){var bb,bc,bd,be,bf;bb=_9.Build();bc=(bd=_9.get_Layout().Apply.call(null,bb.Body),bd.$==0?bb.Body:(be=bd.$0[1],(bf=bd.$0[0],bg.U.Reactive.Return(c.Set(bf)))));return $.New(f,{Body:bc,Dispose1:bb.Dispose1,Notify:bb.Notify,State:bb.State});};return bg.New(_);},Bind:function(bg,bh){var bi,bj,bl=this,bm;bi=(bj=function(bk){return bl.Map(bh,bk);},bj(bg));bm=function(bn){return bl.Join(bn);};return bm(bi);},BindWith:function(bo,bp,bq){var br,bu=this;br=function(){var bt,bv,bw,bx,by,bz,bC,bD,bE,bF,bG,bJ,bK,bL,bM,bN,bO,bP,bQ,bS,bT;bt=bu.Bind(bp,bq);bv=bt.Build();bw=(bx=(by=bu.U.Reactive,(bz=bv.Body,function(bA){return by.Where(bz,bA);})(function(bB){if(bB.$==1){return true;}else{return false;}})),(bC=bu.U.DefaultLayout.Apply,bC(bx)));bD=(bE=(bF=bu.U.Reactive,(bG=bv.Body,function(bH){return bF.Where(bG,bH);})(function(bI){if(bI.$==2){return true;}else{return false;}})),(bJ=bu.U.DefaultLayout.Apply,bJ(bE)));bK=(bL=[bw,bD],bL[0].$==1?bL[1].$==1?(bM=bL[0].$0[0],(bN=bL[1].$0[0],(bO=(bP=(bo(bM))(bN),(bQ=function(bR){return c.Set(bR);},bQ(bP))),(bS=(bT=bu.U.Reactive,function(bU){return bT.Return(bU);}),bS(bO))))):bu.U.Reactive.Never():bu.U.Reactive.Never());return $.New(f,{Body:bK,Dispose1:bv.Dispose1,Notify:bv.Notify,State:bv.State});};return bu.New(br);},BuildForm:function(bV){var bW,bX,bY,bZ;bW=bV.Build();bX=bV.get_Layout().Apply.call(null,bW.Body);if(bX.$==1){bY=bX.$0[1];bZ=bX.$0[0];return $.New(f,{Body:this.U.Reactive.Return(c.Set(bZ)),Dispose1:function(){bW.Dispose1.call(null,null);return bY.Dispose();},Notify:bW.Notify,State:bW.State});}else{return bW;}},Delay:function(b1){var b2,b4=this;b2=function(){return b4.BuildForm(b1(null));};return $.New(g,{Layout:b4.L.Delay(function(){return b1(null).get_Layout();}),Build1:b2,Utils:b4.U});},Deletable:function(b6){var b7,b_=this;b7=function(b8){var b9;if(b8.$==1){b9=b8.$0;return b_.Return({$:1,$0:b9});}else{return b_.ReturnEmpty({$:0});}};return b_.Replace(b6,b7);},Empty:function(){var b$,cb=this;b$=function(){return $.New(f,{Body:cb.U.Reactive.Return(c.Delete()),Dispose1:function(cc){cc;},Notify:function(cd){cd;},State:cb.U.Reactive.Never()});};return cb.New(b$);},EmptyForm:function(){return $.New(f,{Body:this.U.Reactive.Never(),Dispose1:function(ce){ce;},Notify:function(cf){cf;},State:this.U.Reactive.Never()});},Fail:function(cg){return $.New(f,{Body:this.U.Reactive.Never(),Dispose1:function(ch){return ch;},Notify:function(ci){ci;},State:this.U.Reactive.Return($.New(e,{$:1,$0:cg}))});},FailWith:function(cj){var ck,cm=this;ck=function(){return cm.Fail(cj);};return cm.New(ck);},FlipBody:function(cn){var co,cp,cu=this,cy,cz;co=(cp=function(){var cr,cs,ct,cv;cr=cn.Build();cs=(ct=cu.U.Reactive,(cv=cr.Body,function(cw){return ct.Select(cv,cw);})(function(cx){return c.FlipEdit(cx);}));return $.New(f,{Body:cs,Dispose1:cr.Dispose1,Notify:cr.Notify,State:cr.State});},cu.New(cp));cy=(cz=cn.get_Layout(),function(cA){return cu.WithLayout(cz,cA);});return cy(co);},FromState:function(cB){var cC,cE=this;cC=function(){return $.New(f,{Body:cE.U.Reactive.Never(),Dispose1:function(cF){cF;},Notify:function(cG){cG;},State:cB});};return cE.New(cC);},InitWith:function(cH,cI){var cJ,cK,cP=this,cS,cT;cJ=(cK=function(){var cM,cN,cO,cQ;cM=cI.Build();cN=(cO=cP.U.Reactive,(cQ=cP.U.Reactive.Return($.New(e,{$:0,$0:cH})),function(cR){return cO.Concat(cQ,cR);})(cM.State));return $.New(f,{Body:cM.Body,Dispose1:cM.Dispose1,Notify:cM.Notify,State:cN});},cP.New(cK));cS=(cT=cI.get_Layout(),function(cU){return cP.WithLayout(cT,cU);});return cS(cJ);},InitWithFailure:function(cV){var cW,cX,c2=this,c5,c6;cW=(cX=function(){var cZ,c0,c1,c3;cZ=cV.Build();c0=(c1=c2.U.Reactive,(c3=c2.U.Reactive.Return($.New(e,{$:1,$0:$.New(j,{$:0})})),function(c4){return c1.Concat(c3,c4);})(cZ.State));return $.New(f,{Body:cZ.Body,Dispose1:cZ.Dispose1,Notify:cZ.Notify,State:c0});},c2.New(cX));c5=(c6=cV.get_Layout(),function(c7){return c2.WithLayout(c6,c7);});return c5(cW);},Join:function(c8){var c9,da=this;c9=function(){var c$,db,dc,dd,de,dj,dk,dm,dn,_do,dp,dv,dw,dz,dA,dB,dC,dG,dH,dK,dM;c$=da.BuildForm(c8);db=(dc=(dd=da.U.Reactive,(de=c$.State,function(df){return dd.Select(de,df);})(function(dg){var dh,di;if(dg.$==1){dh=dg.$0;return da.Fail(dh);}else{di=dg.$0;return da.BuildForm(di);}})),(dj=(dk=da.U.Reactive,function(dl){return dk.Heat(dl);}),dj(dc)));dm=(dn=(_do=(dp=da.U.Reactive,function(dq){return dp.Select(db,dq);}(function(dr){var ds,dt;ds=da.U.Reactive.Return(c.Delete());dt=da.U.Reactive;return function(du){return dt.Concat(ds,du);}(dr.Body);})),(dv=da.U.Reactive,(dw=da.U.Reactive.Switch(_do),function(dx){return dv.Select(dw,dx);})(function(dy){return $.New(d,{$:2,$0:dy});}))),(dz=da.U.Reactive,(dA=(dB=da.U.Reactive,(dC=c$.Body,function(dD){return dB.Select(dC,dD);})(function(dE){return $.New(d,{$:1,$0:dE});})),function(dF){return dz.Merge(dA,dF);})(dn)));dG=da.U.Reactive.Switch((dH=da.U.Reactive,function(dI){return dH.Select(db,dI);}(function(dJ){return dJ.State;})));dK=function(dL){return c$.Notify.call(null,dL);};dM=function(){return c$.Dispose1.call(null,null);};return $.New(f,{Body:dm,Dispose1:dM,Notify:dK,State:dG});};return da.New(c9);},LiftResult:function(dO){var dP;dP=function(dQ){return $.New(e,{$:0,$0:dQ});};return this.MapResult(dP,dO);},Map:function(dR,dS){var dT;dT=function(dU){return e.Map(dR,dU);};return this.MapResult(dT,dS);},MapBody:function(dV,dW){var dX,d1=this;dX={Apply:function(dY){var dZ,d0,d2,d3,d4,d5;dZ=dW.get_Layout().Apply.call(null,dY);if(dZ.$==0){d0=d1.U.DefaultLayout.Apply.call(null,dY);if(d0.$==0){return{$:0};}else{d2=d0.$0[1];d3=d0.$0[0];return{$:1,$0:[dV(d3),d2]};}}else{d4=dZ.$0[1];d5=dZ.$0[0];return{$:1,$0:[dV(d5),d4]};}}};return d1.WithLayout(dX,dW);},MapResult:function(d6,d7){var d8,eb=this;d8=function(){var d_,d$,ea,ec;d_=d7.Build();d$=(ea=eb.U.Reactive,(ec=d_.State,function(ed){return ea.Select(ec,ed);})(d6));return $.New(f,{Body:d_.Body,Dispose1:d_.Dispose1,Notify:d_.Notify,State:d$});};return $.New(g,{Layout:d7.get_Layout(),Build1:d8,Utils:eb.U});},Never:function(){var ee,eg=this;ee=function(){return $.New(f,{Body:eg.U.Reactive.Never(),Dispose1:function(eh){eh;},Notify:function(ei){ei;},State:eg.U.Reactive.Never()});};return eg.New(ee);},New:function(ej){return $.New(g,{Layout:this.L.Default(),Build1:ej,Utils:this.U});},Replace:function(ek,el){var em,en,eo,eq=this,er;em=(en=(eo=el,function(ep){return eq.Map(eo,ep);}),en(ek));er=function(es){return eq.Switch(es);};return er(em);},ReplaceFirstWithFailure:function(et){var eu,ev,eB=this,eH,eI;eu=(ev=function(){var ex,ey,ez,eA,eC,eE,eF;ex=et.Build();ey=(ez=(eA=eB.U.Reactive,(eC=ex.State,function(eD){return eA.Drop(eC,eD);})(1)),(eE=eB.U.Reactive,(eF=eB.U.Reactive.Return($.New(e,{$:1,$0:$.New(j,{$:0})})),function(eG){return eE.Concat(eF,eG);})(ez)));return $.New(f,{Body:ex.Body,Dispose1:ex.Dispose1,Notify:ex.Notify,State:ey});},eB.New(ev));eH=(eI=et.get_Layout(),function(eJ){return eB.WithLayout(eI,eJ);});return eH(eu);},Return:function(eK){var eL,eN=this;eL=function(){return $.New(f,{Body:eN.U.Reactive.Never(),Dispose1:function(eO){return eO;},Notify:function(eP){eP;},State:eN.U.Reactive.Return($.New(e,{$:0,$0:eK}))});};return eN.New(eL);},ReturnEmpty:function(eQ){var eR,eT=this;eR=function(){return $.New(f,{Body:eT.U.Reactive.Return(c.Delete()),Dispose1:function(eU){return eU;},Notify:function(eV){eV;},State:eT.U.Reactive.Return($.New(e,{$:0,$0:eQ}))});};return eT.New(eR);},SelectMany:function(eW){var eX,e0=this;eX=function(){var eZ,e1,e2,e3,e4,e_,e$,fb,fc,fd,fe,fh,fi,fk,fq,fr,fy,fA,fB,fC,fF,fG,fJ,fL;eZ=e0.BuildForm(eW);e1=(e2=(e3=e0.U.Reactive,(e4=eZ.State,function(e5){return e3.Choose(e4,e5);})(function(e6){var e7,e8,e9;if(e6.$==1){e7=e6.$0;return{$:0};}else{e8=e6.$0;e9=e0.BuildForm(e8);return{$:1,$0:e9};}})),(e_=(e$=e0.U.Reactive,function(fa){return e$.Heat(fa);}),e_(e2)));fb=(fc=(fd=e0.U.Reactive,(fe=eZ.Body,function(ff){return fd.Select(fe,ff);})(function(fg){return $.New(d,{$:1,$0:fg});})),(fh=(fi={contents:function(fj){return $.New(d,{$:1,$0:fj});}},(fk=function(){var fm,fn;fm=fi.contents;fi.contents=(fn=function(fo){return $.New(d,{$:2,$0:fo});},function(fp){return fn(fm(fp));});},(fq=(fr=e0.U.Reactive,function(fs){return fr.Select(e1,fs);}(function(ft){var fu,fv,fw;fk(null);fu=fi.contents;fv=e0.U.Reactive;return(fw=ft.Body,function(fx){return fv.Select(fw,fx);})(fu);})),e0.U.Reactive.SelectMany(fq)))),(fy=e0.U.Reactive,function(fz){return fy.Merge(fc,fz);}(fh))));fA=(fB=(fC=e0.U.Reactive,function(fD){return fC.Select(e1,fD);}(function(fE){return fE.State;})),(fF=e0.U.Reactive,(fG=e0.U.Reactive.CollectLatest(fB),function(fH){return fF.Select(fG,fH);})(function(fI){return e.Sequence(fI);})));fJ=function(fK){return eZ.Notify.call(null,fK);};fL=function(){return eZ.Dispose1.call(null,null);};return $.New(f,{Body:fb,Dispose1:fL,Notify:fJ,State:fA});};return e0.New(eX);},Sequence:function(fN){var fO,fP,fQ,fR,fU,fV;fO=i.ofSeq(fN);if(fO.$==1){fP=fO.$1;fQ=fO.$0;fR=this.Return(function(fS){return function(fT){return $.New(j,{$:1,$0:fS,$1:fT});};});fU=this.Sequence(fP);fV=this.Apply(fR,fQ);return this.Apply(fV,fU);}else{return this.Return($.New(j,{$:0}));}},Switch:function(fW){var fX,f1=this;fX=function(){var fZ,f0,f2,f4,f5,f6,f7,f8,gc,gd,gf,gg,gh,gj,gm,gn,gq,gs;fZ=(f0=f1.WithLayoutOrDefault(fW),(f2=function(f3){return f1.ApplyLayout(f3);},f2(f0)));f4=f1.BuildForm(fZ);f5=(f6=(f7=f1.U.Reactive,(f8=f4.State,function(f9){return f7.Choose(f8,f9);})(function(f_){var f$,ga,gb;if(f_.$==1){f$=f_.$0;return{$:0};}else{ga=f_.$0;gb=f1.BuildForm(ga);return{$:1,$0:gb};}})),(gc=(gd=f1.U.Reactive,function(ge){return gd.Heat(ge);}),gc(f6)));gf=(gg=f1.U.Reactive,(gh=f4.Body,function(gi){return gg.Concat(gh,gi);})(f1.U.Reactive.Switch((gj=f1.U.Reactive,function(gk){return gj.Select(f5,gk);}(function(gl){return gl.Body;})))));gm=f1.U.Reactive.Switch((gn=f1.U.Reactive,function(go){return gn.Select(f5,go);}(function(gp){return gp.State;})));gq=function(gr){return f4.Notify.call(null,gr);};gs=function(){return f4.Dispose1.call(null,null);};return $.New(f,{Body:gf,Dispose1:gs,Notify:gq,State:gm});};return f1.New(fX);},WithCancelation:function(gu,gv){var gw,gC,gD,gE,gF,gG,gH,gI,gL=this;gw=function(gx){return function(gy){var gz,gA,gB;gz=[gx,gy];if(gz[1].$==0){return $.New(e,{$:0,$0:{$:0}});}else{if(gz[0].$==1){gA=gz[0].$0;return $.New(e,{$:1,$0:gA});}else{gB=gz[0].$0;return $.New(e,{$:0,$0:{$:1,$0:gB}});}}};};gC=this.Return(gw);gD=this.LiftResult(gu);gE=this.LiftResult(gv);gF=this.Apply(gC,gD);gG=this.Apply(gF,gE);gH=(gI=function(gJ){return e.Join(gJ);},function(gK){return gL.MapResult(gI,gK);});return gH(gG);},WithLayout:function(gM,gN){return $.New(g,{Layout:gM,Build1:function(){return gN.Build();},Utils:this.U});},WithLayoutOrDefault:function(gP){var gQ;gQ=function(gR){return gR;};return this.MapBody(gQ,gP);},WithNotification:function(gS,gT){var gU,gV,gY=this,g1,g2;gU=(gV=function(){var gX,gZ;gX=gY.BuildForm(gT);gZ=function(g0){gX.Notify.call(null,g0);return gS(g0);};return $.New(f,{Body:gX.Body,Dispose1:gX.Dispose1,Notify:gZ,State:gX.State});},gY.New(gV));g1=(g2=gT.get_Layout(),function(g3){return gY.WithLayout(g2,g3);});return g1(gU);},WithNotificationChannel:function(g4){var g5,g6,g$=this,hg,hh;g5=(g6=function(){var g8,g9,g_,ha,hc,hf;g8=g4.Build();g9=(g_=g$.U.Reactive,(ha=g8.State,function(hb){return g_.Select(ha,hb);})((hc=function(hd){return[hd,g8.Notify];},function(he){return e.Map(hc,he);})));hf=g8.Notify;return $.New(f,{Body:g8.Body,Dispose1:g8.Dispose1,Notify:hf,State:g9});},g$.New(g6));hg=(hh=g4.get_Layout(),function(hi){return g$.WithLayout(hh,hi);});return hg(g5);}},{New:function(hj){var hk;hk={};hk.U=hj;hk.L=k.New({Reactive:hk.U.Reactive});return $.New(this,hk);}}),"Formlet`2":$.Class({Build:function(){return this.Build1.call(null,null);},MapResult:function(hl){var ho=this;return $.New(g,{Layout:this.Layout,Build1:function(){var hn,hp,hq,hr,ht;hn=ho.Build1.call(null,null);hp=(hq=ho.Utils.Reactive,(hr=hn.State,function(hs){return hq.Select(hr,hs);})(hl));ht=hn.State;return $.New(f,{Body:hn.Body,Dispose1:hn.Dispose1,Notify:hn.Notify,State:ht});},Utils:ho.Utils});},get_Layout:function(){return this.Layout;}}),LayoutUtils:$.Class({Default:function(){return{Apply:function(){return{$:0};}};},Delay:function(hv){return{Apply:function(hw){return hv(null).Apply.call(null,hw);}};},New:function(hx){return{Apply:function(hy){var hz,hA,hB;hz=hx(null);hA={contents:$.New(l,{$:0})};hB=m.subscribeTo(hy,function(hC){var hD,hE,hF,hG,hH;hD=c.ReplacedTree(hC,hA.contents);hA.contents=c.Apply(hC,hA.contents);hE=c.Range(hC,hA.contents);hF=hE[0];hz.Remove.call(null,hD.get_Sequence());hG=(hH=function(hI){return function(hJ){return(hz.Insert.call(null,hF+hI))(hJ);};},function(hK){return n.iteri(hH,hK);});return hG(hC);});return{$:1,$0:[hz.Body,hB]};}};}},{New:function(){var hM;hM={};return $.New(this,hM);}}),"Result`1":$.Class({},{Apply:function(hN,hO){var hP,hQ,hR,hS,hT,hU,hV,hW;hP=[hN,hO];if(hP[0].$==1){if(hP[1].$==1){hQ=hP[0].$0;hR=hP[1].$0;return $.New(e,{$:1,$0:i.append(hQ,hR)});}else{hS=hP[0].$0;return $.New(e,{$:1,$0:hS});}}else{if(hP[1].$==1){hT=hP[0].$0;hU=hP[1].$0;return $.New(e,{$:1,$0:hU});}else{hV=hP[0].$0;hW=hP[1].$0;return $.New(e,{$:0,$0:hV(hW)});}}},Join:function(hX){var hY,hZ;if(hX.$==1){hY=hX.$0;return $.New(e,{$:1,$0:hY});}else{hZ=hX.$0;return hZ;}},Map:function(h0,h1){var h2,h3;if(h1.$==1){h2=h1.$0;return $.New(e,{$:1,$0:h2});}else{h3=h1.$0;return $.New(e,{$:0,$0:h0(h3)});}},OfOption:function(h4){var h5;if(h4.$==0){return $.New(e,{$:1,$0:$.New(j,{$:0})});}else{h5=h4.$0;return $.New(e,{$:0,$0:h5});}},Sequence:function(h6){var h7;h7=function(h8){return function(h9){var h_,h$,ia,ib,ic,id,ie;if(h8.$==1){h_=h8.$0;if(h9.$==1){h$=h9.$0;return $.New(e,{$:1,$0:i.append(h_,h$)});}else{ia=h9.$0;return $.New(e,{$:1,$0:h_});}}else{ib=h8.$0;if(h9.$==1){ic=h9.$0;return $.New(e,{$:1,$0:ic});}else{id=h9.$0;return $.New(e,{$:0,$0:(ie=i.ofArray([id]),i.append(ib,ie))});}}};};return n.fold(h7,$.New(e,{$:0,$0:$.New(j,{$:0})}),h6);}}),Tree:{Apply:function(_if,ig){var ih;ih=function(ii,ij){var ik,il,im,_in,io,ip,iq;if(ii.$==1){ik=ii.$0;if(ij.$==2){il=ij.$1;im=ij.$0;return $.New(l,{$:2,$0:ih(ik,im),$1:il});}else{return ih($.New(d,{$:1,$0:ik}),$.New(l,{$:2,$0:$.New(l,{$:0}),$1:ij}));}}else{if(ii.$==2){_in=ii.$0;if(ij.$==2){io=ij.$1;ip=ij.$0;return $.New(l,{$:2,$0:ip,$1:ih(_in,io)});}else{return ih($.New(d,{$:2,$0:_in}),$.New(l,{$:2,$0:ij,$1:$.New(l,{$:0})}));}}else{iq=ii.$0;return iq;}}};return ih(_if,ig);},Count:function(ir){var is,it,iu,iv,iw,ix,iy,iz,iA,iB,iC;is=[];it=$.New(j,{$:0});is[3]=ir;is[2]=it;is[1]=0;is[0]=1;while(is[0]){if(is[3].$==2){iu=is[3].$1;iv=is[3].$0;iw=$.New(j,{$:1,$0:iu,$1:is[2]});ix=is[1];is[3]=iv;is[2]=iw;is[1]=ix;is[0]=1;}else{iy=is[3];iz=iy.$==0?0:1;if(is[2].$==1){iA=is[2].$1;iB=is[2].$0;iC=is[1]+iz;is[3]=iB;is[2]=iA;is[1]=iC;is[0]=1;}else{is[0]=0;is[1]=is[1]+iz;}}}return is[1];},DeepFlipEdit:function(iD){var iE,iF,iG;if(iD.$==1){iE=iD.$0;return $.New(d,{$:2,$0:c.DeepFlipEdit(iE)});}else{if(iD.$==2){iF=iD.$0;return $.New(d,{$:1,$0:c.DeepFlipEdit(iF)});}else{iG=iD.$0;return $.New(d,{$:0,$0:iG});}}},Delete:function(){return $.New(d,{$:0,$0:$.New(l,{$:0})});},"Edit`1":$.Class({GetEnumerator:function(){var iH;iH=this.get_Sequence();return o.Get(iH);},GetEnumerator1:function(){var iI;iI=this.get_Sequence();return o.Get(iI);},get_Sequence:function(){var iJ,iK,iL;if(this.$==1){iJ=this.$0;return iJ.get_Sequence();}else{if(this.$==2){iK=this.$0;return iK.get_Sequence();}else{iL=this.$0;return iL.get_Sequence();}}}}),FlipEdit:function(iM){var iN,iO,iP;if(iM.$==1){iN=iM.$0;return $.New(d,{$:2,$0:iN});}else{if(iM.$==2){iO=iM.$0;return $.New(d,{$:1,$0:iO});}else{iP=iM.$0;return $.New(d,{$:0,$0:iP});}}},FromSequence:function(iQ){var iR,iS,iT;iR=$.New(l,{$:0});iS=(iT=function(iU){return function(iV){return $.New(l,{$:2,$0:iU,$1:$.New(l,{$:1,$0:iV})});};},function(iW){return function(iX){return n.fold(iT,iW,iX);};});return(iS(iR))(iQ);},Range:function(iY,iZ){var i0,i1,i2,i3,i4,i5,i6,i7,i8,i9,i_,i$,ja,jb,jc;i0=[];i0[3]=0;i0[2]=iZ;i0[1]=iY;i0[0]=1;while(i0[0]){if(i0[1].$==1){i1=i0[1].$0;if(i0[2].$==2){i2=i0[2].$1;i3=i0[2].$0;i4=i0[3];i0[3]=i4;i0[2]=i3;i0[1]=i1;i0[0]=1;}else{i5=i0[3];i6=$.New(l,{$:0});i0[3]=i5;i0[2]=i6;i0[1]=i1;i0[0]=1;}}else{if(i0[1].$==2){i7=i0[1].$0;if(i0[2].$==2){i8=i0[2].$1;i9=i0[2].$0;i_=i0[3]+c.Count(i9);i0[3]=i_;i0[2]=i8;i0[1]=i7;i0[0]=1;}else{i$=i0[2];ja=i0[3]+c.Count(i$);jb=$.New(l,{$:0});i0[3]=ja;i0[2]=jb;i0[1]=i7;i0[0]=1;}}else{jc=i0[1].$0;i0[0]=0;i0[1]=[i0[3],c.Count(i0[2])];}}}return i0[1];},ReplacedTree:function(jd,je){var jf,jg,jh,ji,jj,jk,jl;if(jd.$==1){jf=jd.$0;if(je.$==2){jg=je.$1;jh=je.$0;return c.ReplacedTree(jf,jh);}else{return c.ReplacedTree($.New(d,{$:1,$0:jf}),$.New(l,{$:2,$0:$.New(l,{$:0}),$1:je}));}}else{if(jd.$==2){ji=jd.$0;if(je.$==2){jj=je.$1;jk=je.$0;return c.ReplacedTree(ji,jj);}else{return c.ReplacedTree($.New(d,{$:2,$0:ji}),$.New(l,{$:2,$0:je,$1:$.New(l,{$:0})}));}}else{jl=jd.$0;return je;}}},Set:function(jm){return $.New(d,{$:0,$0:$.New(l,{$:1,$0:jm})});},ShowEdit:function(jn){var jo;jo=function(jp){var jq,jr;if(jp.$==1){jq=jp.$0;return"Left > "+jo(jq);}else{if(jp.$==2){jr=jp.$0;return"Right > "+jo(jr);}else{return"Replace";}}};return jo(jn);},Transform:function(js,jt){var ju,jv,jw,jx,jy;if(jt.$==1){ju=jt.$0;jv=c.Transform(js,ju);return $.New(d,{$:1,$0:jv});}else{if(jt.$==2){jw=jt.$0;jx=c.Transform(js,jw);return $.New(d,{$:2,$0:jx});}else{jy=jt.$0;return $.New(d,{$:0,$0:js(jy)});}}},"Tree`1":$.Class({GetEnumerator:function(){var jz;jz=this.get_Sequence();return o.Get(jz);},GetEnumerator1:function(){var jA;jA=this.get_Sequence();return o.Get(jA);},Map:function(jB){var jC,jD,jE;if(this.$==1){jC=this.$0;return $.New(l,{$:1,$0:jB(jC)});}else{if(this.$==2){jD=this.$1;jE=this.$0;return $.New(l,{$:2,$0:jE.Map(jB),$1:jD.Map(jB)});}else{return $.New(l,{$:0});}}},get_Sequence:function(){var jF,jG,jH;if(this.$==1){jF=this.$0;return[jF];}else{if(this.$==2){jG=this.$1;jH=this.$0;return n.append(jH.get_Sequence(),jG.get_Sequence());}else{return n.empty();}}}})},Validator:$.Class({Is:function(jI,jJ,jK){var jM=this;return function(jL){return jM.Validate(jI,jJ,jL);}(jK);},IsEmail:function(jN){var jP=this;return function(jO){return jP.IsRegexMatch("^[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\\.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$",jN,jO);};},IsEqual:function(jQ,jR,jS){var jT,jW=this;jT=function(jU){return p.Equals(jU,jQ);};return function(jV){return jW.Validate(jT,jR,jV);}(jS);},IsFloat:function(jX){var jZ=this;return function(jY){return jZ.IsRegexMatch("^\\s*(\\+|-)?((\\d+(\\.\\d+)?)|(\\.\\d+))\\s*$",jX,jY);};},IsGreaterThan:function(j0,j1,j2){var j3,j6=this;j3=function(j4){return p.Compare(j4,j0)===1;};return function(j5){return j6.Validate(j3,j1,j5);}(j2);},IsInt:function(j7){var j9=this;return function(j8){return j9.IsRegexMatch("^-?\\d+$",j7,j8);};},IsLessThan:function(j_,j$,ka){var kb,ke=this;kb=function(kc){return p.Compare(kc,j_)===-1;};return function(kd){return ke.Validate(kb,j$,kd);}(ka);},IsNotEmpty:function(kf,kg){var kh,kk=this;kh=function(ki){return ki!=="";};return function(kj){return kk.Validate(kh,kf,kj);}(kg);},IsNotEqual:function(kl,km,kn){var ko,kr=this;ko=function(kp){return!p.Equals(kp,kl);};return function(kq){return kr.Validate(ko,km,kq);}(kn);},IsRegexMatch:function(ks,kt,ku){var kv,ky=this;kv=function(kw){var kx;kx=ky.VP;return function(kz){return kx.Matches(ks,kz);}(kw);};return function(kA){return ky.Validate(kv,kt,kA);}(ku);},IsTrue:function(kB,kC){var kD,kG=this;kD=function(kE){return kE;};return function(kF){return kG.Validate(kD,kB,kF);}(kC);},Validate:function(kH,kI,kJ){var kK,kO;kK=kJ.MapResult(function(kL){var kM,kN;if(kL.$==1){kM=kL.$0;return $.New(e,{$:1,$0:kM});}else{kN=kL.$0;if(kH(kN)){return $.New(e,{$:0,$0:kN});}else{return $.New(e,{$:1,$0:i.ofArray([kI])});}}});kO=function(kP){return kP;};return kO(kK);}},{New:function(kQ){var kR;kR={};kR.VP=kQ;return $.New(this,kR);}})}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.Formlet);b=$.Safe(a.Base);c=$.Safe(b.Tree);d=$.Safe(c["Edit`1"]);e=$.Safe(b["Result`1"]);f=$.Safe(b["Form`2"]);g=$.Safe(b["Formlet`2"]);h=$.Safe($$.IntelliFactory.WebSharper);i=$.Safe(h.List);j=$.Safe(i.T);k=$.Safe(b.LayoutUtils);l=$.Safe(c["Tree`1"]);m=$.Safe(h.Util);n=$.Safe(h.Seq);o=$.Safe(h.Enumerator);return p=$.Safe(h.Unchecked);});$.OnLoad(function(){});}());
