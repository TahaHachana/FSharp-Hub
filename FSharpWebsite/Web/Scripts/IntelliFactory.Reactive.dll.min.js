(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;$.Define($$,{IntelliFactory:{Reactive:{Disposable:$.Class({Dispose:function(){return this.Dispose1.call(null,null);}},{New:function(r){return $.New(b,{Dispose1:r});}}),"HotStream`1":$.Class({Subscribe:function(s){var t;if(this.Latest.contents.$==1){s.OnNext(this.Latest.contents.$0);}return(t=this.Event,t.event).Subscribe(s);},Trigger:function(u){var v;this.Latest.contents={$:1,$0:u};v=this.Event;return v.event.Trigger(u);}},{New:function(w){var x;return $.New(c,{Latest:(x={$:1,$0:w},{contents:x}),Event:f.New()});},New1:function(){return $.New(c,{Latest:{contents:{$:0}},Event:f.New()});}}),"Observable`1":$.Class({Subscribe:function(y){return this.OnSubscribe.call(null,y);},SubscribeWith:function(z,A){var B,C;B=g.New(z,A);C=this.OnSubscribe;return C(B);}},{New:function(D){return $.New(h,{OnSubscribe:D});}}),"Observer`1":$.Class({OnCompleted:function(){return this.OnCompleted1.call(null,null);},OnError:function(){return null;},OnNext:function(F){return this.OnNext1.call(null,F);}},{New:function(G,H){return $.New(g,{OnNext1:G,OnCompleted1:H});}}),Reactive:{Aggregate:function(I,J,K){return h.New(function(L){var M;M={contents:J};return i.subscribeTo(I,function(N){M.contents=(K(M.contents))(N);return L.OnNext(M.contents);});});},Choose:function(O,P){var Q;Q=function(R){return i.subscribeTo(O,function(S){var T,U;T=P(S);if(T.$==0){return null;}else{U=T.$0;return R.OnNext(U);}});};return h.New(Q);},CollectLatest:function(V){return h.New(function(W){var X,Y;X=k.New2();Y={contents:0};return i.subscribeTo(V,function(Z){var _0,_1,_8;l.Increment(Y);_0=Y.contents;_1=i.subscribeTo(Z,function(_2){var _3,_6;X.set_Item(_0,_2);_3=m.delay(function(){return m.map(function(_5){return _5.V;},X);});_6=function(_7){return W.OnNext(_7);};return _6(_3);});_8=function(_9){_9;};return _8(_1);});});},CombineLatest:function(_,ba,bb){var bc;bc=function(bd){var be,bf,bg,bl,bm,bo,bq,br,bt,bv,bw;be={contents:{$:0}};bf={contents:{$:0}};bg=function(){var bi,bj,bk;bi=[be.contents,bf.contents];if(bi[0].$==1){if(bi[1].$==1){bj=bi[0].$0;bk=bi[1].$0;return bd.OnNext((bb(bj))(bk));}else{return null;}}else{return null;}};bl=(bm=function(bn){be.contents={$:1,$0:bn};return bg(null);},(bo=function(bp){bp;},g.New(bm,bo)));bq=(br=function(bs){bf.contents={$:1,$0:bs};return bg(null);},(bt=function(bu){bu;},g.New(br,bt)));bv=_.Subscribe(bl);bw=ba.Subscribe(bq);return b.New(function(){bv.Dispose();return bw.Dispose();});};return h.New(bc);},Concat:function(bx,by){var bz;bz=function(bA){var bB,bC,bD,bE,bG,bI;bB={contents:{$:0}};bC=(bD=(bE=function(bF){return bA.OnNext(bF);},(bG=function(){bB.contents={$:1,$0:by.Subscribe(bA)};},g.New(bE,bG))),(bI=function(bJ){return bx.Subscribe(bJ);},bI(bD)));return b.New(function(){if(bB.contents.$==1){bB.contents.$0.Dispose();}return bC.Dispose();});};return h.New(bz);},Default:$.Field(function(){return o.New();}),Drop:function(bL,bM){var bN;bN=function(bO){var bP;bP={contents:0};return i.subscribeTo(bL,function(bQ){l.Increment(bP);if(bP.contents>bM){return bO.OnNext(bQ);}else{return null;}});};return h.New(bN);},Heat:function(bR){var bS,bT;bS=c.New1();bT=i.subscribeTo(bR,function(bU){return bS.Trigger(bU);});return bS;},Merge:function(bV,bW){var bX;bX=function(bY){var bZ,b0,b1,b2,b3,b5,b7,b9,b_,b$,cb,cd;bZ={contents:false};b0={contents:false};b1=(b2=(b3=function(b4){return bY.OnNext(b4);},(b5=function(){bZ.contents=true;if(bZ.contents?b0.contents:false){return bY.OnCompleted();}else{return null;}},g.New(b3,b5))),(b7=function(b8){return bV.Subscribe(b8);},b7(b2)));b9=(b_=(b$=function(ca){return bY.OnNext(ca);},(cb=function(){b0.contents=true;if(bZ.contents?b0.contents:false){return bY.OnCompleted();}else{return null;}},g.New(b$,cb))),(cd=function(ce){return bW.Subscribe(ce);},cd(b_)));return b.New(function(){b1.Dispose();return b9.Dispose();});};return h.New(bX);},Never:function(){return h.New(function(){return b.New(function(ch){ch;});});},Range:function(ci,cj){var ck;ck=function(cl){var cm;for(cm=ci;cm<=ci+cj;cm++){cl.OnNext(cm);}return b.New(function(cn){cn;});};return h.New(ck);},Reactive:$.Class({Aggregate:function(co,cp,cq){return n.Aggregate(co,cp,cq);},Choose:function(cr,cs){return n.Choose(cr,cs);},CollectLatest:function(ct){return n.CollectLatest(ct);},CombineLatest:function(cu,cv,cw){return n.CombineLatest(cu,cv,cw);},Concat:function(cx,cy){return n.Concat(cx,cy);},Drop:function(cz,cA){return n.Drop(cz,cA);},Heat:function(cB){return n.Heat(cB);},Merge:function(cC,cD){return n.Merge(cC,cD);},Never:function(){return n.Never();},Return:function(cE){return n.Return(cE);},Select:function(cF,cG){return n.Select(cF,cG);},SelectMany:function(cH){return n.SelectMany(cH);},Sequence:function(cI){return n.Sequence(cI);},Switch:function(cJ){return n.Switch(cJ);},Where:function(cK,cL){return n.Where(cK,cL);}},{New:function(){var cM;cM={};return $.New(this,cM);}}),Return:function(cN){var cO;cO=function(cP){cP.OnNext(cN);cP.OnCompleted();return b.New(function(cQ){cQ;});};return h.New(cO);},Select:function(cR,cS){return h.New(function(cT){return i.subscribeTo(cR,function(cU){return cT.OnNext(cS(cU));});});},SelectMany:function(cV){return h.New(function(cW){var cX,cZ;cX={contents:function(cY){cY;}};cZ=i.subscribeTo(cV,function(c0){var c1;c1=i.subscribeTo(c0,function(c2){return cW.OnNext(c2);});cX.contents=function(){cX.contents.call(null,null);return c1.Dispose();};});return b.New(function(){cX.contents.call(null,null);return cZ.Dispose();});});},Sequence:function(c5){var c6;c6=function(c7){var c8,c9,c_;if(c7.$==1){c8=c7.$1;c9=c7.$0;c_=c6(c8);return n.CombineLatest(c9,c_,function(c$){return function(da){return $.New(q,{$:1,$0:c$,$1:da});};});}else{return n.Return($.New(q,{$:0}));}};return n.Select(c6(p.ofSeq(c5)),function(db){return db;});},Switch:function(dc){return h.New(function(dd){var de,df,dg;de=(df={contents:0},(dg={contents:{$:0}},i.subscribeTo(dc,function(dh){var di,dj,dk,dm;l.Increment(df);if(dg.contents.$==1){dg.contents.$0.Dispose();}di=df.contents;dj=(dk=i.subscribeTo(dh,function(dl){if(di===df.contents){return dd.OnNext(dl);}else{return null;}}),(dm=function(dn){return{$:1,$0:dn};},dm(dk)));dg.contents=dj;})));return de;});},Where:function(_do,dp){var dq;dq=function(dr){return i.subscribeTo(_do,function(ds){if(dp(ds)){return dr.OnNext(ds);}else{return null;}});};return h.New(dq);}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.Reactive);b=$.Safe(a.Disposable);c=$.Safe(a["HotStream`1"]);d=$.Safe($$.IntelliFactory.WebSharper);e=$.Safe(d.Control);f=$.Safe(e["FSharpEvent`1"]);g=$.Safe(a["Observer`1"]);h=$.Safe(a["Observable`1"]);i=$.Safe(d.Util);j=$.Safe(d.Collections);k=$.Safe(j.Dictionary);l=$.Safe(d.Operators);m=$.Safe(d.Seq);n=$.Safe(a.Reactive);o=$.Safe(n.Reactive);p=$.Safe(d.List);return q=$.Safe(p.T);});$.OnLoad(function(){n.Default();});}());
