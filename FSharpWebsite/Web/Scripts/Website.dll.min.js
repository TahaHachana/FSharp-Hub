(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N;$.Define($$,{Website:{AddThis:{Control:$.Class({get_Body:function(){return b.main();}}),main:function(){var O,P,Q;O=(P=f.Tags(),(Q=$.New(h,{$:0}),P.NewTag("section",Q)));O.set_Html("<div class=\"addthis_toolbox addthis_default_style \">\r\n               <a class=\"addthis_button_facebook_like\" fb:like:layout=\"button_count\"></a>\r\n               <a class=\"addthis_button_tweet\"></a>\r\n               <a class=\"addthis_button_pinterest_pinit\"></a>\r\n               <a class=\"addthis_counter addthis_pill_style\"></a>\r\n               </div>\r\n               <script type=\"text/javascript\" src=\"http://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50af450141ce9366\"></script>");return O;}},BooksAdmin:{Client:{Control:$.Class({get_Body:function(){return j.main();}}),addFormlet:$.Field(function(){var R,S,T,V,W,X,Z,_0,_1,_2,_3,_5,_7,_9,_,ba,bc,bd,be,bg,bh,bi,bk,bl,bm,bo,bp,bq,bs,bt,bu,bv,bE,bG;R=(S=l.Input(""),(T=function(U){return m.WithTextLabel("URL",U);},T(S)));V=(W=l.Input(""),(X=function(Y){return m.WithTextLabel("Title",Y);},X(W)));Z=(_0=(_1=(_2=l.Input(""),(_3=function(_4){return m.WithTextLabel("Author",_4);},_3(_2))),(_5=function(_6){return m.Many(_6);},_5(_1))),(_7=function(_8){return m.WithFormContainer(_8);},_7(_0)));_9=(_=l.Input(""),(ba=function(bb){return m.WithTextLabel("Publisher",bb);},ba(_)));bc=(bd=l.Input(""),(be=function(bf){return m.WithTextLabel("ISBN",bf);},be(bd)));bg=(bh=l.Input(""),(bi=function(bj){return m.WithTextLabel("Pages",bj);},bi(bh)));bk=(bl=l.Input(""),(bm=function(bn){return m.WithTextLabel("Release Date",bn);},bm(bl)));bo=(bp=l.Input(""),(bq=function(br){return m.WithTextLabel("Cover URL",br);},bq(bp)));bs=(bt=(bu=n.$(n.$(n.$(n.$(n.$(n.$(n.$(n.$((bv=function(bw){return function(bx){return function(by){return function(bz){return function(bA){return function(bB){return function(bC){return function(bD){return[bw,bx,by,bz,bA,bB,bC,bD];};};};};};};};},o.Return(bv)),R),V),Z),_9),bc),bg),bk),bo),(bE=function(bF){return m.WithSubmitAndResetButtons(bF);},bE(bu))),(bG=function(bH){return m.WithFormContainer(bH);},bG(bt)));return o.Run($.Tupled(function(bH){var bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bW;bI=bH[0];bJ=bH[1];bK=bH[2];bL=bH[3];bM=bH[4];bN=bH[5];bO=bH[6];bP=bH[7];bQ=(bR=function(){var bT,bU;bT=p.Async("Website:3",[bI,bJ,bK,bL,bM,bN,bO,bP]);bU=function(bV){if(bV){q("New book inserted successfully.");return r.Return(null);}else{q("The query failed.");return r.Return(null);}};return r.Bind(bT,bU);},r.Delay(bR));bW=function(bX){var bY;bY={$:0};return r.Start(bX);};return bW(bQ);}),bs);}),booksTable:$.Field(function(){var bZ,b0,b1;bZ=s.add(e.Table(g.ofArray([e.Attr().Class("table table-striped")])),g.ofArray([e.TR(g.ofArray([e.TH(g.ofArray([e.Text("Title")])),e.TH(g.ofArray([e.Text("Publisher")]))]))]));b0=(b1=function(b2){var b3,b4,ci;b3=(b4=function(){var b6,b7;b6=p.Async("Website:2",[]);b7=function(b8){var b9,b_,b$,ce,cf;b9=(b_=(b$=$.Tupled(function(ca){var cb,cc;cb=ca[0];cc=ca[1];return j.tr(cb,cc);}),function(cd){return t.map(b$,cd);}),b_(b8));ce=(cf=function(cg){return b2.AppendI(cg);},function(ch){return t.iter(cf,ch);});ce(b9);return r.Return(null);};return r.Bind(b6,b7);},r.Delay(b4));ci=function(cj){var ck;ck={$:0};return r.Start(cj);};return ci(b3);},function(cl){return s.OnAfterRender(b1,cl);});b0(bZ);return bZ;}),main:function(){return s.add(e.Div(g.ofArray([e.Attr().Class("row")])),g.ofArray([s.add(e.Div(g.ofArray([e.Attr().Class("span6")])),g.ofArray([e.H2(g.ofArray([e.Text("Add new book")])),e.Div(g.ofArray([j.addFormlet()]))])),s.add(e.Div(g.ofArray([e.Attr().Class("span6")])),g.ofArray([e.H2(g.ofArray([e.Text("Books in database")])),j.booksTable()]))]));},tr:function(cm,cn){return e.TR(g.ofArray([e.TD(g.ofArray([e.Text(cm)])),e.TD(g.ofArray([e.Text(cn)]))]));}}},Forkme:{Viewer:$.Class({get_Body:function(){return u.ribbon();}}),ribbon:function(){return s.add(e.A(g.ofArray([e.HRef("https://github.com/TahaHachana/FSharp-Hub")])),g.ofArray([e.Img(g.ofArray([e.Src("https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"),e.Alt("Fork me on GitHub"),e.Id("forkme")]))]));}},Login:{Client:{Control:$.Class({get_Body:function(){return w.loginForm(this.redirectUrl);}}),loginForm:function(co){var cp,cq,cr,ct,cu,cv,cx,cy,cz,cA,cD,cF;cp=(cq=l.Input(""),(cr=function(cs){return m.WithTextLabel("Username",cs);},cr(cq)));ct=(cu=l.Password(""),(cv=function(cw){return m.WithTextLabel("Password",cw);},cv(cu)));cx=(cy=(cz=n.$(n.$((cA=function(cB){return function(cC){return{Name:cB,Password:cC};};},o.Return(cA)),cp),ct),(cD=function(cE){return m.WithSubmitButton(cE);},cD(cz))),(cF=function(cG){return m.WithFormContainer(cG);},cF(cy)));return o.Run(function(cH){var cI,cJ,cO;cI=(cJ=function(){var cL,cM;cL=p.Async("Website:12",[cH]);cM=function(cN){if(cN){x.location.href=co;return r.Return(null);}else{q("Login failed");return r.Return(null);}};return r.Bind(cL,cM);},r.Delay(cJ));cO=function(cP){var cQ;cQ={$:0};return r.Start(cP);};return cO(cI);},cx);}}},NewsAdmin:{Client:{Control:$.Class({get_Body:function(){return z.main();}}),main:function(){var cR,cS,cT,cV,cW,cX,cZ,c0,c1,c3,c4,c5,c7,c8,c9,c_,dd,df;cR=(cS=l.Input(""),(cT=function(cU){return m.WithTextLabel("Title",cU);},cT(cS)));cV=(cW=l.TextArea(""),(cX=function(cY){return m.WithTextLabel("Summary",cY);},cX(cW)));cZ=(c0=l.Input(""),(c1=function(c2){return m.WithTextLabel("URL",c2);},c1(c0)));c3=(c4=l.Input(""),(c5=function(c6){return m.WithTextLabel("Date",c6);},c5(c4)));c7=(c8=(c9=n.$(n.$(n.$(n.$((c_=function(c$){return function(da){return function(db){return function(dc){return[c$,da,db,dc];};};};},o.Return(c_)),cR),cV),cZ),c3),(dd=function(de){return m.WithSubmitAndResetButtons(de);},dd(c9))),(df=function(dg){return m.WithFormContainer(dg);},df(c8)));return o.Run($.Tupled(function(dh){var di,dj,dk,dl,dm,dn,ds;di=dh[0];dj=dh[1];dk=dh[2];dl=dh[3];dm=(dn=function(){var dp,dq;dp=p.Async("Website:0",[di,dj,dk,dl]);dq=function(dr){if(dr){q("News item inserted successfully.");return r.Return(null);}else{q("The query failed.");return r.Return(null);}};return r.Bind(dp,dq);},r.Delay(dn));ds=function(dt){var du;du={$:0};return r.Start(dt);};return ds(dm);}),c7);}}},Questions:{Client:{Control:$.Class({get_Body:function(){return B.questionsDiv();}}),checkNewQuestions:function(){var dv,dw,dY;dv=(dw=function(){var dy,dz,dA,dB;dy=C("#fsharpQuestions");dz=dy.attr("data-question-id");dA=p.Async("Website:6",[dz]);dB=function(dC){var dD,dE,dF,dG,dH,dJ,dK,dS,dT,dW,dX;if(dC.$==1){dD=dC.$0[1];dE=dC.$0[0];dF=(dG=(dH=function(dI){return dI.slice(0,dI.length).reverse();},dH(dD)),(dJ=(dK=$.Tupled(function(dL){var dM,dN,dO,dP,dQ;dM=dL[0];dN=dL[1];dO=dL[2];dP=dL[3];dQ=dL[4];return B.makeQuestionLi(dM,dN,dO,dP,dQ);}),function(dR){return t.map(dK,dR);}),dJ(dG)));dS=(dT=function(dU){return E.prependElement("#questionsList",dU);},function(dV){return t.iter(dT,dV);});dS(dF);dW=dD.length;B.incrementQuestionsCount(dW);B.setQuestionId(dE);dX=dW===1?"1 new question":$$.String(dW)+" new questions";E.displayInfoAlert(dX);return r.Return(null);}else{return r.Return(null);}};return r.Bind(dA,dB);},r.Delay(dw));dY=function(dZ){var d0;d0={$:0};return r.Start(dZ);};return dY(dv);},incrementQuestionsCount:function(d1){return E.incrementDataCount("#fsharpQuestions","data-questions-count",d1);},makeQuestionLi:function(d2,d3,d4,d5,d6){var d7,d8,d9,d_,d$;return s.add(e.LI(g.ofArray([e.Attr().Class("question")])),g.ofArray([s.add(e.A(g.ofArray([e.HRef(d2)])),g.ofArray([(d7=g.ofArray([e.Text(d3)]),(d8=e.Tags(),d8.NewTag("strong",d7)))])),e.Br($.New(h,{$:0})),(d9=g.ofArray([(d_=d4+", "+d5,e.Text(d_))]),(d$=e.Tags(),d$.NewTag("small",d9))),e.P(g.ofArray([e.Text(d6)]))]));},questionsDiv:function(){var ea,eb,ec,ed,ee,eS,eT,eU,eV,eW,eX,eY;ea=e.UL(g.ofArray([e.Id("questionsList")]));eb=(ec=e.Button(g.ofArray([e.Text("Load More"),e.Attr().Class("btn loadMore")])),(ed=(ee=function(ef){return function(){var eh,ei,eO;eh=(ei=function(){var ek,el,eo,ep,eq,er,et,eu;ek=ef["HtmlProvider@32"];((el=ef.Body,function(em){return function(en){return ek.SetAttribute(el,em,en);};})("disabled"))("disabled");eo=C("#fsharpQuestions");ep=(eq=eo.attr("data-questions-count"),(er=function(es){return es<<0;},er(eq)));et=p.Async("Website:5",[ep]);eu=function(ev){var ew,ex,ey,eG,eH,eK,eL,eM;ew=(ex=(ey=$.Tupled(function(ez){var eA,eB,eC,eD,eE;eA=ez[0];eB=ez[1];eC=ez[2];eD=ez[3];eE=ez[4];return B.makeQuestionLi(eA,eB,eC,eD,eE);}),function(eF){return t.map(ey,eF);}),ex(ev));eG=(eH=function(eI){return ea.AppendI(eI);},function(eJ){return t.iter(eH,eJ);});eG(ew);eK=ev.length;B.incrementQuestionsCount(eK);eL=ef["HtmlProvider@32"];(eM=ef.Body,function(eN){return eL.RemoveAttribute(eM,eN);})("disabled");return r.Return(null);};return r.Bind(et,eu);},r.Delay(ei));eO=function(eP){var eQ;eQ={$:0};return r.Start(eP);};return eO(eh);};},function(eR){return F.Events().OnClick(ee,eR);}),(ed(ec),ec)));eS=s.add(e.Div(g.ofArray([e.Id("fsharpQuestions"),(eT=f.Attr(),(eU="data-"+"questions-count",eT.NewAttr(eU,"0"))),(eV=f.Attr(),(eW="data-"+"question-id",eV.NewAttr(eW,"")))])),g.ofArray([ea,eb]));eX=(eY=function(){var e0,e1,fo;e0=(e1=function(){var e3,e4;e3=p.Async("Website:4",[]);e4=$.Tupled(function(e5){var e6,e7,e8,e9,e_,fg,fh,fk,fl;e6=e5[0];e7=e5[1];e8=(e9=(e_=$.Tupled(function(e$){var fa,fb,fc,fd,fe;fa=e$[0];fb=e$[1];fc=e$[2];fd=e$[3];fe=e$[4];return B.makeQuestionLi(fa,fb,fc,fd,fe);}),function(ff){return t.map(e_,ff);}),e9(e7));fg=(fh=function(fi){return ea.AppendI(fi);},function(fj){return t.iter(fh,fj);});fg(e8);B.incrementQuestionsCount(20);B.setQuestionId(e6);fk=eb["HtmlProvider@32"];((fl=eb.Body,function(fm){return function(fn){return fk.SetCss(fl,fm,fn);};})("visibility"))("visible");return r.Return(null);});return r.Bind(e3,e4);},r.Delay(e1));fo=function(fp){var fq;fq={$:0};return r.Start(fp);};return fo(e0);},function(fr){return s.OnAfterRender(eY,fr);});eX(eS);return eS;},setQuestionId:function(fs){return E.setAttributeValue("#fsharpQuestions","data-question-id",fs);}}},Snippets:{Client:{Control:$.Class({get_Body:function(){return H.snippetsDiv();}}),incrementSnippetsCount:function(ft){return E.incrementDataCount("#fsharpSnippets","data-snippets-count",ft);},makeSnippetLi:function(fu,fv,fw){var fx,fy;return s.add(e.LI(g.ofArray([e.Attr().Class("snippet")])),g.ofArray([s.add(e.A(g.ofArray([e.HRef(fu)])),g.ofArray([(fx=g.ofArray([e.Text(fv)]),(fy=e.Tags(),fy.NewTag("strong",fx)))])),e.P(g.ofArray([e.Text(fw)]))]));},snippetsDiv:function(){var fz,fA,fB,fC,fD,gd,ge,gf,gg,gh;fz=e.UL(g.ofArray([e.Id("snippetsList")]));fA=(fB=e.Button(g.ofArray([e.Text("Load More"),e.Attr().Class("btn loadMore")])),(fC=(fD=function(fE){return function(){var fG,fH,f$;fG=(fH=function(){var fJ,fK,fN,fO,fP,fQ,fS,fT;fJ=fE["HtmlProvider@32"];((fK=fE.Body,function(fL){return function(fM){return fJ.SetAttribute(fK,fL,fM);};})("disabled"))("disabled");fN=C("#fsharpSnippets");fO=(fP=fN.attr("data-snippets-count"),(fQ=function(fR){return fR<<0;},fQ(fP)));fS=p.Async("Website:11",[fO]);fT=function(fU){var fV,fW,fX,f3,f4,f7,f8,f9;fV=(fW=(fX=$.Tupled(function(fY){var fZ,f0,f1;fZ=fY[0];f0=fY[1];f1=fY[2];return H.makeSnippetLi(fZ,f0,f1);}),function(f2){return t.map(fX,f2);}),fW(fU));f3=(f4=function(f5){return fz.AppendI(f5);},function(f6){return t.iter(f4,f6);});f3(fV);f7=fU.length;H.incrementSnippetsCount(f7);f8=fE["HtmlProvider@32"];(f9=fE.Body,function(f_){return f8.RemoveAttribute(f9,f_);})("disabled");return r.Return(null);};return r.Bind(fS,fT);},r.Delay(fH));f$=function(ga){var gb;gb={$:0};return r.Start(ga);};return f$(fG);};},function(gc){return F.Events().OnClick(fD,gc);}),(fC(fB),fB)));gd=s.add(e.Div(g.ofArray([e.Id("fsharpSnippets"),(ge=f.Attr(),(gf="data-"+"snippets-count",ge.NewAttr(gf,"0")))])),g.ofArray([fz,fA]));gg=(gh=function(){var gj,gk,gF;gj=(gk=function(){var gm,gn;gm=p.Async("Website:10",[]);gn=function(go){var gp,gq,gr,gx,gy,gB,gC;gp=(gq=(gr=$.Tupled(function(gs){var gt,gu,gv;gt=gs[0];gu=gs[1];gv=gs[2];return H.makeSnippetLi(gt,gu,gv);}),function(gw){return t.map(gr,gw);}),gq(go));gx=(gy=function(gz){return fz.AppendI(gz);},function(gA){return t.iter(gy,gA);});gx(gp);H.incrementSnippetsCount(20);gB=fA["HtmlProvider@32"];((gC=fA.Body,function(gD){return function(gE){return gB.SetCss(gC,gD,gE);};})("visibility"))("visible");return r.Return(null);};return r.Bind(gm,gn);},r.Delay(gk));gF=function(gG){var gH;gH={$:0};return r.Start(gG);};return gF(gj);},function(gI){return s.OnAfterRender(gh,gI);});gg(gd);return gd;}}},Tweets:{Client:{Control:$.Class({get_Body:function(){return J.tweetsDiv();}}),checkNewTweets:function(){var gJ,gK,hk;gJ=(gK=function(){var gM,gN,gO,gP;gM=C("#fsharpTweets");gN=gM.attr("data-tweet-id");gO=p.Async("Website:9",[gN]);gP=function(gQ){var gR,gS,gT,gU,g2,g3,g4,g6,g7,he,hf,hi,hj;if(gQ.$==1){gR=gQ.$0;gS=(gT=gR[0],(gU=$.Tupled(function(gV){var gW,gX,gY,gZ,g0,g1;gW=gV[0];gX=gV[1];gY=gV[2];gZ=gV[3];g0=gV[4];g1=gV[5];return gX;}),gU(gT)));g2=(g3=(g4=function(g5){return g5.slice(0,g5.length).reverse();},g4(gR)),(g6=(g7=$.Tupled(function(g8){var g9,g_,g$,ha,hb,hc;g9=g8[0];g_=g8[1];g$=g8[2];ha=g8[3];hb=g8[4];hc=g8[5];return J.makeTweetLi(g9,g_,g$,ha,hb,hc);}),function(hd){return t.map(g7,hd);}),g6(g3)));he=(hf=function(hg){return E.prependElement("#tweetsList",hg);},function(hh){return t.iter(hf,hh);});he(g2);hi=gR.length;J.incrementTweetsCount(hi);J.setTweetId(gS);J.toggleActionsVisibility();hj=hi===1?"1 new tweet":$$.String(hi)+" new tweets";E.displayInfoAlert(hj);return r.Return(null);}else{return r.Return(null);}};return r.Bind(gO,gP);},r.Delay(gK));hk=function(hl){var hm;hm={$:0};return r.Start(hl);};return hk(gJ);},handleTweetActions:function(){var hn;hn=C(".tweet-action-link");return hn.mousedown(function(ho){var hp,hq,hr;ho.preventDefault();hp=this.getAttribute("href");hq=x.showModalDialog(hp);hr=function(hs){hs;};return hr(hq);});},incrementTweetsCount:function(ht){return E.incrementDataCount("#fsharpTweets","data-tweets-count",ht);},makeTweetLi:function(hu,hv,hw,hx,hy,hz){var hA,hB,hC,hD,hE,hF,hG,hH,hI,hJ,hK;hA="https://twitter.com/"+hu;hB="https://twitter.com/intent/tweet?in_reply_to="+hv;hC="https://twitter.com/intent/retweet?tweet_id="+hv;hD="https://twitter.com/intent/retweet?tweet_id="+hv;hE=e.P($.New(h,{$:0}));hE.set_Html(hy);return s.add(e.LI(g.ofArray([e.Attr().Class("tweet"),(hF=e.Attr(),hF.NewAttr("style","clear: both;"))])),g.ofArray([e.Div(g.ofArray([s.add(s.add(e.A(g.ofArray([e.HRef(hA),e.Attr().Class("twitterProfileLink")])),g.ofArray([e.Img(g.ofArray([e.Src(hw),e.Alt(hx),e.Attr().Class("avatar"),e.Height("48"),e.Width("48")])),(hG=g.ofArray([e.Text(hx)]),(hH=e.Tags(),hH.NewTag("strong",hG)))])),g.ofArray([e.Text(" @"+hu)])),e.Br($.New(h,{$:0})),(hI=g.ofArray([e.Text(hz)]),(hJ=e.Tags(),hJ.NewTag("small",hI))),hE,s.add(e.UL(g.ofArray([e.Attr().Class("tweetActions"),(hK=e.Attr(),hK.NewAttr("style","visibility: hidden;"))])),g.ofArray([s.add(e.LI(g.ofArray([e.Attr().Class("tweetAction")])),g.ofArray([s.add(e.A(g.ofArray([e.HRef(hB),e.Attr().Class("tweet-action-link")])),g.ofArray([e.Text("Reply")]))])),s.add(e.LI(g.ofArray([e.Attr().Class("tweetAction")])),g.ofArray([s.add(e.A(g.ofArray([e.HRef(hC),e.Attr().Class("tweet-action-link")])),g.ofArray([e.Text("Retweet")]))])),e.LI(g.ofArray([s.add(e.A(g.ofArray([e.HRef(hD),e.Attr().Class("tweet-action-link")])),g.ofArray([e.Text("Favorite")]))]))]))]))]));},setTweetId:function(hL){return E.setAttributeValue("#fsharpTweets","data-tweet-id",hL);},toggleActionsVisibility:function(){var hM;hM=C(".tweet");hM.mouseenter(function(){return C(".tweetActions",this).css("visibility","visible");});return hM.mouseleave(function(){return C(".tweetActions",this).css("visibility","hidden");});},tweetsDiv:function(){var hP,hQ,hR,hS,hT,iw,ix,iy,iz,iA,iB,iC;hP=e.UL(g.ofArray([e.Id("tweetsList")]));hQ=(hR=e.Button(g.ofArray([e.Text("Load More"),e.Attr().Class("btn loadMore")])),(hS=(hT=function(hU){return function(){var hW,hX,is;hW=(hX=function(){var hZ,h0,h3,h4,h5,h6,h8,h9;hZ=hU["HtmlProvider@32"];((h0=hU.Body,function(h1){return function(h2){return hZ.SetAttribute(h0,h1,h2);};})("disabled"))("disabled");h3=C("#fsharpTweets");h4=(h5=h3.attr("data-tweets-count"),(h6=function(h7){return h7<<0;},h6(h5)));h8=p.Async("Website:8",[h4]);h9=function(h_){var h$,ia,ib,ik,il,io,ip,iq;h$=(ia=(ib=$.Tupled(function(ic){var id,ie,_if,ig,ih,ii;id=ic[0];ie=ic[1];_if=ic[2];ig=ic[3];ih=ic[4];ii=ic[5];return J.makeTweetLi(id,ie,_if,ig,ih,ii);}),function(ij){return t.map(ib,ij);}),ia(h_));ik=(il=function(im){return hP.AppendI(im);},function(_in){return t.iter(il,_in);});ik(h$);io=h_.length;J.incrementTweetsCount(io);J.toggleActionsVisibility();J.handleTweetActions();ip=hU["HtmlProvider@32"];(iq=hU.Body,function(ir){return ip.RemoveAttribute(iq,ir);})("disabled");return r.Return(null);};return r.Bind(h8,h9);},r.Delay(hX));is=function(it){var iu;iu={$:0};return r.Start(it);};return is(hW);};},function(iv){return F.Events().OnClick(hT,iv);}),(hS(hR),hR)));iw=s.add(e.Div(g.ofArray([e.Id("fsharpTweets"),(ix=f.Attr(),(iy="data-"+"tweets-count",ix.NewAttr(iy,"0"))),(iz=f.Attr(),(iA="data-"+"tweet-id",iz.NewAttr(iA,"")))])),g.ofArray([hP,hQ]));iB=(iC=function(){var iE,iF,jb;iE=(iF=function(){var iH,iI;iH=p.Async("Website:7",[]);iI=function(iJ){var iK,iL,iM,iU,iV,iW,i5,i6,i9,i_;iK=(iL=iJ[0],(iM=$.Tupled(function(iN){var iO,iP,iQ,iR,iS,iT;iO=iN[0];iP=iN[1];iQ=iN[2];iR=iN[3];iS=iN[4];iT=iN[5];return iP;}),iM(iL)));iU=(iV=(iW=$.Tupled(function(iX){var iY,iZ,i0,i1,i2,i3;iY=iX[0];iZ=iX[1];i0=iX[2];i1=iX[3];i2=iX[4];i3=iX[5];return J.makeTweetLi(iY,iZ,i0,i1,i2,i3);}),function(i4){return t.map(iW,i4);}),iV(iJ));i5=(i6=function(i7){return hP.AppendI(i7);},function(i8){return t.iter(i6,i8);});i5(iU);J.incrementTweetsCount(20);J.setTweetId(iK);i9=hQ["HtmlProvider@32"];((i_=hQ.Body,function(i$){return function(ja){return i9.SetCss(i_,i$,ja);};})("visibility"))("visible");J.toggleActionsVisibility();J.handleTweetActions();return r.Return(null);};return r.Bind(iH,iI);},r.Delay(iF));jb=function(jc){var jd;jd={$:0};return r.Start(jc);};return jb(iE);},function(je){return s.OnAfterRender(iC,je);});iB(iw);return iw;}}},Utilities:{Client:{displayInfoAlert:function(jf){C("#alertText").text(jf);C("#alertDiv").show(600);return C("#alertDiv").fadeOut(7000);},incrementDataCount:function(jg,jh,ji){var jj,jk,jl,jm,jn,jp;jj=C(jg);jk=(jl=(jm=jj.attr(jh),(jn=function(jo){return(jo<<0)+ji;},jn(jm))),(jp=function(jq){return $$.String(jq);},jp(jl)));return jj.attr(jh,jk);},prependElement:function(jr,js){return C(jr).prepend(js.Body);},setAttributeValue:function(jt,ju,jv){return C(jt).attr(ju,jv);}}},Videos:{Client:{PagerViewer:$.Class({get_Body:function(){return L.pager();}}),pager:function(){var jw,jx,jy;jw=s.add(e.UL(g.ofArray([e.Attr().Class("pager")])),g.ofArray([s.add(e.LI(g.ofArray([e.Id("previous"),e.Attr().Class("previous")])),g.ofArray([s.add(e.A(g.ofArray([e.Id("prevLink"),e.HRef("")])),g.ofArray([e.Text("Prev")]))])),s.add(e.LI(g.ofArray([e.Id("next"),e.Attr().Class("next")])),g.ofArray([s.add(e.A(g.ofArray([e.Id("nextLink"),e.HRef("")])),g.ofArray([e.Text("Next")]))]))]));jx=(jy=function(){var jA,jB,jC,jD,jF,jG,jH,jJ,jK,jL;jA=C("#pager");jB=(jC=jA.attr("data-previous"),(jD=function(jE){return jE<<0;},jD(jC)));jF=(jG=jA.attr("data-next"),(jH=function(jI){return jI<<0;},jH(jG)));jJ=(jK=jA.attr("data-pages-count"),(jL=function(jM){return jM<<0;},jL(jK)));if(jB===0){C("#previous").addClass("disabled");}else{C("#prevLink").attr("href","/videos/"+$$.String(jB));}if(jF===jJ){return C("#next").addClass("disabled");}else{return C("#nextLink").attr("href","/videos/"+$$.String(jF));}},function(jN){return s.OnAfterRender(jy,jN);});jx(jw);return jw;}}},VideosAdmin:{Client:{Control:$.Class({get_Body:function(){return N.main();}}),main:function(){var jO,jP,jQ,jS,jT,jU,jW,jX,jY,j0,j1,j2,j4,j5,j6,j8,j9,j_,j$,kf,kh;jO=(jP=l.Input(""),(jQ=function(jR){return m.WithTextLabel("Title",jR);},jQ(jP)));jS=(jT=l.Input(""),(jU=function(jV){return m.WithTextLabel("URL",jV);},jU(jT)));jW=(jX=l.Input(""),(jY=function(jZ){return m.WithTextLabel("Thumbnail",jZ);},jY(jX)));j0=(j1=l.Input(""),(j2=function(j3){return m.WithTextLabel("Website",j3);},j2(j1)));j4=(j5=l.Input(""),(j6=function(j7){return m.WithTextLabel("Date",j7);},j6(j5)));j8=(j9=(j_=n.$(n.$(n.$(n.$(n.$((j$=function(ka){return function(kb){return function(kc){return function(kd){return function(ke){return[ka,kb,kc,kd,ke];};};};};},o.Return(j$)),jO),jS),jW),j0),j4),(kf=function(kg){return m.WithSubmitAndResetButtons(kg);},kf(j_))),(kh=function(ki){return m.WithFormContainer(ki);},kh(j9)));return o.Run($.Tupled(function(kj){var kk,kl,km,kn,ko,kp,kq,kv;kk=kj[0];kl=kj[1];km=kj[2];kn=kj[3];ko=kj[4];kp=(kq=function(){var ks,kt;ks=p.Async("Website:1",[kk,kl,km,kn,ko]);kt=function(ku){if(ku){q("New video inserted successfully.");return r.Return(null);}else{q("The query failed.");return r.Return(null);}};return r.Bind(ks,kt);},r.Delay(kq));kv=function(kw){var kx;kx={$:0};return r.Start(kw);};return kv(kp);}),j8);}}}}});$.OnInit(function(){a=$.Safe($$.Website);b=$.Safe(a.AddThis);c=$.Safe($$.IntelliFactory.WebSharper);d=$.Safe(c.Html);e=$.Safe(d.Default);f=$.Safe(e.HTML5);g=$.Safe(c.List);h=$.Safe(g.T);i=$.Safe(a.BooksAdmin);j=$.Safe(i.Client);k=$.Safe(c.Formlet);l=$.Safe(k.Controls);m=$.Safe(k.Enhance);n=$.Safe(k.Data);o=$.Safe(k.Formlet);p=$.Safe(c.Remoting);q=$.Safe($$.alert);r=$.Safe(c.Concurrency);s=$.Safe(d.Operators);t=$.Safe(c.Arrays);u=$.Safe(a.Forkme);v=$.Safe(a.Login);w=$.Safe(v.Client);x=$.Safe($$.window);y=$.Safe(a.NewsAdmin);z=$.Safe(y.Client);A=$.Safe(a.Questions);B=$.Safe(A.Client);C=$.Safe($$.jQuery);D=$.Safe(a.Utilities);E=$.Safe(D.Client);F=$.Safe(d.EventsPervasives);G=$.Safe(a.Snippets);H=$.Safe(G.Client);I=$.Safe(a.Tweets);J=$.Safe(I.Client);K=$.Safe(a.Videos);L=$.Safe(K.Client);M=$.Safe(a.VideosAdmin);return N=$.Safe(M.Client);});$.OnLoad(function(){j.booksTable();j.addFormlet();});}());
