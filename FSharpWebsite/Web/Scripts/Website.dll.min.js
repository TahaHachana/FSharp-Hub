(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;$.Define($$,{FSharpWebsite:{FSharpBooks:{Client:{booksDiv:function(){var w,A,C,D,E;w=function(x,y,z){return c.add(d.UL(e.ofArray([d.Attr().Class("thumbnails")])),e.ofArray([x,y,z]));};A=function(B){return c.add(d.Div(e.ofArray([d.Attr().Class("row-fluid")])),e.ofArray([B]));};C=d.Div($.New(f,{$:0}));D=(E=function(F){var G,H,bb;G=(H=function(){var J,K;J=g.Async("Website:6",[]);K=function(L){var M,N,O,P,Q,Z,_0,_6,_7,_9,_;M=(N=(O=(P=(Q=$.Tupled(function(R){var S,T,U,V,W,X;S=R[0];T=R[1];U=R[2];V=j.makeThumbnailLi(S[0],S[1],S[2],S[3],S[4],S[5],S[6]);W=j.makeThumbnailLi(T[0],T[1],T[2],T[3],T[4],T[5],T[6]);X=j.makeThumbnailLi(U[0],U[1],U[2],U[3],U[4],U[5],U[6]);return[V,W,X];}),function(Y){return k.map(Q,Y);}),P(L)),(Z=(_0=$.Tupled(function(_1){var _2,_3,_4;_2=_1[0];_3=_1[1];_4=_1[2];return w(_2,_3,_4);}),function(_5){return k.map(_0,_5);}),Z(O))),(_6=(_7=A,function(_8){return k.map(_7,_8);}),_6(N)));_9=(_=function(ba){return F.AppendI(ba);},function(ba){return k.iter(_,ba);});_9(M);return l.Return(null);};return l.Bind(J,K);},l.Delay(H));bb=function(bc){var bd;bd={$:0};return l.Start(bc);};return bb(G);},function(be){return c.OnAfterRender(E,be);});D(C);return C;},makeThumbnailLi:function(bf,bg,bh,bi,bj,bk,bl){var bm,bn,bo,bp,bq;return c.add(d.LI(e.ofArray([d.Attr().Class("span4")])),e.ofArray([c.add(d.Div(e.ofArray([d.Attr().Class("thumbnail")])),e.ofArray([d.Img(e.ofArray([d.Src(bg),d.Alt(bh),d.Width("180"),d.Height("220")])),d.H3(e.ofArray([d.Text(bh)])),d.P(e.ofArray([(bm="Authors: "+m.concat(", ",bi),d.Text(bm))])),d.P(e.ofArray([(bn="Pbulisher: "+bj,d.Text(bn))])),d.P(e.ofArray([(bo="ISBN: "+bk,d.Text(bo))])),d.P(e.ofArray([(bp="Pages: "+bl,d.Text(bp))])),c.add(d.A(e.ofArray([d.HRef(bf),d.Attr().Class("btn btn-primary"),(bq=d.Attr(),bq.NewAttr("target","_blank"))])),e.ofArray([d.Text("Book Website")]))]))]));}},FsharpBooksViewer:$.Class({get_Body:function(){return j.booksDiv();}})},FSharpQuestions:{Client:{checkNewQuestions:function(){var br,bs,bU;br=(bs=function(){var bu,bv,bw,bx;bu=n("#fsharpQuestions");bv=bu.attr("data-question-id");bw=g.Async("Website:2",[bv]);bx=function(by){var bz,bA,bB,bC,bD,bF,bG,bO,bP,bS,bT;if(by.$==1){bz=by.$0[1];bA=by.$0[0];bB=(bC=(bD=function(bE){return bE.slice(0,bE.length).reverse();},bD(bz)),(bF=(bG=$.Tupled(function(bH){var bI,bJ,bK,bL,bM;bI=bH[0];bJ=bH[1];bK=bH[2];bL=bH[3];bM=bH[4];return p.makeQuestionLi(bI,bJ,bK,bL,bM);}),function(bN){return q.map(bG,bN);}),bF(bC)));bO=(bP=function(bQ){return r.prependElement("#questionsList",bQ);},function(bR){return q.iter(bP,bR);});bO(bB);bS=bz.length;p.incrementQuestionsCount(bS);p.setQuestionId(bA);bT=bS===1?"1 new question":$$.String(bS)+" new questions";r.displayInfoAlert(bT);return l.Return(null);}else{return l.Return(null);}};return l.Bind(bw,bx);},l.Delay(bs));bU=function(bV){var bW;bW={$:0};return l.Start(bV);};return bU(br);},incrementQuestionsCount:function(bX){return r.incrementDataCount("#fsharpQuestions","data-questions-count",bX);},makeQuestionLi:function(bY,bZ,b0,b1,b2){var b3,b4,b5,b6,b7,b8;return c.add(d.LI(e.ofArray([d.Attr().Class("question")])),e.ofArray([c.add(d.A(e.ofArray([d.HRef(bY),(b3=d.Attr(),b3.NewAttr("target","_blank"))])),e.ofArray([(b4=e.ofArray([d.Text(bZ)]),(b5=d.Tags(),b5.NewTag("strong",b4)))])),(b6=e.ofArray([(b7=" ("+b0+", "+b1+")",d.Text(b7))]),(b8=d.Tags(),b8.NewTag("small",b6))),d.P(e.ofArray([d.Text(b2)]))]));},questionsDiv:function(){var b9,b_,b$,ca,cb,cP,cQ,cR;b9=d.UL(e.ofArray([d.Id("questionsList")]));b_=(b$=d.Button(e.ofArray([d.Text("Load More"),d.Attr().Class("btn loadMore")])),(ca=(cb=function(cc){return function(){var ce,cf,cL;ce=(cf=function(){var ch,ci,cl,cm,cn,co,cq,cr;ch=cc["HtmlProvider@32"];((ci=cc.Body,function(cj){return function(ck){return ch.SetAttribute(ci,cj,ck);};})("disabled"))("disabled");cl=n("#fsharpQuestions");cm=(cn=cl.attr("data-questions-count"),(co=function(cp){return cp<<0;},co(cn)));cq=g.Async("Website:1",[cm]);cr=function(cs){var ct,cu,cv,cD,cE,cH,cI,cJ;ct=(cu=(cv=$.Tupled(function(cw){var cx,cy,cz,cA,cB;cx=cw[0];cy=cw[1];cz=cw[2];cA=cw[3];cB=cw[4];return p.makeQuestionLi(cx,cy,cz,cA,cB);}),function(cC){return q.map(cv,cC);}),cu(cs));cD=(cE=function(cF){return b9.AppendI(cF);},function(cG){return q.iter(cE,cG);});cD(ct);cH=cs.length;p.incrementQuestionsCount(cH);cI=cc["HtmlProvider@32"];(cJ=cc.Body,function(cK){return cI.RemoveAttribute(cJ,cK);})("disabled");return l.Return(null);};return l.Bind(cq,cr);},l.Delay(cf));cL=function(cM){var cN;cN={$:0};return l.Start(cM);};return cL(ce);};},function(cO){return s.Events().OnClick(cb,cO);}),(ca(b$),b$)));cP=c.add(d.Div(e.ofArray([d.Id("questionsDiv")])),e.ofArray([b9,b_]));cQ=(cR=function(){var cT,cU,dl;cT=(cU=function(){var cW,cX;cW=g.Async("Website:0",[]);cX=$.Tupled(function(cY){var cZ,c0,c1,c2,c3,c$,da,dd,de,dh,dj;cZ=cY[0];c0=cY[1];c1=(c2=(c3=$.Tupled(function(c4){var c5,c6,c7,c8,c9;c5=c4[0];c6=c4[1];c7=c4[2];c8=c4[3];c9=c4[4];return p.makeQuestionLi(c5,c6,c7,c8,c9);}),function(c_){return q.map(c3,c_);}),c2(c0));c$=(da=function(db){return b9.AppendI(db);},function(dc){return q.iter(da,dc);});c$(c1);p.incrementQuestionsCount(20);p.setQuestionId(cZ);dd=b_["HtmlProvider@32"];((de=b_.Body,function(df){return function(dg){return dd.SetCss(de,df,dg);};})("visibility"))("visible");dh=t(function(di){di;return p.checkNewQuestions();},420000);dj=function(dk){dk;};dj(dh);return l.Return(null);});return l.Bind(cW,cX);},l.Delay(cU));dl=function(dm){var dn;dn={$:0};return l.Start(dm);};return dl(cT);},function(_do){return c.OnAfterRender(cR,_do);});cQ(cP);return cP;},setQuestionId:function(dp){return r.setAttributeValue("#fsharpQuestions","data-question-id",dp);}},FsharpQuestionsViewer:$.Class({get_Body:function(){return p.questionsDiv();}})},FSharpTweets:{Client:{checkNewTweets:function(){var dq,dr,d3;dq=(dr=function(){var dt,du,dv,dw;dt=n("#fsharpTweets");du=dt.attr("data-tweet-id");dv=g.Async("Website:5",[du]);dw=function(dx){var dy,dz,dA,dB,dJ,dK,dL,dN,dO,dX,dY,d1,d2;if(dx.$==1){dy=dx.$0;dz=(dA=dy[0],(dB=$.Tupled(function(dC){var dD,dE,dF,dG,dH,dI;dD=dC[0];dE=dC[1];dF=dC[2];dG=dC[3];dH=dC[4];dI=dC[5];return dE;}),dB(dA)));dJ=(dK=(dL=function(dM){return dM.slice(0,dM.length).reverse();},dL(dy)),(dN=(dO=$.Tupled(function(dP){var dQ,dR,dS,dT,dU,dV;dQ=dP[0];dR=dP[1];dS=dP[2];dT=dP[3];dU=dP[4];dV=dP[5];return v.makeTweetLi(dQ,dR,dS,dT,dU,dV);}),function(dW){return q.map(dO,dW);}),dN(dK)));dX=(dY=function(dZ){return r.prependElement("#tweetsList",dZ);},function(d0){return q.iter(dY,d0);});dX(dJ);d1=dy.length;v.incrementTweetsCount(d1);v.setTweetId(dz);v.toggleActionsVisibility();d2=d1===1?"1 new tweet":$$.String(d1)+" new tweets";r.displayInfoAlert(d2);return l.Return(null);}else{return l.Return(null);}};return l.Bind(dv,dw);},l.Delay(dr));d3=function(d4){var d5;d5={$:0};return l.Start(d4);};return d3(dq);},incrementTweetsCount:function(d6){return r.incrementDataCount("#fsharpTweets","data-tweets-count",d6);},makeTweetLi:function(d7,d8,d9,d_,d$,ea){var eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo;eb="https://twitter.com/"+d7;ec="https://twitter.com/intent/tweet?in_reply_to="+d8;ed="https://twitter.com/intent/retweet?tweet_id="+d8;ee="https://twitter.com/intent/retweet?tweet_id="+d8;ef=d.P($.New(f,{$:0}));ef.set_Html(d$);return c.add(d.LI(e.ofArray([d.Attr().Class("tweet")])),e.ofArray([c.add(c.add(d.A(e.ofArray([d.HRef(eb),d.Attr().Class("twitterProfileLink"),(eg=d.Attr(),eg.NewAttr("target","_blank"))])),e.ofArray([d.Img(e.ofArray([d.Src(d9),d.Alt(d_),d.Attr().Class("avatar"),d.Height("48"),d.Width("48")])),(eh=e.ofArray([d.Text(d_)]),(ei=d.Tags(),ei.NewTag("strong",eh)))])),e.ofArray([d.Text(" @"+d7)])),c.add((ej=e.ofArray([d.Attr().Class("pull-right")]),(ek=d.Tags(),ek.NewTag("small",ej))),e.ofArray([(el="("+ea+")",d.Text(el))])),ef,c.add(d.Div(e.ofArray([d.Attr().Class("pull-right")])),e.ofArray([c.add(d.UL(e.ofArray([d.Attr().Class("tweetActions")])),e.ofArray([c.add(d.LI(e.ofArray([d.Attr().Class("tweetAction")])),e.ofArray([c.add(d.A(e.ofArray([d.HRef(ec),(em=d.Attr(),em.NewAttr("target","_blank"))])),e.ofArray([d.Text("Reply")]))])),c.add(d.LI(e.ofArray([d.Attr().Class("tweetAction")])),e.ofArray([c.add(d.A(e.ofArray([d.HRef(ed),(en=d.Attr(),en.NewAttr("target","_blank"))])),e.ofArray([d.Text("Retweet")]))])),c.add(d.LI(e.ofArray([d.Attr().Class("tweetAction")])),e.ofArray([c.add(d.A(e.ofArray([d.HRef(ee),(eo=d.Attr(),eo.NewAttr("target","_blank"))])),e.ofArray([d.Text("Favorite")]))]))]))]))]));},setTweetId:function(ep){return r.setAttributeValue("#fsharpTweets","data-tweet-id",ep);},toggleActionsVisibility:function(){var eq;eq=n(".tweet");eq.mouseenter(function(){return n(".tweetActions",this).css("visibility","visible");});return eq.mouseleave(function(){return n(".tweetActions",this).css("visibility","hidden");});},tweetsDiv:function(){var et,eu,ev,ew,ex,fa,fb,fc;et=d.UL(e.ofArray([d.Id("tweetsList")]));eu=(ev=d.Button(e.ofArray([d.Text("Load More"),d.Attr().Class("btn loadMore")])),(ew=(ex=function(ey){return function(){var eA,eB,e8;eA=(eB=function(){var eD,eE,eH,eI,eJ,eK,eM,eN;eD=ey["HtmlProvider@32"];((eE=ey.Body,function(eF){return function(eG){return eD.SetAttribute(eE,eF,eG);};})("disabled"))("disabled");eH=n("#fsharpTweets");eI=(eJ=eH.attr("data-tweets-count"),(eK=function(eL){return eL<<0;},eK(eJ)));eM=g.Async("Website:4",[eI]);eN=function(eO){var eP,eQ,eR,e0,e1,e4,e5,e6;eP=(eQ=(eR=$.Tupled(function(eS){var eT,eU,eV,eW,eX,eY;eT=eS[0];eU=eS[1];eV=eS[2];eW=eS[3];eX=eS[4];eY=eS[5];return v.makeTweetLi(eT,eU,eV,eW,eX,eY);}),function(eZ){return q.map(eR,eZ);}),eQ(eO));e0=(e1=function(e2){return et.AppendI(e2);},function(e3){return q.iter(e1,e3);});e0(eP);e4=eO.length;v.incrementTweetsCount(e4);v.toggleActionsVisibility();e5=ey["HtmlProvider@32"];(e6=ey.Body,function(e7){return e5.RemoveAttribute(e6,e7);})("disabled");return l.Return(null);};return l.Bind(eM,eN);},l.Delay(eB));e8=function(e9){var e_;e_={$:0};return l.Start(e9);};return e8(eA);};},function(e$){return s.Events().OnClick(ex,e$);}),(ew(ev),ev)));fa=c.add(d.Div(e.ofArray([d.Id("tweetsDiv")])),e.ofArray([et,eu]));fb=(fc=function(){var fe,ff,fR;fe=(ff=function(){var fh,fi;fh=g.Async("Website:3",[]);fi=function(fj){var fk,fl,fm,fu,fv,fw,fF,fG,fJ,fK,fN,fP;fk=(fl=fj[0],(fm=$.Tupled(function(fn){var fo,fp,fq,fr,fs,ft;fo=fn[0];fp=fn[1];fq=fn[2];fr=fn[3];fs=fn[4];ft=fn[5];return fp;}),fm(fl)));fu=(fv=(fw=$.Tupled(function(fx){var fy,fz,fA,fB,fC,fD;fy=fx[0];fz=fx[1];fA=fx[2];fB=fx[3];fC=fx[4];fD=fx[5];return v.makeTweetLi(fy,fz,fA,fB,fC,fD);}),function(fE){return q.map(fw,fE);}),fv(fj));fF=(fG=function(fH){return et.AppendI(fH);},function(fI){return q.iter(fG,fI);});fF(fu);v.incrementTweetsCount(20);v.setTweetId(fk);fJ=eu["HtmlProvider@32"];((fK=eu.Body,function(fL){return function(fM){return fJ.SetCss(fK,fL,fM);};})("visibility"))("visible");v.toggleActionsVisibility();fN=t(function(fO){fO;return v.checkNewTweets();},300000);fP=function(fQ){fQ;};fP(fN);return l.Return(null);};return l.Bind(fh,fi);},l.Delay(ff));fR=function(fS){var fT;fT={$:0};return l.Start(fS);};return fR(fe);},function(fU){return c.OnAfterRender(fc,fU);});fb(fa);return fa;}},FsharpTweetsViewer:$.Class({get_Body:function(){return v.tweetsDiv();}})},Utilities:{displayInfoAlert:function(fV){n("#alertText").text(fV);n("#alertDiv").show(600);return n("#alertDiv").fadeOut(7000);},incrementDataCount:function(fW,fX,fY){var fZ,f0,f1,f2,f3,f5;fZ=n(fW);f0=(f1=(f2=fZ.attr(fX),(f3=function(f4){return(f4<<0)+fY;},f3(f2))),(f5=function(f6){return $$.String(f6);},f5(f1)));return fZ.attr(fX,f0);},prependElement:function(f7,f8){return n(f7).prepend(f8.Body);},setAttributeValue:function(f9,f_,f$){return n(f9).attr(f_,f$);}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Html);c=$.Safe(b.Operators);d=$.Safe(b.Default);e=$.Safe(a.List);f=$.Safe(e.T);g=$.Safe(a.Remoting);h=$.Safe($$.FSharpWebsite);i=$.Safe(h.FSharpBooks);j=$.Safe(i.Client);k=$.Safe(a.Seq);l=$.Safe(a.Concurrency);m=$.Safe(a.Strings);n=$.Safe($$.jQuery);o=$.Safe(h.FSharpQuestions);p=$.Safe(o.Client);q=$.Safe(a.Arrays);r=$.Safe(h.Utilities);s=$.Safe(b.EventsPervasives);t=$.Safe($$.setInterval);u=$.Safe(h.FSharpTweets);return v=$.Safe(u.Client);});$.OnLoad(function(){});}());
