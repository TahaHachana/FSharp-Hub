(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O;$.Define($$,{Website:{AddThis:{Control:$.Class({get_Body:function(){return b.main();}}),main:function(){var P,Q,R;P=(Q=f.Tags(),(R=$.New(h,{$:0}),Q.NewTag("section",R)));P.set_Html("<div class=\"addthis_toolbox addthis_default_style \">\r\n            <a class=\"addthis_button_facebook_like\" fb:like:layout=\"button_count\"></a>\r\n            <a class=\"addthis_button_tweet\"></a>\r\n            <a class=\"addthis_button_pinterest_pinit\"></a>\r\n            <a class=\"addthis_counter addthis_pill_style\"></a>\r\n            </div>\r\n            <script type=\"text/javascript\" src=\"http://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50af450141ce9366\"></script>");return P;}},BooksAdmin:{Client:{Control:$.Class({get_Body:function(){return j.main();}}),addFormlet:$.Field(function(){var S,T,U,W,X,Y,_0,_1,_2,_3,_4,_6,_8,_,ba,bb,bd,be,bf,bh,bi,bj,bl,bm,bn,bp,bq,br,bt,bu,bv,bw,bF,bH;S=(T=l.Input(""),(U=function(V){return m.WithTextLabel("URL",V);},U(T)));W=(X=l.Input(""),(Y=function(Z){return m.WithTextLabel("Title",Z);},Y(X)));_0=(_1=(_2=(_3=l.Input(""),(_4=function(_5){return m.WithTextLabel("Author",_5);},_4(_3))),(_6=function(_7){return m.Many(_7);},_6(_2))),(_8=function(_9){return m.WithFormContainer(_9);},_8(_1)));_=(ba=l.Input(""),(bb=function(bc){return m.WithTextLabel("Publisher",bc);},bb(ba)));bd=(be=l.Input(""),(bf=function(bg){return m.WithTextLabel("ISBN",bg);},bf(be)));bh=(bi=l.Input(""),(bj=function(bk){return m.WithTextLabel("Pages",bk);},bj(bi)));bl=(bm=l.Input(""),(bn=function(bo){return m.WithTextLabel("Release Date",bo);},bn(bm)));bp=(bq=l.Input(""),(br=function(bs){return m.WithTextLabel("Cover URL",bs);},br(bq)));bt=(bu=(bv=n.$(n.$(n.$(n.$(n.$(n.$(n.$(n.$((bw=function(bx){return function(by){return function(bz){return function(bA){return function(bB){return function(bC){return function(bD){return function(bE){return[bx,by,bz,bA,bB,bC,bD,bE];};};};};};};};},o.Return(bw)),S),W),_0),_),bd),bh),bl),bp),(bF=function(bG){return m.WithSubmitAndResetButtons(bG);},bF(bv))),(bH=function(bI){return m.WithFormContainer(bI);},bH(bu)));return o.Run($.Tupled(function(bI){var bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bX;bJ=bI[0];bK=bI[1];bL=bI[2];bM=bI[3];bN=bI[4];bO=bI[5];bP=bI[6];bQ=bI[7];bR=(bS=function(){var bU,bV;bU=p.Async("Website:3",[bJ,bK,bL,bM,bN,bO,bP,bQ]);bV=function(bW){if(bW){q("New book inserted successfully.");return r.Return(null);}else{q("The query failed.");return r.Return(null);}};return r.Bind(bU,bV);},r.Delay(bS));bX=function(bY){var bZ;bZ={$:0};return r.Start(bY);};return bX(bR);}),bt);}),booksTable:$.Field(function(){var b0,b1,b2;b0=s.add(e.Table(g.ofArray([e.Attr().Class("table table-striped")])),g.ofArray([e.TR(g.ofArray([e.TH(g.ofArray([e.Text("Title")])),e.TH(g.ofArray([e.Text("Publisher")]))]))]));b1=(b2=function(b3){var b4,b5,cj;b4=(b5=function(){var b7,b8;b7=p.Async("Website:2",[]);b8=function(b9){var b_,b$,ca,cf,cg;b_=(b$=(ca=$.Tupled(function(cb){var cc,cd;cc=cb[0];cd=cb[1];return j.tr(cc,cd);}),function(ce){return t.map(ca,ce);}),b$(b9));cf=(cg=function(ch){return b3.AppendI(ch);},function(ci){return t.iter(cg,ci);});cf(b_);return r.Return(null);};return r.Bind(b7,b8);},r.Delay(b5));cj=function(ck){var cl;cl={$:0};return r.Start(ck);};return cj(b4);},function(cm){return s.OnAfterRender(b2,cm);});b1(b0);return b0;}),main:function(){return s.add(e.Div(g.ofArray([e.Attr().Class("row")])),g.ofArray([s.add(e.Div(g.ofArray([e.Attr().Class("span6")])),g.ofArray([e.H2(g.ofArray([e.Text("Add new book")])),e.Div(g.ofArray([j.addFormlet()]))])),s.add(e.Div(g.ofArray([e.Attr().Class("span6")])),g.ofArray([e.H2(g.ofArray([e.Text("Books in database")])),j.booksTable()]))]));},tr:function(cn,co){return e.TR(g.ofArray([e.TD(g.ofArray([e.Text(cn)])),e.TD(g.ofArray([e.Text(co)]))]));}}},Forkme:{Viewer:$.Class({get_Body:function(){return u.ribbon();}}),ribbon:function(){return s.add(e.A(g.ofArray([e.HRef("https://github.com/TahaHachana/FSharp-Hub")])),g.ofArray([e.Img(g.ofArray([e.Src("https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"),e.Alt("Fork me on GitHub"),e.Id("forkme")]))]));}},Login:{Client:{Control:$.Class({get_Body:function(){return w.loginForm(this.redirectUrl);}}),loginForm:function(cp){var cq,cr,cs,cu,cv,cw,cy,cz,cA,cB,cE,cG;cq=(cr=l.Input(""),(cs=function(ct){return m.WithTextLabel("Username",ct);},cs(cr)));cu=(cv=l.Password(""),(cw=function(cx){return m.WithTextLabel("Password",cx);},cw(cv)));cy=(cz=(cA=n.$(n.$((cB=function(cC){return function(cD){return{Name:cC,Password:cD};};},o.Return(cB)),cq),cu),(cE=function(cF){return m.WithSubmitButton(cF);},cE(cA))),(cG=function(cH){return m.WithFormContainer(cH);},cG(cz)));return o.Run(function(cI){var cJ,cK,cP;cJ=(cK=function(){var cM,cN;cM=p.Async("Website:12",[cI]);cN=function(cO){if(cO){x.location.href=cp;return r.Return(null);}else{q("Login failed");return r.Return(null);}};return r.Bind(cM,cN);},r.Delay(cK));cP=function(cQ){var cR;cR={$:0};return r.Start(cQ);};return cP(cJ);},cy);}}},NewsAdmin:{Client:{Control:$.Class({get_Body:function(){return z.main();}}),main:function(){var cS,cT,cU,cW,cX,cY,c0,c1,c2,c4,c5,c6,c8,c9,c_,c$,de,dg;cS=(cT=l.Input(""),(cU=function(cV){return m.WithTextLabel("Title",cV);},cU(cT)));cW=(cX=l.TextArea(""),(cY=function(cZ){return m.WithTextLabel("Summary",cZ);},cY(cX)));c0=(c1=l.Input(""),(c2=function(c3){return m.WithTextLabel("URL",c3);},c2(c1)));c4=(c5=l.Input(""),(c6=function(c7){return m.WithTextLabel("Date",c7);},c6(c5)));c8=(c9=(c_=n.$(n.$(n.$(n.$((c$=function(da){return function(db){return function(dc){return function(dd){return[da,db,dc,dd];};};};},o.Return(c$)),cS),cW),c0),c4),(de=function(df){return m.WithSubmitAndResetButtons(df);},de(c_))),(dg=function(dh){return m.WithFormContainer(dh);},dg(c9)));return o.Run($.Tupled(function(di){var dj,dk,dl,dm,dn,_do,dt;dj=di[0];dk=di[1];dl=di[2];dm=di[3];dn=(_do=function(){var dq,dr;dq=p.Async("Website:0",[dj,dk,dl,dm]);dr=function(ds){if(ds){q("News item inserted successfully.");return r.Return(null);}else{q("The query failed.");return r.Return(null);}};return r.Bind(dq,dr);},r.Delay(_do));dt=function(du){var dv;dv={$:0};return r.Start(du);};return dt(dn);}),c8);}}},Questions:{Client:{QuestionsViewer:$.Class({get_Body:function(){return B.questionsDiv();}}),checkNewQuestions:function(){var dw,dx,dZ;dw=(dx=function(){var dz,dA,dB,dC;dz=C("#fsharpQuestions");dA=dz.attr("data-question-id");dB=p.Async("Website:6",[dA]);dC=function(dD){var dE,dF,dG,dH,dI,dK,dL,dT,dU,dX,dY;if(dD.$==1){dE=dD.$0[1];dF=dD.$0[0];dG=(dH=(dI=function(dJ){return dJ.slice(0,dJ.length).reverse();},dI(dE)),(dK=(dL=$.Tupled(function(dM){var dN,dO,dP,dQ,dR;dN=dM[0];dO=dM[1];dP=dM[2];dQ=dM[3];dR=dM[4];return B.makeQuestionLi(dN,dO,dP,dQ,dR);}),function(dS){return t.map(dL,dS);}),dK(dH)));dT=(dU=function(dV){return E.prependElement("#questionsList",dV);},function(dW){return t.iter(dU,dW);});dT(dG);dX=dE.length;B.incrementQuestionsCount(dX);B.setQuestionId(dF);dY=dX===1?"1 new question":$$.String(dX)+" new questions";E.displayInfoAlert(dY);return r.Return(null);}else{return r.Return(null);}};return r.Bind(dB,dC);},r.Delay(dx));dZ=function(d0){var d1;d1={$:0};return r.Start(d0);};return dZ(dw);},incrementQuestionsCount:function(d2){return E.incrementDataCount("#fsharpQuestions","data-questions-count",d2);},makeQuestionLi:function(d3,d4,d5,d6,d7){var d8,d9,d_,d$,ea,eb;return s.add(e.LI(g.ofArray([e.Attr().Class("question")])),g.ofArray([s.add(e.A(g.ofArray([e.HRef(d3),(d8=e.Attr(),d8.NewAttr("target","_blank"))])),g.ofArray([(d9=g.ofArray([e.Text(d4)]),(d_=e.Tags(),d_.NewTag("strong",d9)))])),e.Br($.New(h,{$:0})),(d$=g.ofArray([(ea=d5+", "+d6,e.Text(ea))]),(eb=e.Tags(),eb.NewTag("small",d$))),e.P(g.ofArray([e.Text(d7)]))]));},questionsDiv:function(){var ec,ed,ee,ef,eg,eU,eV,eW,eX,eY,eZ,e0;ec=e.UL(g.ofArray([e.Id("questionsList")]));ed=(ee=e.Button(g.ofArray([e.Text("Load More"),e.Attr().Class("btn loadMore")])),(ef=(eg=function(eh){return function(){var ej,ek,eQ;ej=(ek=function(){var em,en,eq,er,es,et,ev,ew;em=eh["HtmlProvider@32"];((en=eh.Body,function(eo){return function(ep){return em.SetAttribute(en,eo,ep);};})("disabled"))("disabled");eq=C("#fsharpQuestions");er=(es=eq.attr("data-questions-count"),(et=function(eu){return eu<<0;},et(es)));ev=p.Async("Website:5",[er]);ew=function(ex){var ey,ez,eA,eI,eJ,eM,eN,eO;ey=(ez=(eA=$.Tupled(function(eB){var eC,eD,eE,eF,eG;eC=eB[0];eD=eB[1];eE=eB[2];eF=eB[3];eG=eB[4];return B.makeQuestionLi(eC,eD,eE,eF,eG);}),function(eH){return t.map(eA,eH);}),ez(ex));eI=(eJ=function(eK){return ec.AppendI(eK);},function(eL){return t.iter(eJ,eL);});eI(ey);eM=ex.length;B.incrementQuestionsCount(eM);eN=eh["HtmlProvider@32"];(eO=eh.Body,function(eP){return eN.RemoveAttribute(eO,eP);})("disabled");return r.Return(null);};return r.Bind(ev,ew);},r.Delay(ek));eQ=function(eR){var eS;eS={$:0};return r.Start(eR);};return eQ(ej);};},function(eT){return F.Events().OnClick(eg,eT);}),(ef(ee),ee)));eU=s.add(e.Div(g.ofArray([e.Id("fsharpQuestions"),(eV=f.Attr(),(eW="data-"+"questions-count",eV.NewAttr(eW,"0"))),(eX=f.Attr(),(eY="data-"+"question-id",eX.NewAttr(eY,"")))])),g.ofArray([ec,ed]));eZ=(e0=function(){var e2,e3,fu;e2=(e3=function(){var e5,e6;e5=p.Async("Website:4",[]);e6=$.Tupled(function(e7){var e8,e9,e_,e$,fa,fi,fj,fm,fn,fq,fs;e8=e7[0];e9=e7[1];e_=(e$=(fa=$.Tupled(function(fb){var fc,fd,fe,ff,fg;fc=fb[0];fd=fb[1];fe=fb[2];ff=fb[3];fg=fb[4];return B.makeQuestionLi(fc,fd,fe,ff,fg);}),function(fh){return t.map(fa,fh);}),e$(e9));fi=(fj=function(fk){return ec.AppendI(fk);},function(fl){return t.iter(fj,fl);});fi(e_);B.incrementQuestionsCount(20);B.setQuestionId(e8);fm=ed["HtmlProvider@32"];((fn=ed.Body,function(fo){return function(fp){return fm.SetCss(fn,fo,fp);};})("visibility"))("visible");fq=G(function(){return B.checkNewQuestions();},420000);fs=function(ft){ft;};fs(fq);return r.Return(null);});return r.Bind(e5,e6);},r.Delay(e3));fu=function(fv){var fw;fw={$:0};return r.Start(fv);};return fu(e2);},function(fx){return s.OnAfterRender(e0,fx);});eZ(eU);return eU;},setQuestionId:function(fy){return E.setAttributeValue("#fsharpQuestions","data-question-id",fy);}}},Snippets:{Client:{SnippetsViewer:$.Class({get_Body:function(){return I.snippetsDiv();}}),incrementSnippetsCount:function(fz){return E.incrementDataCount("#fsharpSnippets","data-snippets-count",fz);},makeSnippetLi:function(fA,fB,fC){var fD,fE,fF;return s.add(e.LI(g.ofArray([e.Attr().Class("snippet")])),g.ofArray([s.add(e.A(g.ofArray([e.HRef(fA),(fD=e.Attr(),fD.NewAttr("target","_blank"))])),g.ofArray([(fE=g.ofArray([e.Text(fB)]),(fF=e.Tags(),fF.NewTag("strong",fE)))])),e.P(g.ofArray([e.Text(fC)]))]));},snippetsDiv:function(){var fG,fH,fI,fJ,fK,gk,gl,gm,gn,go;fG=e.UL(g.ofArray([e.Id("snippetsList")]));fH=(fI=e.Button(g.ofArray([e.Text("Load More"),e.Attr().Class("btn loadMore")])),(fJ=(fK=function(fL){return function(){var fN,fO,gg;fN=(fO=function(){var fQ,fR,fU,fV,fW,fX,fZ,f0;fQ=fL["HtmlProvider@32"];((fR=fL.Body,function(fS){return function(fT){return fQ.SetAttribute(fR,fS,fT);};})("disabled"))("disabled");fU=C("#fsharpSnippets");fV=(fW=fU.attr("data-snippets-count"),(fX=function(fY){return fY<<0;},fX(fW)));fZ=p.Async("Website:11",[fV]);f0=function(f1){var f2,f3,f4,f_,f$,gc,gd,ge;f2=(f3=(f4=$.Tupled(function(f5){var f6,f7,f8;f6=f5[0];f7=f5[1];f8=f5[2];return I.makeSnippetLi(f6,f7,f8);}),function(f9){return t.map(f4,f9);}),f3(f1));f_=(f$=function(ga){return fG.AppendI(ga);},function(gb){return t.iter(f$,gb);});f_(f2);gc=f1.length;I.incrementSnippetsCount(gc);gd=fL["HtmlProvider@32"];(ge=fL.Body,function(gf){return gd.RemoveAttribute(ge,gf);})("disabled");return r.Return(null);};return r.Bind(fZ,f0);},r.Delay(fO));gg=function(gh){var gi;gi={$:0};return r.Start(gh);};return gg(fN);};},function(gj){return F.Events().OnClick(fK,gj);}),(fJ(fI),fI)));gk=s.add(e.Div(g.ofArray([e.Id("fsharpSnippets"),(gl=f.Attr(),(gm="data-"+"snippets-count",gl.NewAttr(gm,"0")))])),g.ofArray([fG]));gn=(go=function(){var gq,gr,gI;gq=(gr=function(){var gt,gu;gt=p.Async("Website:10",[]);gu=function(gv){var gw,gx,gy,gE,gF;gw=(gx=(gy=$.Tupled(function(gz){var gA,gB,gC;gA=gz[0];gB=gz[1];gC=gz[2];return I.makeSnippetLi(gA,gB,gC);}),function(gD){return t.map(gy,gD);}),gx(gv));gE=(gF=function(gG){return fG.AppendI(gG);},function(gH){return t.iter(gF,gH);});gE(gw);I.incrementSnippetsCount(20);return r.Return(null);};return r.Bind(gt,gu);},r.Delay(gr));gI=function(gJ){var gK;gK={$:0};return r.Start(gJ);};return gI(gq);},function(gL){return s.OnAfterRender(go,gL);});gn(gk);return gk;}}},Tweets:{Client:{checkNewTweets:function(){var gM,gN,hn;gM=(gN=function(){var gP,gQ,gR,gS;gP=C("#fsharpTweets");gQ=gP.attr("data-tweet-id");gR=p.Async("Website:9",[gQ]);gS=function(gT){var gU,gV,gW,gX,g5,g6,g7,g9,g_,hh,hi,hl,hm;if(gT.$==1){gU=gT.$0;gV=(gW=gU[0],(gX=$.Tupled(function(gY){var gZ,g0,g1,g2,g3,g4;gZ=gY[0];g0=gY[1];g1=gY[2];g2=gY[3];g3=gY[4];g4=gY[5];return g0;}),gX(gW)));g5=(g6=(g7=function(g8){return g8.slice(0,g8.length).reverse();},g7(gU)),(g9=(g_=$.Tupled(function(g$){var ha,hb,hc,hd,he,hf;ha=g$[0];hb=g$[1];hc=g$[2];hd=g$[3];he=g$[4];hf=g$[5];return K.makeTweetLi(ha,hb,hc,hd,he,hf);}),function(hg){return t.map(g_,hg);}),g9(g6)));hh=(hi=function(hj){return E.prependElement("#tweetsList",hj);},function(hk){return t.iter(hi,hk);});hh(g5);hl=gU.length;K.incrementTweetsCount(hl);K.setTweetId(gV);K.toggleActionsVisibility();hm=hl===1?"1 new tweet":$$.String(hl)+" new tweets";E.displayInfoAlert(hm);return r.Return(null);}else{return r.Return(null);}};return r.Bind(gR,gS);},r.Delay(gN));hn=function(ho){var hp;hp={$:0};return r.Start(ho);};return hn(gM);},handleTweetActions:function(){var hq;hq=C(".tweet-action-link");return hq.mousedown(function(hr){var hs,ht,hu;hr.preventDefault();hs=this.getAttribute("href");ht=x.showModalDialog(hs);hu=function(hv){hv;};return hu(ht);});},incrementTweetsCount:function(hw){return E.incrementDataCount("#fsharpTweets","data-tweets-count",hw);},makeTweetLi:function(hx,hy,hz,hA,hB,hC){var hD,hE,hF,hG,hH,hI,hJ,hK,hL,hM,hN,hO,hP;hD="https://twitter.com/"+hx;hE="https://twitter.com/intent/tweet?in_reply_to="+hy;hF="https://twitter.com/intent/retweet?tweet_id="+hy;hG="https://twitter.com/intent/retweet?tweet_id="+hy;hH=e.P($.New(h,{$:0}));hH.set_Html(hB);return s.add(e.LI(g.ofArray([e.Attr().Class("tweet")])),g.ofArray([s.add(s.add(e.A(g.ofArray([e.HRef(hD),e.Attr().Class("twitterProfileLink"),(hI=e.Attr(),hI.NewAttr("target","_blank"))])),g.ofArray([e.Img(g.ofArray([e.Src(hz),e.Alt(hA),e.Attr().Class("avatar"),e.Height("48"),e.Width("48")])),(hJ=g.ofArray([e.Text(hA)]),(hK=e.Tags(),hK.NewTag("strong",hJ)))])),g.ofArray([e.Text(" @"+hx)])),e.Br($.New(h,{$:0})),(hL=g.ofArray([e.Text(hC)]),(hM=e.Tags(),hM.NewTag("small",hL))),hH,s.add(e.Div(g.ofArray([e.Attr().Class("pull-right")])),g.ofArray([s.add(e.UL(g.ofArray([e.Attr().Class("tweetActions")])),g.ofArray([s.add(e.LI(g.ofArray([e.Attr().Class("tweetAction")])),g.ofArray([s.add(e.A(g.ofArray([e.HRef(hE),(hN=e.Attr(),hN.NewAttr("target","_blank")),e.Attr().Class("tweet-action-link")])),g.ofArray([e.Text("Reply")]))])),s.add(e.LI(g.ofArray([e.Attr().Class("tweetAction")])),g.ofArray([s.add(e.A(g.ofArray([e.HRef(hF),(hO=e.Attr(),hO.NewAttr("target","_blank")),e.Attr().Class("tweet-action-link")])),g.ofArray([e.Text("Retweet")]))])),s.add(e.LI(g.ofArray([e.Attr().Class("tweetAction")])),g.ofArray([s.add(e.A(g.ofArray([e.HRef(hG),(hP=e.Attr(),hP.NewAttr("target","_blank")),e.Attr().Class("tweet-action-link")])),g.ofArray([e.Text("Favorite")]))]))]))]))]));},setTweetId:function(hQ){return E.setAttributeValue("#fsharpTweets","data-tweet-id",hQ);},toggleActionsVisibility:function(){var hR;hR=C(".tweet");hR.mouseenter(function(){return C(".tweetActions",this).css("visibility","visible");});return hR.mouseleave(function(){return C(".tweetActions",this).css("visibility","hidden");});},tweetsDiv:function(){var hU,hV,hW,hX,hY,iB,iC,iD,iE,iF,iG,iH;hU=e.UL(g.ofArray([e.Id("tweetsList")]));hV=(hW=e.Button(g.ofArray([e.Text("Load More"),e.Attr().Class("btn loadMore")])),(hX=(hY=function(hZ){return function(){var h1,h2,ix;h1=(h2=function(){var h4,h5,h8,h9,h_,h$,ib,ic;h4=hZ["HtmlProvider@32"];((h5=hZ.Body,function(h6){return function(h7){return h4.SetAttribute(h5,h6,h7);};})("disabled"))("disabled");h8=C("#fsharpTweets");h9=(h_=h8.attr("data-tweets-count"),(h$=function(ia){return ia<<0;},h$(h_)));ib=p.Async("Website:8",[h9]);ic=function(id){var ie,_if,ig,ip,iq,it,iu,iv;ie=(_if=(ig=$.Tupled(function(ih){var ii,ij,ik,il,im,_in;ii=ih[0];ij=ih[1];ik=ih[2];il=ih[3];im=ih[4];_in=ih[5];return K.makeTweetLi(ii,ij,ik,il,im,_in);}),function(io){return t.map(ig,io);}),_if(id));ip=(iq=function(ir){return hU.AppendI(ir);},function(is){return t.iter(iq,is);});ip(ie);it=id.length;K.incrementTweetsCount(it);K.toggleActionsVisibility();K.handleTweetActions();iu=hZ["HtmlProvider@32"];(iv=hZ.Body,function(iw){return iu.RemoveAttribute(iv,iw);})("disabled");return r.Return(null);};return r.Bind(ib,ic);},r.Delay(h2));ix=function(iy){var iz;iz={$:0};return r.Start(iy);};return ix(h1);};},function(iA){return F.Events().OnClick(hY,iA);}),(hX(hW),hW)));iB=s.add(e.Div(g.ofArray([e.Id("fsharpTweets"),(iC=f.Attr(),(iD="data-"+"tweets-count",iC.NewAttr(iD,"0"))),(iE=f.Attr(),(iF="data-"+"tweet-id",iE.NewAttr(iF,"")))])),g.ofArray([hU,hV]));iG=(iH=function(){var iJ,iK,jk;iJ=(iK=function(){var iM,iN;iM=p.Async("Website:7",[]);iN=function(iO){var iP,iQ,iR,iZ,i0,i1,i_,i$,jc,jd,jg,ji;iP=(iQ=iO[0],(iR=$.Tupled(function(iS){var iT,iU,iV,iW,iX,iY;iT=iS[0];iU=iS[1];iV=iS[2];iW=iS[3];iX=iS[4];iY=iS[5];return iU;}),iR(iQ)));iZ=(i0=(i1=$.Tupled(function(i2){var i3,i4,i5,i6,i7,i8;i3=i2[0];i4=i2[1];i5=i2[2];i6=i2[3];i7=i2[4];i8=i2[5];return K.makeTweetLi(i3,i4,i5,i6,i7,i8);}),function(i9){return t.map(i1,i9);}),i0(iO));i_=(i$=function(ja){return hU.AppendI(ja);},function(jb){return t.iter(i$,jb);});i_(iZ);K.incrementTweetsCount(20);K.setTweetId(iP);jc=hV["HtmlProvider@32"];((jd=hV.Body,function(je){return function(jf){return jc.SetCss(jd,je,jf);};})("visibility"))("visible");K.toggleActionsVisibility();K.handleTweetActions();jg=G(function(){return K.checkNewTweets();},300000);ji=function(jj){jj;};ji(jg);return r.Return(null);};return r.Bind(iM,iN);},r.Delay(iK));jk=function(jl){var jm;jm={$:0};return r.Start(jl);};return jk(iJ);},function(jn){return s.OnAfterRender(iH,jn);});iG(iB);return iB;}},FsharpTweetsViewer:$.Class({get_Body:function(){return K.tweetsDiv();}})},Utilities:{Client:{displayInfoAlert:function(jo){C("#alertText").text(jo);C("#alertDiv").show(600);return C("#alertDiv").fadeOut(7000);},incrementDataCount:function(jp,jq,jr){var js,jt,ju,jv,jw,jy;js=C(jp);jt=(ju=(jv=js.attr(jq),(jw=function(jx){return(jx<<0)+jr;},jw(jv))),(jy=function(jz){return $$.String(jz);},jy(ju)));return js.attr(jq,jt);},prependElement:function(jA,jB){return C(jA).prepend(jB.Body);},setAttributeValue:function(jC,jD,jE){return C(jC).attr(jD,jE);}}},Videos:{Client:{PagerViewer:$.Class({get_Body:function(){return M.pager();}}),pager:function(){var jF,jG,jH;jF=s.add(e.UL(g.ofArray([e.Attr().Class("pager")])),g.ofArray([s.add(e.LI(g.ofArray([e.Id("previous"),e.Attr().Class("previous")])),g.ofArray([s.add(e.A(g.ofArray([e.Id("prevLink"),e.HRef("")])),g.ofArray([e.Text("Prev")]))])),s.add(e.LI(g.ofArray([e.Id("next"),e.Attr().Class("next")])),g.ofArray([s.add(e.A(g.ofArray([e.Id("nextLink"),e.HRef("")])),g.ofArray([e.Text("Next")]))]))]));jG=(jH=function(){var jJ,jK,jL,jM,jO,jP,jQ,jS,jT,jU;jJ=C("#pager");jK=(jL=jJ.attr("data-previous"),(jM=function(jN){return jN<<0;},jM(jL)));jO=(jP=jJ.attr("data-next"),(jQ=function(jR){return jR<<0;},jQ(jP)));jS=(jT=jJ.attr("data-pages-count"),(jU=function(jV){return jV<<0;},jU(jT)));if(jK===0){C("#previous").addClass("disabled");}else{C("#prevLink").attr("href","/videos/"+$$.String(jK));}if(jO===jS){return C("#next").addClass("disabled");}else{return C("#nextLink").attr("href","/videos/"+$$.String(jO));}},function(jW){return s.OnAfterRender(jH,jW);});jG(jF);return jF;}}},VideosAdmin:{Client:{Control:$.Class({get_Body:function(){return O.main();}}),main:function(){var jX,jY,jZ,j1,j2,j3,j5,j6,j7,j9,j_,j$,kb,kc,kd,kf,kg,kh,ki,ko,kq;jX=(jY=l.Input(""),(jZ=function(j0){return m.WithTextLabel("Title",j0);},jZ(jY)));j1=(j2=l.Input(""),(j3=function(j4){return m.WithTextLabel("URL",j4);},j3(j2)));j5=(j6=l.Input(""),(j7=function(j8){return m.WithTextLabel("Thumbnail",j8);},j7(j6)));j9=(j_=l.Input(""),(j$=function(ka){return m.WithTextLabel("Website",ka);},j$(j_)));kb=(kc=l.Input(""),(kd=function(ke){return m.WithTextLabel("Date",ke);},kd(kc)));kf=(kg=(kh=n.$(n.$(n.$(n.$(n.$((ki=function(kj){return function(kk){return function(kl){return function(km){return function(kn){return[kj,kk,kl,km,kn];};};};};},o.Return(ki)),jX),j1),j5),j9),kb),(ko=function(kp){return m.WithSubmitAndResetButtons(kp);},ko(kh))),(kq=function(kr){return m.WithFormContainer(kr);},kq(kg)));return o.Run($.Tupled(function(ks){var kt,ku,kv,kw,kx,ky,kz,kE;kt=ks[0];ku=ks[1];kv=ks[2];kw=ks[3];kx=ks[4];ky=(kz=function(){var kB,kC;kB=p.Async("Website:1",[kt,ku,kv,kw,kx]);kC=function(kD){if(kD){q("New video inserted successfully.");return r.Return(null);}else{q("The query failed.");return r.Return(null);}};return r.Bind(kB,kC);},r.Delay(kz));kE=function(kF){var kG;kG={$:0};return r.Start(kF);};return kE(ky);}),kf);}}}}});$.OnInit(function(){a=$.Safe($$.Website);b=$.Safe(a.AddThis);c=$.Safe($$.IntelliFactory.WebSharper);d=$.Safe(c.Html);e=$.Safe(d.Default);f=$.Safe(e.HTML5);g=$.Safe(c.List);h=$.Safe(g.T);i=$.Safe(a.BooksAdmin);j=$.Safe(i.Client);k=$.Safe(c.Formlet);l=$.Safe(k.Controls);m=$.Safe(k.Enhance);n=$.Safe(k.Data);o=$.Safe(k.Formlet);p=$.Safe(c.Remoting);q=$.Safe($$.alert);r=$.Safe(c.Concurrency);s=$.Safe(d.Operators);t=$.Safe(c.Arrays);u=$.Safe(a.Forkme);v=$.Safe(a.Login);w=$.Safe(v.Client);x=$.Safe($$.window);y=$.Safe(a.NewsAdmin);z=$.Safe(y.Client);A=$.Safe(a.Questions);B=$.Safe(A.Client);C=$.Safe($$.jQuery);D=$.Safe(a.Utilities);E=$.Safe(D.Client);F=$.Safe(d.EventsPervasives);G=$.Safe($$.setInterval);H=$.Safe(a.Snippets);I=$.Safe(H.Client);J=$.Safe(a.Tweets);K=$.Safe(J.Client);L=$.Safe(a.Videos);M=$.Safe(L.Client);N=$.Safe(a.VideosAdmin);return O=$.Safe(N.Client);});$.OnLoad(function(){j.booksTable();j.addFormlet();});}());
