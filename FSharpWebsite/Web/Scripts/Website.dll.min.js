(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P;$.Define($$,{Website:{BooksAdmin:{Client:{Control:$.Class({get_Body:function(){return c.main();}}),addFormlet:$.Field(function(){var Q,R,S,U,V,W,Y,Z,_0,_1,_2,_4,_6,_8,_9,_,bb,bc,bd,bf,bg,bh,bj,bk,bl,bn,bo,bp,br,bs,bt,bu,bD,bF;Q=(R=f.Input(""),(S=function(T){return g.WithTextLabel("URL",T);},S(R)));U=(V=f.Input(""),(W=function(X){return g.WithTextLabel("Title",X);},W(V)));Y=(Z=(_0=(_1=f.Input(""),(_2=function(_3){return g.WithTextLabel("Author",_3);},_2(_1))),(_4=function(_5){return g.Many(_5);},_4(_0))),(_6=function(_7){return g.WithFormContainer(_7);},_6(Z)));_8=(_9=f.Input(""),(_=function(ba){return g.WithTextLabel("Publisher",ba);},_(_9)));bb=(bc=f.Input(""),(bd=function(be){return g.WithTextLabel("ISBN",be);},bd(bc)));bf=(bg=f.Input(""),(bh=function(bi){return g.WithTextLabel("Pages",bi);},bh(bg)));bj=(bk=f.Input(""),(bl=function(bm){return g.WithTextLabel("Release Date",bm);},bl(bk)));bn=(bo=f.Input(""),(bp=function(bq){return g.WithTextLabel("Cover URL",bq);},bp(bo)));br=(bs=(bt=h.$(h.$(h.$(h.$(h.$(h.$(h.$(h.$((bu=function(bv){return function(bw){return function(bx){return function(by){return function(bz){return function(bA){return function(bB){return function(bC){return[bv,bw,bx,by,bz,bA,bB,bC];};};};};};};};},i.Return(bu)),Q),U),Y),_8),bb),bf),bj),bn),(bD=function(bE){return g.WithSubmitAndResetButtons(bE);},bD(bt))),(bF=function(bG){return g.WithFormContainer(bG);},bF(bs)));return i.Run($.Tupled(function(bG){var bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bV;bH=bG[0];bI=bG[1];bJ=bG[2];bK=bG[3];bL=bG[4];bM=bG[5];bN=bG[6];bO=bG[7];bP=(bQ=function(){var bS,bT;bS=j.Async("Website:3",[bH,bI,bJ,bK,bL,bM,bN,bO]);bT=function(bU){if(bU){k("New book inserted successfully.");return l.Return(null);}else{k("The query failed.");return l.Return(null);}};return l.Bind(bS,bT);},l.Delay(bQ));bV=function(bW){var bX;bX={$:0};return l.Start(bW);};return bV(bP);}),br);}),booksTable:$.Field(function(){var bY,bZ,b0;bY=n.add(o.Table(p.ofArray([o.Attr().Class("table table-striped")])),p.ofArray([o.TR(p.ofArray([o.TH(p.ofArray([o.Text("Title")])),o.TH(p.ofArray([o.Text("Publisher")]))]))]));bZ=(b0=function(b1){var b2,b3,ch;b2=(b3=function(){var b5,b6;b5=j.Async("Website:2",[]);b6=function(b7){var b8,b9,b_,cd,ce;b8=(b9=(b_=$.Tupled(function(b$){var ca,cb;ca=b$[0];cb=b$[1];return c.tr(ca,cb);}),function(cc){return q.map(b_,cc);}),b9(b7));cd=(ce=function(cf){return b1.AppendI(cf);},function(cg){return q.iter(ce,cg);});cd(b8);return l.Return(null);};return l.Bind(b5,b6);},l.Delay(b3));ch=function(ci){var cj;cj={$:0};return l.Start(ci);};return ch(b2);},function(ck){return n.OnAfterRender(b0,ck);});bZ(bY);return bY;}),main:function(){return n.add(o.Div(p.ofArray([o.Attr().Class("row")])),p.ofArray([n.add(o.Div(p.ofArray([o.Attr().Class("span6")])),p.ofArray([o.H2(p.ofArray([o.Text("Add new book")])),o.Div(p.ofArray([c.addFormlet()]))])),n.add(o.Div(p.ofArray([o.Attr().Class("span6")])),p.ofArray([o.H2(p.ofArray([o.Text("Books in database")])),c.booksTable()]))]));},tr:function(cl,cm){return o.TR(p.ofArray([o.TD(p.ofArray([o.Text(cl)])),o.TD(p.ofArray([o.Text(cm)]))]));}}},Forkme:{Viewer:$.Class({get_Body:function(){return r.ribbon();}}),ribbon:function(){return n.add(o.A(p.ofArray([o.HRef("https://github.com/TahaHachana/FSharpWebsite")])),p.ofArray([o.Img(p.ofArray([o.Src("https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"),o.Alt("Fork me on GitHub"),o.Id("forkme")]))]));}},Login:{Client:{Control:$.Class({get_Body:function(){return t.loginForm(this.redirectUrl);}}),loginForm:function(cn){var co,cp,cq,cs,ct,cu,cw,cx,cy,cz,cC,cE;co=(cp=f.Input(""),(cq=function(cr){return g.WithTextLabel("Username",cr);},cq(cp)));cs=(ct=f.Password(""),(cu=function(cv){return g.WithTextLabel("Password",cv);},cu(ct)));cw=(cx=(cy=h.$(h.$((cz=function(cA){return function(cB){return{Name:cA,Password:cB};};},i.Return(cz)),co),cs),(cC=function(cD){return g.WithSubmitButton(cD);},cC(cy))),(cE=function(cF){return g.WithFormContainer(cF);},cE(cx)));return i.Run(function(cG){var cH,cI,cN;cH=(cI=function(){var cK,cL;cK=j.Async("Website:13",[cG]);cL=function(cM){if(cM){u.location.href=cn;return l.Return(null);}else{k("Login failed");return l.Return(null);}};return l.Bind(cK,cL);},l.Delay(cI));cN=function(cO){var cP;cP={$:0};return l.Start(cO);};return cN(cH);},cw);}}},News:{Client:{NewsViewer:$.Class({get_Body:function(){return w.newsList();}}),makeLi:function(cQ,cR,cS){var cT,cU;return o.LI(p.ofArray([n.add(o.A(p.ofArray([o.HRef(cR)])),p.ofArray([(cT=p.ofArray([o.Text(cQ)]),(cU=o.Tags(),cU.NewTag("strong",cT)))])),o.P(p.ofArray([o.Text(cS)]))]));},newsList:function(){var cV,cW,cX;cV=o.UL(p.ofArray([o.Attr().Class("unstyled"),o.Id("newsList")]));cW=(cX=function(cY){var cZ,c0,de;cZ=(c0=function(){var c2,c3;c2=j.Async("Website:4",[]);c3=function(c4){var c5,c6,da,db;c5=(c6=function(c7){return q.map($.Tupled(function(c8){var c9,c_,c$;c9=c8[0];c_=c8[1];c$=c8[2];return w.makeLi(c9,c_,c$);}),c7);},c6(c4));da=(db=function(dc){return cY.AppendI(dc);},function(dd){return q.iter(db,dd);});da(c5);return l.Return(null);};return l.Bind(c2,c3);},l.Delay(c0));de=function(df){var dg;dg={$:0};return l.Start(df);};return de(cZ);},function(dh){return n.OnAfterRender(cX,dh);});cW(cV);return cV;}}},NewsAdmin:{Client:{Control:$.Class({get_Body:function(){return y.main();}}),main:function(){var di,dj,dk,dm,dn,_do,dq,dr,ds,du,dv,dw,dy,dz,dA,dB,dG,dI;di=(dj=f.Input(""),(dk=function(dl){return g.WithTextLabel("Title",dl);},dk(dj)));dm=(dn=f.TextArea(""),(_do=function(dp){return g.WithTextLabel("Summary",dp);},_do(dn)));dq=(dr=f.Input(""),(ds=function(dt){return g.WithTextLabel("URL",dt);},ds(dr)));du=(dv=f.Input(""),(dw=function(dx){return g.WithTextLabel("Date",dx);},dw(dv)));dy=(dz=(dA=h.$(h.$(h.$(h.$((dB=function(dC){return function(dD){return function(dE){return function(dF){return[dC,dD,dE,dF];};};};},i.Return(dB)),di),dm),dq),du),(dG=function(dH){return g.WithSubmitAndResetButtons(dH);},dG(dA))),(dI=function(dJ){return g.WithFormContainer(dJ);},dI(dz)));return i.Run($.Tupled(function(dK){var dL,dM,dN,dO,dP,dQ,dV;dL=dK[0];dM=dK[1];dN=dK[2];dO=dK[3];dP=(dQ=function(){var dS,dT;dS=j.Async("Website:0",[dL,dM,dN,dO]);dT=function(dU){if(dU){k("News item inserted successfully.");return l.Return(null);}else{k("The query failed.");return l.Return(null);}};return l.Bind(dS,dT);},l.Delay(dQ));dV=function(dW){var dX;dX={$:0};return l.Start(dW);};return dV(dP);}),dy);}}},Questions:{Client:{QuestionsViewer:$.Class({get_Body:function(){return A.questionsDiv();}}),checkNewQuestions:function(){var dY,dZ,ep;dY=(dZ=function(){var d1,d2,d3,d4;d1=B("#fsharpQuestions");d2=d1.attr("data-question-id");d3=j.Async("Website:7",[d2]);d4=function(d5){var d6,d7,d8,d9,d_,ea,eb,ej,ek,en,eo;if(d5.$==1){d6=d5.$0[1];d7=d5.$0[0];d8=(d9=(d_=function(d$){return d$.slice(0,d$.length).reverse();},d_(d6)),(ea=(eb=$.Tupled(function(ec){var ed,ee,ef,eg,eh;ed=ec[0];ee=ec[1];ef=ec[2];eg=ec[3];eh=ec[4];return A.makeQuestionLi(ed,ee,ef,eg,eh);}),function(ei){return q.map(eb,ei);}),ea(d9)));ej=(ek=function(el){return D.prependElement("#questionsList",el);},function(em){return q.iter(ek,em);});ej(d8);en=d6.length;A.incrementQuestionsCount(en);A.setQuestionId(d7);eo=en===1?"1 new question":$$.String(en)+" new questions";D.displayInfoAlert(eo);return l.Return(null);}else{return l.Return(null);}};return l.Bind(d3,d4);},l.Delay(dZ));ep=function(eq){var er;er={$:0};return l.Start(eq);};return ep(dY);},incrementQuestionsCount:function(es){return D.incrementDataCount("#fsharpQuestions","data-questions-count",es);},makeQuestionLi:function(et,eu,ev,ew,ex){var ey,ez,eA,eB,eC,eD;return n.add(o.LI(p.ofArray([o.Attr().Class("question")])),p.ofArray([n.add(o.A(p.ofArray([o.HRef(et),(ey=o.Attr(),ey.NewAttr("target","_blank"))])),p.ofArray([(ez=p.ofArray([o.Text(eu)]),(eA=o.Tags(),eA.NewTag("strong",ez)))])),o.Br($.New(E,{$:0})),(eB=p.ofArray([(eC=ev+", "+ew,o.Text(eC))]),(eD=o.Tags(),eD.NewTag("small",eB))),o.P(p.ofArray([o.Text(ex)]))]));},questionsDiv:function(){var eE,eF,eG,eH,eI,fk,fl,fm,fn,fo,fp,fq;eE=o.UL(p.ofArray([o.Id("questionsList")]));eF=(eG=o.Button(p.ofArray([o.Text("Load More"),o.Attr().Class("btn loadMore")])),(eH=(eI=function(eJ){return function(){var eL,eM,fg;eL=(eM=function(){var eO,eP,eS,eT,eU,eV,eX,eY;eO=eJ["HtmlProvider@32"];((eP=eJ.Body,function(eQ){return function(eR){return eO.SetAttribute(eP,eQ,eR);};})("disabled"))("disabled");eS=B("#fsharpQuestions");eT=(eU=eS.attr("data-questions-count"),(eV=function(eW){return eW<<0;},eV(eU)));eX=j.Async("Website:6",[eT]);eY=function(eZ){var e0,e1,e2,e_,e$,fc,fd,fe;e0=(e1=(e2=$.Tupled(function(e3){var e4,e5,e6,e7,e8;e4=e3[0];e5=e3[1];e6=e3[2];e7=e3[3];e8=e3[4];return A.makeQuestionLi(e4,e5,e6,e7,e8);}),function(e9){return q.map(e2,e9);}),e1(eZ));e_=(e$=function(fa){return eE.AppendI(fa);},function(fb){return q.iter(e$,fb);});e_(e0);fc=eZ.length;A.incrementQuestionsCount(fc);fd=eJ["HtmlProvider@32"];(fe=eJ.Body,function(ff){return fd.RemoveAttribute(fe,ff);})("disabled");return l.Return(null);};return l.Bind(eX,eY);},l.Delay(eM));fg=function(fh){var fi;fi={$:0};return l.Start(fh);};return fg(eL);};},function(fj){return F.Events().OnClick(eI,fj);}),(eH(eG),eG)));fk=n.add(o.Div(p.ofArray([o.Id("fsharpQuestions"),(fl=G.Attr(),(fm="data-"+"questions-count",fl.NewAttr(fm,"0"))),(fn=G.Attr(),(fo="data-"+"question-id",fn.NewAttr(fo,"")))])),p.ofArray([eE,eF]));fp=(fq=function(){var fs,ft,fW;fs=(ft=function(){var fv,fw;fv=j.Async("Website:5",[]);fw=$.Tupled(function(fx){var fy,fz,fA,fB,fC,fK,fL,fO,fP,fS,fU;fy=fx[0];fz=fx[1];fA=(fB=(fC=$.Tupled(function(fD){var fE,fF,fG,fH,fI;fE=fD[0];fF=fD[1];fG=fD[2];fH=fD[3];fI=fD[4];return A.makeQuestionLi(fE,fF,fG,fH,fI);}),function(fJ){return q.map(fC,fJ);}),fB(fz));fK=(fL=function(fM){return eE.AppendI(fM);},function(fN){return q.iter(fL,fN);});fK(fA);A.incrementQuestionsCount(20);A.setQuestionId(fy);fO=eF["HtmlProvider@32"];((fP=eF.Body,function(fQ){return function(fR){return fO.SetCss(fP,fQ,fR);};})("visibility"))("visible");fS=H(function(){return A.checkNewQuestions();},420000);fU=function(fV){fV;};fU(fS);return l.Return(null);});return l.Bind(fv,fw);},l.Delay(ft));fW=function(fX){var fY;fY={$:0};return l.Start(fX);};return fW(fs);},function(fZ){return n.OnAfterRender(fq,fZ);});fp(fk);return fk;},setQuestionId:function(f0){return D.setAttributeValue("#fsharpQuestions","data-question-id",f0);}}},Snippets:{Client:{SnippetsViewer:$.Class({get_Body:function(){return J.snippetsDiv();}}),incrementSnippetsCount:function(f1){return D.incrementDataCount("#fsharpSnippets","data-snippets-count",f1);},makeSnippetLi:function(f2,f3,f4){var f5,f6,f7;return n.add(o.LI(p.ofArray([o.Attr().Class("snippet")])),p.ofArray([n.add(o.A(p.ofArray([o.HRef(f2),(f5=o.Attr(),f5.NewAttr("target","_blank"))])),p.ofArray([(f6=p.ofArray([o.Text(f3)]),(f7=o.Tags(),f7.NewTag("strong",f6)))])),o.P(p.ofArray([o.Text(f4)]))]));},snippetsDiv:function(){var f8,f9,f_,f$,ga,gM,gN,gO,gP,gQ;f8=o.UL(p.ofArray([o.Id("snippetsList")]));f9=(f_=o.Button(p.ofArray([o.Text("Load More"),o.Attr().Class("btn loadMore")])),(f$=(ga=function(gb){return function(){var gd,ge,gI;gd=(ge=function(){var gg,gh,gk,gl,gm,gn,gp,gq;gg=gb["HtmlProvider@32"];((gh=gb.Body,function(gi){return function(gj){return gg.SetAttribute(gh,gi,gj);};})("disabled"))("disabled");gk=B("#fsharpSnippets");gl=(gm=gk.attr("data-snippets-count"),(gn=function(go){return go<<0;},gn(gm)));gp=j.Async("Website:12",[gl]);gq=function(gr){var gs,gt,gu,gA,gB,gE,gF,gG;gs=(gt=(gu=$.Tupled(function(gv){var gw,gx,gy;gw=gv[0];gx=gv[1];gy=gv[2];return J.makeSnippetLi(gw,gx,gy);}),function(gz){return q.map(gu,gz);}),gt(gr));gA=(gB=function(gC){return f8.AppendI(gC);},function(gD){return q.iter(gB,gD);});gA(gs);gE=gr.length;J.incrementSnippetsCount(gE);gF=gb["HtmlProvider@32"];(gG=gb.Body,function(gH){return gF.RemoveAttribute(gG,gH);})("disabled");return l.Return(null);};return l.Bind(gp,gq);},l.Delay(ge));gI=function(gJ){var gK;gK={$:0};return l.Start(gJ);};return gI(gd);};},function(gL){return F.Events().OnClick(ga,gL);}),(f$(f_),f_)));gM=n.add(o.Div(p.ofArray([o.Id("fsharpSnippets"),(gN=G.Attr(),(gO="data-"+"snippets-count",gN.NewAttr(gO,"0")))])),p.ofArray([f8]));gP=(gQ=function(){var gS,gT,g_;gS=(gT=function(){var gV,gW;gV=j.Async("Website:11",[]);gW=function(gX){var gY,gZ,g0,g6,g7;gY=(gZ=(g0=$.Tupled(function(g1){var g2,g3,g4;g2=g1[0];g3=g1[1];g4=g1[2];return J.makeSnippetLi(g2,g3,g4);}),function(g5){return q.map(g0,g5);}),gZ(gX));g6=(g7=function(g8){return f8.AppendI(g8);},function(g9){return q.iter(g7,g9);});g6(gY);J.incrementSnippetsCount(20);return l.Return(null);};return l.Bind(gV,gW);},l.Delay(gT));g_=function(g$){var ha;ha={$:0};return l.Start(g$);};return g_(gS);},function(hb){return n.OnAfterRender(gQ,hb);});gP(gM);return gM;}}},Tweets:{Client:{checkNewTweets:function(){var hc,hd,hP;hc=(hd=function(){var hf,hg,hh,hi;hf=B("#fsharpTweets");hg=hf.attr("data-tweet-id");hh=j.Async("Website:10",[hg]);hi=function(hj){var hk,hl,hm,hn,hv,hw,hx,hz,hA,hJ,hK,hN,hO;if(hj.$==1){hk=hj.$0;hl=(hm=hk[0],(hn=$.Tupled(function(ho){var hp,hq,hr,hs,ht,hu;hp=ho[0];hq=ho[1];hr=ho[2];hs=ho[3];ht=ho[4];hu=ho[5];return hq;}),hn(hm)));hv=(hw=(hx=function(hy){return hy.slice(0,hy.length).reverse();},hx(hk)),(hz=(hA=$.Tupled(function(hB){var hC,hD,hE,hF,hG,hH;hC=hB[0];hD=hB[1];hE=hB[2];hF=hB[3];hG=hB[4];hH=hB[5];return L.makeTweetLi(hC,hD,hE,hF,hG,hH);}),function(hI){return q.map(hA,hI);}),hz(hw)));hJ=(hK=function(hL){return D.prependElement("#tweetsList",hL);},function(hM){return q.iter(hK,hM);});hJ(hv);hN=hk.length;L.incrementTweetsCount(hN);L.setTweetId(hl);L.toggleActionsVisibility();hO=hN===1?"1 new tweet":$$.String(hN)+" new tweets";D.displayInfoAlert(hO);return l.Return(null);}else{return l.Return(null);}};return l.Bind(hh,hi);},l.Delay(hd));hP=function(hQ){var hR;hR={$:0};return l.Start(hQ);};return hP(hc);},handleTweetActions:function(){var hS;hS=B(".tweet-action-link");return hS.mousedown(function(hT){var hU,hV,hW;hT.preventDefault();hU=this.getAttribute("href");hV=u.showModalDialog(hU);hW=function(hX){hX;};return hW(hV);});},incrementTweetsCount:function(hY){return D.incrementDataCount("#fsharpTweets","data-tweets-count",hY);},makeTweetLi:function(hZ,h0,h1,h2,h3,h4){var h5,h6,h7,h8,h9,h_,h$,ia,ib,ic,id,ie,_if;h5="https://twitter.com/"+hZ;h6="https://twitter.com/intent/tweet?in_reply_to="+h0;h7="https://twitter.com/intent/retweet?tweet_id="+h0;h8="https://twitter.com/intent/retweet?tweet_id="+h0;h9=o.P($.New(E,{$:0}));h9.set_Html(h3);return n.add(o.LI(p.ofArray([o.Attr().Class("tweet")])),p.ofArray([n.add(n.add(o.A(p.ofArray([o.HRef(h5),o.Attr().Class("twitterProfileLink"),(h_=o.Attr(),h_.NewAttr("target","_blank"))])),p.ofArray([o.Img(p.ofArray([o.Src(h1),o.Alt(h2),o.Attr().Class("avatar"),o.Height("48"),o.Width("48")])),(h$=p.ofArray([o.Text(h2)]),(ia=o.Tags(),ia.NewTag("strong",h$)))])),p.ofArray([o.Text(" @"+hZ)])),o.Br($.New(E,{$:0})),(ib=p.ofArray([o.Text(h4)]),(ic=o.Tags(),ic.NewTag("small",ib))),h9,n.add(o.Div(p.ofArray([o.Attr().Class("pull-right")])),p.ofArray([n.add(o.UL(p.ofArray([o.Attr().Class("tweetActions")])),p.ofArray([n.add(o.LI(p.ofArray([o.Attr().Class("tweetAction")])),p.ofArray([n.add(o.A(p.ofArray([o.HRef(h6),(id=o.Attr(),id.NewAttr("target","_blank")),o.Attr().Class("tweet-action-link")])),p.ofArray([o.Text("Reply")]))])),n.add(o.LI(p.ofArray([o.Attr().Class("tweetAction")])),p.ofArray([n.add(o.A(p.ofArray([o.HRef(h7),(ie=o.Attr(),ie.NewAttr("target","_blank")),o.Attr().Class("tweet-action-link")])),p.ofArray([o.Text("Retweet")]))])),n.add(o.LI(p.ofArray([o.Attr().Class("tweetAction")])),p.ofArray([n.add(o.A(p.ofArray([o.HRef(h8),(_if=o.Attr(),_if.NewAttr("target","_blank")),o.Attr().Class("tweet-action-link")])),p.ofArray([o.Text("Favorite")]))]))]))]))]));},setTweetId:function(ig){return D.setAttributeValue("#fsharpTweets","data-tweet-id",ig);},toggleActionsVisibility:function(){var ih;ih=B(".tweet");ih.mouseenter(function(){return B(".tweetActions",this).css("visibility","visible");});return ih.mouseleave(function(){return B(".tweetActions",this).css("visibility","hidden");});},tweetsDiv:function(){var ik,il,im,_in,io,i3,i4,i5,i6,i7,i8,i9;ik=o.UL(p.ofArray([o.Id("tweetsList")]));il=(im=o.Button(p.ofArray([o.Text("Load More"),o.Attr().Class("btn loadMore")])),(_in=(io=function(ip){return function(){var ir,is,iZ;ir=(is=function(){var iu,iv,iy,iz,iA,iB,iD,iE;iu=ip["HtmlProvider@32"];((iv=ip.Body,function(iw){return function(ix){return iu.SetAttribute(iv,iw,ix);};})("disabled"))("disabled");iy=B("#fsharpTweets");iz=(iA=iy.attr("data-tweets-count"),(iB=function(iC){return iC<<0;},iB(iA)));iD=j.Async("Website:9",[iz]);iE=function(iF){var iG,iH,iI,iR,iS,iV,iW,iX;iG=(iH=(iI=$.Tupled(function(iJ){var iK,iL,iM,iN,iO,iP;iK=iJ[0];iL=iJ[1];iM=iJ[2];iN=iJ[3];iO=iJ[4];iP=iJ[5];return L.makeTweetLi(iK,iL,iM,iN,iO,iP);}),function(iQ){return q.map(iI,iQ);}),iH(iF));iR=(iS=function(iT){return ik.AppendI(iT);},function(iU){return q.iter(iS,iU);});iR(iG);iV=iF.length;L.incrementTweetsCount(iV);L.toggleActionsVisibility();L.handleTweetActions();iW=ip["HtmlProvider@32"];(iX=ip.Body,function(iY){return iW.RemoveAttribute(iX,iY);})("disabled");return l.Return(null);};return l.Bind(iD,iE);},l.Delay(is));iZ=function(i0){var i1;i1={$:0};return l.Start(i0);};return iZ(ir);};},function(i2){return F.Events().OnClick(io,i2);}),(_in(im),im)));i3=n.add(o.Div(p.ofArray([o.Id("fsharpTweets"),(i4=G.Attr(),(i5="data-"+"tweets-count",i4.NewAttr(i5,"0"))),(i6=G.Attr(),(i7="data-"+"tweet-id",i6.NewAttr(i7,"")))])),p.ofArray([ik,il]));i8=(i9=function(){var i$,ja,jM;i$=(ja=function(){var jc,jd;jc=j.Async("Website:8",[]);jd=function(je){var jf,jg,jh,jp,jq,jr,jA,jB,jE,jF,jI,jK;jf=(jg=je[0],(jh=$.Tupled(function(ji){var jj,jk,jl,jm,jn,jo;jj=ji[0];jk=ji[1];jl=ji[2];jm=ji[3];jn=ji[4];jo=ji[5];return jk;}),jh(jg)));jp=(jq=(jr=$.Tupled(function(js){var jt,ju,jv,jw,jx,jy;jt=js[0];ju=js[1];jv=js[2];jw=js[3];jx=js[4];jy=js[5];return L.makeTweetLi(jt,ju,jv,jw,jx,jy);}),function(jz){return q.map(jr,jz);}),jq(je));jA=(jB=function(jC){return ik.AppendI(jC);},function(jD){return q.iter(jB,jD);});jA(jp);L.incrementTweetsCount(20);L.setTweetId(jf);jE=il["HtmlProvider@32"];((jF=il.Body,function(jG){return function(jH){return jE.SetCss(jF,jG,jH);};})("visibility"))("visible");L.toggleActionsVisibility();L.handleTweetActions();jI=H(function(){return L.checkNewTweets();},300000);jK=function(jL){jL;};jK(jI);return l.Return(null);};return l.Bind(jc,jd);},l.Delay(ja));jM=function(jN){var jO;jO={$:0};return l.Start(jN);};return jM(i$);},function(jP){return n.OnAfterRender(i9,jP);});i8(i3);return i3;}},FsharpTweetsViewer:$.Class({get_Body:function(){return L.tweetsDiv();}})},Utilities:{Client:{displayInfoAlert:function(jQ){B("#alertText").text(jQ);B("#alertDiv").show(600);return B("#alertDiv").fadeOut(7000);},incrementDataCount:function(jR,jS,jT){var jU,jV,jW,jX,jY,j0;jU=B(jR);jV=(jW=(jX=jU.attr(jS),(jY=function(jZ){return(jZ<<0)+jT;},jY(jX))),(j0=function(j1){return $$.String(j1);},j0(jW)));return jU.attr(jS,jV);},prependElement:function(j2,j3){return B(j2).prepend(j3.Body);},setAttributeValue:function(j4,j5,j6){return B(j4).attr(j5,j6);}}},Videos:{Client:{PagerViewer:$.Class({get_Body:function(){return N.pager();}}),pager:function(){var j7,j8,j9;j7=n.add(o.UL(p.ofArray([o.Attr().Class("pager")])),p.ofArray([n.add(o.LI(p.ofArray([o.Id("previous"),o.Attr().Class("previous")])),p.ofArray([n.add(o.A(p.ofArray([o.Id("prevLink"),o.HRef("")])),p.ofArray([o.Text("Prev")]))])),n.add(o.LI(p.ofArray([o.Id("next"),o.Attr().Class("next")])),p.ofArray([n.add(o.A(p.ofArray([o.Id("nextLink"),o.HRef("")])),p.ofArray([o.Text("Next")]))]))]));j8=(j9=function(){var j$,ka,kb,kc,ke,kf,kg,ki,kj,kk;j$=B("#pager");ka=(kb=j$.attr("data-previous"),(kc=function(kd){return kd<<0;},kc(kb)));ke=(kf=j$.attr("data-next"),(kg=function(kh){return kh<<0;},kg(kf)));ki=(kj=j$.attr("data-pages-count"),(kk=function(kl){return kl<<0;},kk(kj)));if(ka===0){B("#previous").addClass("disabled");}else{B("#prevLink").attr("href","/videos/"+$$.String(ka));}if(ke===ki){return B("#next").addClass("disabled");}else{return B("#nextLink").attr("href","/videos/"+$$.String(ke));}},function(km){return n.OnAfterRender(j9,km);});j8(j7);return j7;}}},VideosAdmin:{Client:{Control:$.Class({get_Body:function(){return P.main();}}),main:function(){var kn,ko,kp,kr,ks,kt,kv,kw,kx,kz,kA,kB,kD,kE,kF,kH,kI,kJ,kK,kQ,kS;kn=(ko=f.Input(""),(kp=function(kq){return g.WithTextLabel("Title",kq);},kp(ko)));kr=(ks=f.Input(""),(kt=function(ku){return g.WithTextLabel("URL",ku);},kt(ks)));kv=(kw=f.Input(""),(kx=function(ky){return g.WithTextLabel("Thumbnail",ky);},kx(kw)));kz=(kA=f.Input(""),(kB=function(kC){return g.WithTextLabel("Website",kC);},kB(kA)));kD=(kE=f.Input(""),(kF=function(kG){return g.WithTextLabel("Date",kG);},kF(kE)));kH=(kI=(kJ=h.$(h.$(h.$(h.$(h.$((kK=function(kL){return function(kM){return function(kN){return function(kO){return function(kP){return[kL,kM,kN,kO,kP];};};};};},i.Return(kK)),kn),kr),kv),kz),kD),(kQ=function(kR){return g.WithSubmitAndResetButtons(kR);},kQ(kJ))),(kS=function(kT){return g.WithFormContainer(kT);},kS(kI)));return i.Run($.Tupled(function(kU){var kV,kW,kX,kY,kZ,k0,k1,k6;kV=kU[0];kW=kU[1];kX=kU[2];kY=kU[3];kZ=kU[4];k0=(k1=function(){var k3,k4;k3=j.Async("Website:1",[kV,kW,kX,kY,kZ]);k4=function(k5){if(k5){k("New video inserted successfully.");return l.Return(null);}else{k("The query failed.");return l.Return(null);}};return l.Bind(k3,k4);},l.Delay(k1));k6=function(k7){var k8;k8={$:0};return l.Start(k7);};return k6(k0);}),kH);}}}}});$.OnInit(function(){a=$.Safe($$.Website);b=$.Safe(a.BooksAdmin);c=$.Safe(b.Client);d=$.Safe($$.IntelliFactory.WebSharper);e=$.Safe(d.Formlet);f=$.Safe(e.Controls);g=$.Safe(e.Enhance);h=$.Safe(e.Data);i=$.Safe(e.Formlet);j=$.Safe(d.Remoting);k=$.Safe($$.alert);l=$.Safe(d.Concurrency);m=$.Safe(d.Html);n=$.Safe(m.Operators);o=$.Safe(m.Default);p=$.Safe(d.List);q=$.Safe(d.Arrays);r=$.Safe(a.Forkme);s=$.Safe(a.Login);t=$.Safe(s.Client);u=$.Safe($$.window);v=$.Safe(a.News);w=$.Safe(v.Client);x=$.Safe(a.NewsAdmin);y=$.Safe(x.Client);z=$.Safe(a.Questions);A=$.Safe(z.Client);B=$.Safe($$.jQuery);C=$.Safe(a.Utilities);D=$.Safe(C.Client);E=$.Safe(p.T);F=$.Safe(m.EventsPervasives);G=$.Safe(o.HTML5);H=$.Safe($$.setInterval);I=$.Safe(a.Snippets);J=$.Safe(I.Client);K=$.Safe(a.Tweets);L=$.Safe(K.Client);M=$.Safe(a.Videos);N=$.Safe(M.Client);O=$.Safe(a.VideosAdmin);return P=$.Safe(O.Client);});$.OnLoad(function(){c.booksTable();c.addFormlet();});}());
