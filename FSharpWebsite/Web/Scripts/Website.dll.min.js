(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O;$.Define($$,{Website:{AddThis:{Control:$.Class({get_Body:function(){return b.main();}}),main:function(){var P,Q,R;P=(Q=f.Tags(),(R=$.New(h,{$:0}),Q.NewTag("section",R)));P.set_Html("<div class=\"addthis_toolbox addthis_default_style \">\r\n               <a class=\"addthis_button_facebook_like\" fb:like:layout=\"button_count\"></a>\r\n               <a class=\"addthis_button_tweet\"></a>\r\n               <a class=\"addthis_button_pinterest_pinit\"></a>\r\n               <a class=\"addthis_counter addthis_pill_style\"></a>\r\n               </div>\r\n               <script type=\"text/javascript\" src=\"http://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50af450141ce9366\"></script>");return P;}},BooksAdmin:{Client:{Control:$.Class({get_Body:function(){return j.main();}}),addFormlet:$.Field(function(){var S,T,U,W,X,Y,_0,_1,_2,_3,_4,_6,_8,_,ba,bb,bd,be,bf,bh,bi,bj,bl,bm,bn,bp,bq,br,bt,bu,bv,bw,bF,bH;S=(T=l.Input(""),(U=function(V){return m.WithTextLabel("URL",V);},U(T)));W=(X=l.Input(""),(Y=function(Z){return m.WithTextLabel("Title",Z);},Y(X)));_0=(_1=(_2=(_3=l.Input(""),(_4=function(_5){return m.WithTextLabel("Author",_5);},_4(_3))),(_6=function(_7){return m.Many(_7);},_6(_2))),(_8=function(_9){return m.WithFormContainer(_9);},_8(_1)));_=(ba=l.Input(""),(bb=function(bc){return m.WithTextLabel("Publisher",bc);},bb(ba)));bd=(be=l.Input(""),(bf=function(bg){return m.WithTextLabel("ISBN",bg);},bf(be)));bh=(bi=l.Input(""),(bj=function(bk){return m.WithTextLabel("Pages",bk);},bj(bi)));bl=(bm=l.Input(""),(bn=function(bo){return m.WithTextLabel("Release Date",bo);},bn(bm)));bp=(bq=l.Input(""),(br=function(bs){return m.WithTextLabel("Cover URL",bs);},br(bq)));bt=(bu=(bv=n.$(n.$(n.$(n.$(n.$(n.$(n.$(n.$((bw=function(bx){return function(by){return function(bz){return function(bA){return function(bB){return function(bC){return function(bD){return function(bE){return[bx,by,bz,bA,bB,bC,bD,bE];};};};};};};};},o.Return(bw)),S),W),_0),_),bd),bh),bl),bp),(bF=function(bG){return m.WithSubmitAndResetButtons(bG);},bF(bv))),(bH=function(bI){return m.WithFormContainer(bI);},bH(bu)));return o.Run($.Tupled(function(bI){var bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bX;bJ=bI[0];bK=bI[1];bL=bI[2];bM=bI[3];bN=bI[4];bO=bI[5];bP=bI[6];bQ=bI[7];bR=(bS=function(){var bU,bV;bU=p.Async("Website:3",[bJ,bK,bL,bM,bN,bO,bP,bQ]);bV=function(bW){if(bW){q("New book inserted successfully.");return r.Return(null);}else{q("The query failed.");return r.Return(null);}};return r.Bind(bU,bV);},r.Delay(bS));bX=function(bY){var bZ;bZ={$:0};return r.Start(bY);};return bX(bR);}),bt);}),booksTable:$.Field(function(){var b0,b1,b2;b0=s.add(e.Table(g.ofArray([e.Attr().Class("table table-striped")])),g.ofArray([e.TR(g.ofArray([e.TH(g.ofArray([e.Text("Title")])),e.TH(g.ofArray([e.Text("Publisher")]))]))]));b1=(b2=function(b3){var b4,b5,cj;b4=(b5=function(){var b7,b8;b7=p.Async("Website:2",[]);b8=function(b9){var b_,b$,ca,cf,cg;b_=(b$=(ca=$.Tupled(function(cb){var cc,cd;cc=cb[0];cd=cb[1];return j.tr(cc,cd);}),function(ce){return t.map(ca,ce);}),b$(b9));cf=(cg=function(ch){return b3.AppendI(ch);},function(ci){return t.iter(cg,ci);});cf(b_);return r.Return(null);};return r.Bind(b7,b8);},r.Delay(b5));cj=function(ck){var cl;cl={$:0};return r.Start(ck);};return cj(b4);},function(cm){return s.OnAfterRender(b2,cm);});b1(b0);return b0;}),main:function(){return s.add(e.Div(g.ofArray([e.Attr().Class("row")])),g.ofArray([s.add(e.Div(g.ofArray([e.Attr().Class("span6")])),g.ofArray([e.H2(g.ofArray([e.Text("Add new book")])),e.Div(g.ofArray([j.addFormlet()]))])),s.add(e.Div(g.ofArray([e.Attr().Class("span6")])),g.ofArray([e.H2(g.ofArray([e.Text("Books in database")])),j.booksTable()]))]));},tr:function(cn,co){return e.TR(g.ofArray([e.TD(g.ofArray([e.Text(cn)])),e.TD(g.ofArray([e.Text(co)]))]));}}},Forkme:{Viewer:$.Class({get_Body:function(){return u.ribbon();}}),ribbon:function(){return s.add(e.A(g.ofArray([e.HRef("https://github.com/TahaHachana/FSharp-Hub")])),g.ofArray([e.Img(g.ofArray([e.Src("https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"),e.Alt("Fork me on GitHub"),e.Id("forkme")]))]));}},Login:{Client:{Control:$.Class({get_Body:function(){return w.loginForm(this.redirectUrl);}}),loginForm:function(cp){var cq,cr,cs,cu,cv,cw,cy,cz,cA,cB,cE,cG;cq=(cr=l.Input(""),(cs=function(ct){return m.WithTextLabel("Username",ct);},cs(cr)));cu=(cv=l.Password(""),(cw=function(cx){return m.WithTextLabel("Password",cx);},cw(cv)));cy=(cz=(cA=n.$(n.$((cB=function(cC){return function(cD){return{Name:cC,Password:cD};};},o.Return(cB)),cq),cu),(cE=function(cF){return m.WithSubmitButton(cF);},cE(cA))),(cG=function(cH){return m.WithFormContainer(cH);},cG(cz)));return o.Run(function(cI){var cJ,cK,cP;cJ=(cK=function(){var cM,cN;cM=p.Async("Website:12",[cI]);cN=function(cO){if(cO){x.location.href=cp;return r.Return(null);}else{q("Login failed");return r.Return(null);}};return r.Bind(cM,cN);},r.Delay(cK));cP=function(cQ){var cR;cR={$:0};return r.Start(cQ);};return cP(cJ);},cy);}}},NewsAdmin:{Client:{Control:$.Class({get_Body:function(){return z.main();}}),main:function(){var cS,cT,cU,cW,cX,cY,c0,c1,c2,c4,c5,c6,c8,c9,c_,c$,de,dg;cS=(cT=l.Input(""),(cU=function(cV){return m.WithTextLabel("Title",cV);},cU(cT)));cW=(cX=l.TextArea(""),(cY=function(cZ){return m.WithTextLabel("Summary",cZ);},cY(cX)));c0=(c1=l.Input(""),(c2=function(c3){return m.WithTextLabel("URL",c3);},c2(c1)));c4=(c5=l.Input(""),(c6=function(c7){return m.WithTextLabel("Date",c7);},c6(c5)));c8=(c9=(c_=n.$(n.$(n.$(n.$((c$=function(da){return function(db){return function(dc){return function(dd){return[da,db,dc,dd];};};};},o.Return(c$)),cS),cW),c0),c4),(de=function(df){return m.WithSubmitAndResetButtons(df);},de(c_))),(dg=function(dh){return m.WithFormContainer(dh);},dg(c9)));return o.Run($.Tupled(function(di){var dj,dk,dl,dm,dn,_do,dt;dj=di[0];dk=di[1];dl=di[2];dm=di[3];dn=(_do=function(){var dq,dr;dq=p.Async("Website:0",[dj,dk,dl,dm]);dr=function(ds){if(ds){q("News item inserted successfully.");return r.Return(null);}else{q("The query failed.");return r.Return(null);}};return r.Bind(dq,dr);},r.Delay(_do));dt=function(du){var dv;dv={$:0};return r.Start(du);};return dt(dn);}),c8);}}},Questions:{Client:{Control:$.Class({get_Body:function(){return B.questionsDiv();}}),checkNewQuestions:function(){var dw,dx,dZ;dw=(dx=function(){var dz,dA,dB,dC;dz=C("#fsharpQuestions");dA=dz.attr("data-question-id");dB=p.Async("Website:6",[dA]);dC=function(dD){var dE,dF,dG,dH,dI,dK,dL,dT,dU,dX,dY;if(dD.$==1){dE=dD.$0[1];dF=dD.$0[0];dG=(dH=(dI=function(dJ){return dJ.slice(0,dJ.length).reverse();},dI(dE)),(dK=(dL=$.Tupled(function(dM){var dN,dO,dP,dQ,dR;dN=dM[0];dO=dM[1];dP=dM[2];dQ=dM[3];dR=dM[4];return B.makeQuestionLi(dN,dO,dP,dQ,dR);}),function(dS){return t.map(dL,dS);}),dK(dH)));dT=(dU=function(dV){return E.prependElement("#questionsList",dV);},function(dW){return t.iter(dU,dW);});dT(dG);dX=dE.length;B.incrementQuestionsCount(dX);B.setQuestionId(dF);dY=dX===1?"1 new question":$$.String(dX)+" new questions";E.displayInfoAlert(dY);return r.Return(null);}else{return r.Return(null);}};return r.Bind(dB,dC);},r.Delay(dx));dZ=function(d0){var d1;d1={$:0};return r.Start(d0);};return dZ(dw);},incrementQuestionsCount:function(d2){return E.incrementDataCount("#fsharpQuestions","data-questions-count",d2);},makeQuestionLi:function(d3,d4,d5,d6,d7){var d8,d9,d_,d$,ea;return s.add(e.LI(g.ofArray([e.Attr().Class("question")])),g.ofArray([s.add(e.A(g.ofArray([e.HRef(d3)])),g.ofArray([(d8=g.ofArray([e.Text(d4)]),(d9=e.Tags(),d9.NewTag("strong",d8)))])),e.Br($.New(h,{$:0})),(d_=g.ofArray([(d$=d5+", "+d6,e.Text(d$))]),(ea=e.Tags(),ea.NewTag("small",d_))),e.P(g.ofArray([e.Text(d7)]))]));},questionsDiv:function(){var eb,ec,ed,ee,ef,eT,eU,eV,eW,eX,eY,eZ;eb=e.UL(g.ofArray([e.Id("questionsList")]));ec=(ed=e.Button(g.ofArray([e.Text("Load More"),e.Attr().Class("btn loadMore")])),(ee=(ef=function(eg){return function(){var ei,ej,eP;ei=(ej=function(){var el,em,ep,eq,er,es,eu,ev;el=eg["HtmlProvider@32"];((em=eg.Body,function(en){return function(eo){return el.SetAttribute(em,en,eo);};})("disabled"))("disabled");ep=C("#fsharpQuestions");eq=(er=ep.attr("data-questions-count"),(es=function(et){return et<<0;},es(er)));eu=p.Async("Website:5",[eq]);ev=function(ew){var ex,ey,ez,eH,eI,eL,eM,eN;ex=(ey=(ez=$.Tupled(function(eA){var eB,eC,eD,eE,eF;eB=eA[0];eC=eA[1];eD=eA[2];eE=eA[3];eF=eA[4];return B.makeQuestionLi(eB,eC,eD,eE,eF);}),function(eG){return t.map(ez,eG);}),ey(ew));eH=(eI=function(eJ){return eb.AppendI(eJ);},function(eK){return t.iter(eI,eK);});eH(ex);eL=ew.length;B.incrementQuestionsCount(eL);eM=eg["HtmlProvider@32"];(eN=eg.Body,function(eO){return eM.RemoveAttribute(eN,eO);})("disabled");return r.Return(null);};return r.Bind(eu,ev);},r.Delay(ej));eP=function(eQ){var eR;eR={$:0};return r.Start(eQ);};return eP(ei);};},function(eS){return F.Events().OnClick(ef,eS);}),(ee(ed),ed)));eT=s.add(e.Div(g.ofArray([e.Id("fsharpQuestions"),(eU=f.Attr(),(eV="data-"+"questions-count",eU.NewAttr(eV,"0"))),(eW=f.Attr(),(eX="data-"+"question-id",eW.NewAttr(eX,"")))])),g.ofArray([eb,ec]));eY=(eZ=function(){var e1,e2,ft;e1=(e2=function(){var e4,e5;e4=p.Async("Website:4",[]);e5=$.Tupled(function(e6){var e7,e8,e9,e_,e$,fh,fi,fl,fm,fp,fr;e7=e6[0];e8=e6[1];e9=(e_=(e$=$.Tupled(function(fa){var fb,fc,fd,fe,ff;fb=fa[0];fc=fa[1];fd=fa[2];fe=fa[3];ff=fa[4];return B.makeQuestionLi(fb,fc,fd,fe,ff);}),function(fg){return t.map(e$,fg);}),e_(e8));fh=(fi=function(fj){return eb.AppendI(fj);},function(fk){return t.iter(fi,fk);});fh(e9);B.incrementQuestionsCount(20);B.setQuestionId(e7);fl=ec["HtmlProvider@32"];((fm=ec.Body,function(fn){return function(fo){return fl.SetCss(fm,fn,fo);};})("visibility"))("visible");fp=G(function(){return B.checkNewQuestions();},420000);fr=function(fs){fs;};fr(fp);return r.Return(null);});return r.Bind(e4,e5);},r.Delay(e2));ft=function(fu){var fv;fv={$:0};return r.Start(fu);};return ft(e1);},function(fw){return s.OnAfterRender(eZ,fw);});eY(eT);return eT;},setQuestionId:function(fx){return E.setAttributeValue("#fsharpQuestions","data-question-id",fx);}}},Snippets:{Client:{Control:$.Class({get_Body:function(){return I.snippetsDiv();}}),incrementSnippetsCount:function(fy){return E.incrementDataCount("#fsharpSnippets","data-snippets-count",fy);},makeSnippetLi:function(fz,fA,fB){var fC,fD;return s.add(e.LI(g.ofArray([e.Attr().Class("snippet")])),g.ofArray([s.add(e.A(g.ofArray([e.HRef(fz)])),g.ofArray([(fC=g.ofArray([e.Text(fA)]),(fD=e.Tags(),fD.NewTag("strong",fC)))])),e.P(g.ofArray([e.Text(fB)]))]));},snippetsDiv:function(){var fE,fF,fG,fH,fI,gi,gj,gk,gl,gm;fE=e.UL(g.ofArray([e.Id("snippetsList")]));fF=(fG=e.Button(g.ofArray([e.Text("Load More"),e.Attr().Class("btn loadMore")])),(fH=(fI=function(fJ){return function(){var fL,fM,ge;fL=(fM=function(){var fO,fP,fS,fT,fU,fV,fX,fY;fO=fJ["HtmlProvider@32"];((fP=fJ.Body,function(fQ){return function(fR){return fO.SetAttribute(fP,fQ,fR);};})("disabled"))("disabled");fS=C("#fsharpSnippets");fT=(fU=fS.attr("data-snippets-count"),(fV=function(fW){return fW<<0;},fV(fU)));fX=p.Async("Website:11",[fT]);fY=function(fZ){var f0,f1,f2,f8,f9,ga,gb,gc;f0=(f1=(f2=$.Tupled(function(f3){var f4,f5,f6;f4=f3[0];f5=f3[1];f6=f3[2];return I.makeSnippetLi(f4,f5,f6);}),function(f7){return t.map(f2,f7);}),f1(fZ));f8=(f9=function(f_){return fE.AppendI(f_);},function(f$){return t.iter(f9,f$);});f8(f0);ga=fZ.length;I.incrementSnippetsCount(ga);gb=fJ["HtmlProvider@32"];(gc=fJ.Body,function(gd){return gb.RemoveAttribute(gc,gd);})("disabled");return r.Return(null);};return r.Bind(fX,fY);},r.Delay(fM));ge=function(gf){var gg;gg={$:0};return r.Start(gf);};return ge(fL);};},function(gh){return F.Events().OnClick(fI,gh);}),(fH(fG),fG)));gi=s.add(e.Div(g.ofArray([e.Id("fsharpSnippets"),(gj=f.Attr(),(gk="data-"+"snippets-count",gj.NewAttr(gk,"0")))])),g.ofArray([fE]));gl=(gm=function(){var go,gp,gG;go=(gp=function(){var gr,gs;gr=p.Async("Website:10",[]);gs=function(gt){var gu,gv,gw,gC,gD;gu=(gv=(gw=$.Tupled(function(gx){var gy,gz,gA;gy=gx[0];gz=gx[1];gA=gx[2];return I.makeSnippetLi(gy,gz,gA);}),function(gB){return t.map(gw,gB);}),gv(gt));gC=(gD=function(gE){return fE.AppendI(gE);},function(gF){return t.iter(gD,gF);});gC(gu);I.incrementSnippetsCount(20);return r.Return(null);};return r.Bind(gr,gs);},r.Delay(gp));gG=function(gH){var gI;gI={$:0};return r.Start(gH);};return gG(go);},function(gJ){return s.OnAfterRender(gm,gJ);});gl(gi);return gi;}}},Tweets:{Client:{Control:$.Class({get_Body:function(){return K.tweetsDiv();}}),checkNewTweets:function(){var gK,gL,hl;gK=(gL=function(){var gN,gO,gP,gQ;gN=C("#fsharpTweets");gO=gN.attr("data-tweet-id");gP=p.Async("Website:9",[gO]);gQ=function(gR){var gS,gT,gU,gV,g3,g4,g5,g7,g8,hf,hg,hj,hk;if(gR.$==1){gS=gR.$0;gT=(gU=gS[0],(gV=$.Tupled(function(gW){var gX,gY,gZ,g0,g1,g2;gX=gW[0];gY=gW[1];gZ=gW[2];g0=gW[3];g1=gW[4];g2=gW[5];return gY;}),gV(gU)));g3=(g4=(g5=function(g6){return g6.slice(0,g6.length).reverse();},g5(gS)),(g7=(g8=$.Tupled(function(g9){var g_,g$,ha,hb,hc,hd;g_=g9[0];g$=g9[1];ha=g9[2];hb=g9[3];hc=g9[4];hd=g9[5];return K.makeTweetLi(g_,g$,ha,hb,hc,hd);}),function(he){return t.map(g8,he);}),g7(g4)));hf=(hg=function(hh){return E.prependElement("#tweetsList",hh);},function(hi){return t.iter(hg,hi);});hf(g3);hj=gS.length;K.incrementTweetsCount(hj);K.setTweetId(gT);K.toggleActionsVisibility();hk=hj===1?"1 new tweet":$$.String(hj)+" new tweets";E.displayInfoAlert(hk);return r.Return(null);}else{return r.Return(null);}};return r.Bind(gP,gQ);},r.Delay(gL));hl=function(hm){var hn;hn={$:0};return r.Start(hm);};return hl(gK);},handleTweetActions:function(){var ho;ho=C(".tweet-action-link");return ho.mousedown(function(hp){var hq,hr,hs;hp.preventDefault();hq=this.getAttribute("href");hr=x.showModalDialog(hq);hs=function(ht){ht;};return hs(hr);});},incrementTweetsCount:function(hu){return E.incrementDataCount("#fsharpTweets","data-tweets-count",hu);},makeTweetLi:function(hv,hw,hx,hy,hz,hA){var hB,hC,hD,hE,hF,hG,hH,hI,hJ,hK,hL;hB="https://twitter.com/"+hv;hC="https://twitter.com/intent/tweet?in_reply_to="+hw;hD="https://twitter.com/intent/retweet?tweet_id="+hw;hE="https://twitter.com/intent/retweet?tweet_id="+hw;hF=e.P($.New(h,{$:0}));hF.set_Html(hz);return s.add(e.LI(g.ofArray([e.Attr().Class("tweet"),(hG=e.Attr(),hG.NewAttr("style","clear: both;"))])),g.ofArray([e.Div(g.ofArray([s.add(s.add(e.A(g.ofArray([e.HRef(hB),e.Attr().Class("twitterProfileLink")])),g.ofArray([e.Img(g.ofArray([e.Src(hx),e.Alt(hy),e.Attr().Class("avatar"),e.Height("48"),e.Width("48")])),(hH=g.ofArray([e.Text(hy)]),(hI=e.Tags(),hI.NewTag("strong",hH)))])),g.ofArray([e.Text(" @"+hv)])),e.Br($.New(h,{$:0})),(hJ=g.ofArray([e.Text(hA)]),(hK=e.Tags(),hK.NewTag("small",hJ))),hF,s.add(e.UL(g.ofArray([e.Attr().Class("tweetActions"),(hL=e.Attr(),hL.NewAttr("style","visibility: hidden;"))])),g.ofArray([s.add(e.LI(g.ofArray([e.Attr().Class("tweetAction")])),g.ofArray([s.add(e.A(g.ofArray([e.HRef(hC),e.Attr().Class("tweet-action-link")])),g.ofArray([e.Text("Reply")]))])),s.add(e.LI(g.ofArray([e.Attr().Class("tweetAction")])),g.ofArray([s.add(e.A(g.ofArray([e.HRef(hD),e.Attr().Class("tweet-action-link")])),g.ofArray([e.Text("Retweet")]))])),e.LI(g.ofArray([s.add(e.A(g.ofArray([e.HRef(hE),e.Attr().Class("tweet-action-link")])),g.ofArray([e.Text("Favorite")]))]))]))]))]));},setTweetId:function(hM){return E.setAttributeValue("#fsharpTweets","data-tweet-id",hM);},toggleActionsVisibility:function(){var hN;hN=C(".tweet");hN.mouseenter(function(){return C(".tweetActions",this).css("visibility","visible");});return hN.mouseleave(function(){return C(".tweetActions",this).css("visibility","hidden");});},tweetsDiv:function(){var hQ,hR,hS,hT,hU,ix,iy,iz,iA,iB,iC,iD;hQ=e.UL(g.ofArray([e.Id("tweetsList")]));hR=(hS=e.Button(g.ofArray([e.Text("Load More"),e.Attr().Class("btn loadMore")])),(hT=(hU=function(hV){return function(){var hX,hY,it;hX=(hY=function(){var h0,h1,h4,h5,h6,h7,h9,h_;h0=hV["HtmlProvider@32"];((h1=hV.Body,function(h2){return function(h3){return h0.SetAttribute(h1,h2,h3);};})("disabled"))("disabled");h4=C("#fsharpTweets");h5=(h6=h4.attr("data-tweets-count"),(h7=function(h8){return h8<<0;},h7(h6)));h9=p.Async("Website:8",[h5]);h_=function(h$){var ia,ib,ic,il,im,ip,iq,ir;ia=(ib=(ic=$.Tupled(function(id){var ie,_if,ig,ih,ii,ij;ie=id[0];_if=id[1];ig=id[2];ih=id[3];ii=id[4];ij=id[5];return K.makeTweetLi(ie,_if,ig,ih,ii,ij);}),function(ik){return t.map(ic,ik);}),ib(h$));il=(im=function(_in){return hQ.AppendI(_in);},function(io){return t.iter(im,io);});il(ia);ip=h$.length;K.incrementTweetsCount(ip);K.toggleActionsVisibility();K.handleTweetActions();iq=hV["HtmlProvider@32"];(ir=hV.Body,function(is){return iq.RemoveAttribute(ir,is);})("disabled");return r.Return(null);};return r.Bind(h9,h_);},r.Delay(hY));it=function(iu){var iv;iv={$:0};return r.Start(iu);};return it(hX);};},function(iw){return F.Events().OnClick(hU,iw);}),(hT(hS),hS)));ix=s.add(e.Div(g.ofArray([e.Id("fsharpTweets"),(iy=f.Attr(),(iz="data-"+"tweets-count",iy.NewAttr(iz,"0"))),(iA=f.Attr(),(iB="data-"+"tweet-id",iA.NewAttr(iB,"")))])),g.ofArray([hQ,hR]));iC=(iD=function(){var iF,iG,jg;iF=(iG=function(){var iI,iJ;iI=p.Async("Website:7",[]);iJ=function(iK){var iL,iM,iN,iV,iW,iX,i6,i7,i_,i$,jc,je;iL=(iM=iK[0],(iN=$.Tupled(function(iO){var iP,iQ,iR,iS,iT,iU;iP=iO[0];iQ=iO[1];iR=iO[2];iS=iO[3];iT=iO[4];iU=iO[5];return iQ;}),iN(iM)));iV=(iW=(iX=$.Tupled(function(iY){var iZ,i0,i1,i2,i3,i4;iZ=iY[0];i0=iY[1];i1=iY[2];i2=iY[3];i3=iY[4];i4=iY[5];return K.makeTweetLi(iZ,i0,i1,i2,i3,i4);}),function(i5){return t.map(iX,i5);}),iW(iK));i6=(i7=function(i8){return hQ.AppendI(i8);},function(i9){return t.iter(i7,i9);});i6(iV);K.incrementTweetsCount(20);K.setTweetId(iL);i_=hR["HtmlProvider@32"];((i$=hR.Body,function(ja){return function(jb){return i_.SetCss(i$,ja,jb);};})("visibility"))("visible");K.toggleActionsVisibility();K.handleTweetActions();jc=G(function(){return K.checkNewTweets();},300000);je=function(jf){jf;};je(jc);return r.Return(null);};return r.Bind(iI,iJ);},r.Delay(iG));jg=function(jh){var ji;ji={$:0};return r.Start(jh);};return jg(iF);},function(jj){return s.OnAfterRender(iD,jj);});iC(ix);return ix;}}},Utilities:{Client:{displayInfoAlert:function(jk){C("#alertText").text(jk);C("#alertDiv").show(600);return C("#alertDiv").fadeOut(7000);},incrementDataCount:function(jl,jm,jn){var jo,jp,jq,jr,js,ju;jo=C(jl);jp=(jq=(jr=jo.attr(jm),(js=function(jt){return(jt<<0)+jn;},js(jr))),(ju=function(jv){return $$.String(jv);},ju(jq)));return jo.attr(jm,jp);},prependElement:function(jw,jx){return C(jw).prepend(jx.Body);},setAttributeValue:function(jy,jz,jA){return C(jy).attr(jz,jA);}}},Videos:{Client:{PagerViewer:$.Class({get_Body:function(){return M.pager();}}),pager:function(){var jB,jC,jD;jB=s.add(e.UL(g.ofArray([e.Attr().Class("pager")])),g.ofArray([s.add(e.LI(g.ofArray([e.Id("previous"),e.Attr().Class("previous")])),g.ofArray([s.add(e.A(g.ofArray([e.Id("prevLink"),e.HRef("")])),g.ofArray([e.Text("Prev")]))])),s.add(e.LI(g.ofArray([e.Id("next"),e.Attr().Class("next")])),g.ofArray([s.add(e.A(g.ofArray([e.Id("nextLink"),e.HRef("")])),g.ofArray([e.Text("Next")]))]))]));jC=(jD=function(){var jF,jG,jH,jI,jK,jL,jM,jO,jP,jQ;jF=C("#pager");jG=(jH=jF.attr("data-previous"),(jI=function(jJ){return jJ<<0;},jI(jH)));jK=(jL=jF.attr("data-next"),(jM=function(jN){return jN<<0;},jM(jL)));jO=(jP=jF.attr("data-pages-count"),(jQ=function(jR){return jR<<0;},jQ(jP)));if(jG===0){C("#previous").addClass("disabled");}else{C("#prevLink").attr("href","/videos/"+$$.String(jG));}if(jK===jO){return C("#next").addClass("disabled");}else{return C("#nextLink").attr("href","/videos/"+$$.String(jK));}},function(jS){return s.OnAfterRender(jD,jS);});jC(jB);return jB;}}},VideosAdmin:{Client:{Control:$.Class({get_Body:function(){return O.main();}}),main:function(){var jT,jU,jV,jX,jY,jZ,j1,j2,j3,j5,j6,j7,j9,j_,j$,kb,kc,kd,ke,kk,km;jT=(jU=l.Input(""),(jV=function(jW){return m.WithTextLabel("Title",jW);},jV(jU)));jX=(jY=l.Input(""),(jZ=function(j0){return m.WithTextLabel("URL",j0);},jZ(jY)));j1=(j2=l.Input(""),(j3=function(j4){return m.WithTextLabel("Thumbnail",j4);},j3(j2)));j5=(j6=l.Input(""),(j7=function(j8){return m.WithTextLabel("Website",j8);},j7(j6)));j9=(j_=l.Input(""),(j$=function(ka){return m.WithTextLabel("Date",ka);},j$(j_)));kb=(kc=(kd=n.$(n.$(n.$(n.$(n.$((ke=function(kf){return function(kg){return function(kh){return function(ki){return function(kj){return[kf,kg,kh,ki,kj];};};};};},o.Return(ke)),jT),jX),j1),j5),j9),(kk=function(kl){return m.WithSubmitAndResetButtons(kl);},kk(kd))),(km=function(kn){return m.WithFormContainer(kn);},km(kc)));return o.Run($.Tupled(function(ko){var kp,kq,kr,ks,kt,ku,kv,kA;kp=ko[0];kq=ko[1];kr=ko[2];ks=ko[3];kt=ko[4];ku=(kv=function(){var kx,ky;kx=p.Async("Website:1",[kp,kq,kr,ks,kt]);ky=function(kz){if(kz){q("New video inserted successfully.");return r.Return(null);}else{q("The query failed.");return r.Return(null);}};return r.Bind(kx,ky);},r.Delay(kv));kA=function(kB){var kC;kC={$:0};return r.Start(kB);};return kA(ku);}),kb);}}}}});$.OnInit(function(){a=$.Safe($$.Website);b=$.Safe(a.AddThis);c=$.Safe($$.IntelliFactory.WebSharper);d=$.Safe(c.Html);e=$.Safe(d.Default);f=$.Safe(e.HTML5);g=$.Safe(c.List);h=$.Safe(g.T);i=$.Safe(a.BooksAdmin);j=$.Safe(i.Client);k=$.Safe(c.Formlet);l=$.Safe(k.Controls);m=$.Safe(k.Enhance);n=$.Safe(k.Data);o=$.Safe(k.Formlet);p=$.Safe(c.Remoting);q=$.Safe($$.alert);r=$.Safe(c.Concurrency);s=$.Safe(d.Operators);t=$.Safe(c.Arrays);u=$.Safe(a.Forkme);v=$.Safe(a.Login);w=$.Safe(v.Client);x=$.Safe($$.window);y=$.Safe(a.NewsAdmin);z=$.Safe(y.Client);A=$.Safe(a.Questions);B=$.Safe(A.Client);C=$.Safe($$.jQuery);D=$.Safe(a.Utilities);E=$.Safe(D.Client);F=$.Safe(d.EventsPervasives);G=$.Safe($$.setInterval);H=$.Safe(a.Snippets);I=$.Safe(H.Client);J=$.Safe(a.Tweets);K=$.Safe(J.Client);L=$.Safe(a.Videos);M=$.Safe(L.Client);N=$.Safe(a.VideosAdmin);return O=$.Safe(N.Client);});$.OnLoad(function(){j.booksTable();j.addFormlet();});}());
