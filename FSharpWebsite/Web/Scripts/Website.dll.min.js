(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P;$.Define($$,{Website:{AddThis:{Control:$.Class({get_Body:function(){return b.main();}}),main:function(){var Q,R,S;Q=(R=f.Tags(),(S=$.New(h,{$:0}),R.NewTag("section",S)));Q.set_Html("<div class=\"addthis_toolbox addthis_default_style \">\r\n               <a class=\"addthis_button_facebook_like\" fb:like:layout=\"button_count\"></a>\r\n               <a class=\"addthis_button_tweet\"></a>\r\n               <a class=\"addthis_button_pinterest_pinit\"></a>\r\n               <a class=\"addthis_counter addthis_pill_style\"></a>\r\n               </div>\r\n               <script type=\"text/javascript\" src=\"http://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50af450141ce9366\"></script>");return Q;}},BooksAdmin:{Client:{Control:$.Class({get_Body:function(){return j.main();}}),addFormlet:$.Field(function(){var T,U,V,X,Y,Z,_1,_2,_3,_4,_5,_7,_9,ba,bb,bc,be,bf,bg,bi,bj,bk,bm,bn,bo,bq,br,bs,bu,bv,bw,bx,bG,bI;T=(U=l.Input(""),(V=function(W){return m.WithTextLabel("URL",W);},V(U)));X=(Y=l.Input(""),(Z=function(_0){return m.WithTextLabel("Title",_0);},Z(Y)));_1=(_2=(_3=(_4=l.Input(""),(_5=function(_6){return m.WithTextLabel("Author",_6);},_5(_4))),(_7=function(_8){return m.Many(_8);},_7(_3))),(_9=function(_){return m.WithFormContainer(_);},_9(_2)));ba=(bb=l.Input(""),(bc=function(bd){return m.WithTextLabel("Publisher",bd);},bc(bb)));be=(bf=l.Input(""),(bg=function(bh){return m.WithTextLabel("ISBN",bh);},bg(bf)));bi=(bj=l.Input(""),(bk=function(bl){return m.WithTextLabel("Pages",bl);},bk(bj)));bm=(bn=l.Input(""),(bo=function(bp){return m.WithTextLabel("Release Date",bp);},bo(bn)));bq=(br=l.Input(""),(bs=function(bt){return m.WithTextLabel("Cover URL",bt);},bs(br)));bu=(bv=(bw=n.$(n.$(n.$(n.$(n.$(n.$(n.$(n.$((bx=function(by){return function(bz){return function(bA){return function(bB){return function(bC){return function(bD){return function(bE){return function(bF){return[by,bz,bA,bB,bC,bD,bE,bF];};};};};};};};},o.Return(bx)),T),X),_1),ba),be),bi),bm),bq),(bG=function(bH){return m.WithSubmitAndResetButtons(bH);},bG(bw))),(bI=function(bJ){return m.WithFormContainer(bJ);},bI(bv)));return o.Run($.Tupled(function(bJ){var bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bY;bK=bJ[0];bL=bJ[1];bM=bJ[2];bN=bJ[3];bO=bJ[4];bP=bJ[5];bQ=bJ[6];bR=bJ[7];bS=(bT=function(){var bV,bW;bV=p.Async("Website:3",[bK,bL,bM,bN,bO,bP,bQ,bR]);bW=function(bX){if(bX){q("New book inserted successfully.");return r.Return(null);}else{q("The query failed.");return r.Return(null);}};return r.Bind(bV,bW);},r.Delay(bT));bY=function(bZ){var b0;b0={$:0};return r.Start(bZ);};return bY(bS);}),bu);}),booksTable:$.Field(function(){var b1,b2,b3;b1=s.add(e.Table(g.ofArray([e.Attr().Class("table table-striped")])),g.ofArray([e.TR(g.ofArray([e.TH(g.ofArray([e.Text("Title")])),e.TH(g.ofArray([e.Text("Publisher")]))]))]));b2=(b3=function(b4){var b5,b6,ck;b5=(b6=function(){var b8,b9;b8=p.Async("Website:2",[]);b9=function(b_){var b$,ca,cb,cg,ch;b$=(ca=(cb=$.Tupled(function(cc){var cd,ce;cd=cc[0];ce=cc[1];return j.tr(cd,ce);}),function(cf){return t.map(cb,cf);}),ca(b_));cg=(ch=function(ci){return b4.AppendI(ci);},function(cj){return t.iter(ch,cj);});cg(b$);return r.Return(null);};return r.Bind(b8,b9);},r.Delay(b6));ck=function(cl){var cm;cm={$:0};return r.Start(cl);};return ck(b5);},function(cn){return s.OnAfterRender(b3,cn);});b2(b1);return b1;}),main:function(){return s.add(e.Div(g.ofArray([e.Attr().Class("row")])),g.ofArray([s.add(e.Div(g.ofArray([e.Attr().Class("span6")])),g.ofArray([e.H2(g.ofArray([e.Text("Add new book")])),e.Div(g.ofArray([j.addFormlet()]))])),s.add(e.Div(g.ofArray([e.Attr().Class("span6")])),g.ofArray([e.H2(g.ofArray([e.Text("Books in database")])),j.booksTable()]))]));},tr:function(co,cp){return e.TR(g.ofArray([e.TD(g.ofArray([e.Text(co)])),e.TD(g.ofArray([e.Text(cp)]))]));}}},Feedback:{Client:{btn:$.Field(function(){var cq,cr,cs,ct;cq=s.add(e.Button(g.ofArray([(cr=e.Attr(),cr.NewAttr("type","button")),e.Attr().Class("btn btn-primary"),e.Id("submit-btn")])),g.ofArray([e.Text("Submit")]));cs=(ct=function(){return function(){return v.sendFeedback();};},function(cw){return w.Events().OnClick(ct,cw);});cs(cq);return cq;}),form:$.Field(function(){var cx;return s.add(e.Form(g.ofArray([(cx=e.Attr(),cx.NewAttr("style","width: 300px"))])),g.ofArray([v.textarea(),e.Br($.New(h,{$:0})),v.btn()]));}),main:function(){var cy,cz,cA,cB,cC,cG;return s.add(e.Div(g.ofArray([(cy=e.Attr(),cy.NewAttr("style","position: fixed; bottom: 5px; right: 50px; background-color: white;"))])),g.ofArray([(cz=s.add(e.Div(g.ofArray([(cA=e.Attr(),cA.NewAttr("style","font-weight: bold; background-color: black; color: white; padding: 10px; cursor: pointer;"))])),g.ofArray([e.Text("Feedback")])),(cB=(cC=function(){return function(){x("#form").toggle();return x("#message").focus();};},function(cF){return w.Events().OnClick(cC,cF);}),(cB(cz),cz))),s.add(e.Div(g.ofArray([e.Id("form"),(cG=e.Attr(),cG.NewAttr("style","display: none; margin: 10px;"))])),g.ofArray([v.form()]))]));},sendFeedback:function(){var cH,cI,cU;cH=(cI=function(){var cK,cL,cM;x("#submit-btn").attr("disabled","disabled");cK=v.textarea().get_Value();cL=p.Async("Website:13",[cK]);cM=function(cN){var cO,cP,cQ,cS;cO=cN?(v.textarea().set_Value(""),(x("#form").toggle(),(q("Your feedback was sent."),r.Return(null)))):(q("Failed to send your feedback. Please try again."),r.Return(null));cP=(cQ=function(){x("#submit-btn").removeAttr("disabled");return r.Return(null);},r.Delay(cQ));cS=function(){return cP;};return r.Bind(cO,cS);};return r.Bind(cL,cM);},r.Delay(cI));cU=function(cV){var cW;cW={$:0};return r.Start(cV);};return cU(cH);},textarea:$.Field(function(){var cX,cY;return e.TextArea(g.ofArray([(cX=e.Attr(),cX.NewAttr("rows","5")),(cY=e.Attr(),cY.NewAttr("style","width: 280px")),e.Id("message")]));})},Control:$.Class({get_Body:function(){return v.main();}})},Forkme:{Viewer:$.Class({get_Body:function(){return y.ribbon();}}),ribbon:function(){return s.add(e.A(g.ofArray([e.HRef("https://github.com/TahaHachana/FSharp-Hub")])),g.ofArray([e.Img(g.ofArray([e.Src("https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"),e.Alt("Fork me on GitHub"),e.Id("forkme")]))]));}},Login:{Client:{Control:$.Class({get_Body:function(){return A.loginForm(this.redirectUrl);}}),loginForm:function(cZ){var c0,c1,c2,c4,c5,c6,c8,c9,c_,c$,dc,de;c0=(c1=l.Input(""),(c2=function(c3){return m.WithTextLabel("Username",c3);},c2(c1)));c4=(c5=l.Password(""),(c6=function(c7){return m.WithTextLabel("Password",c7);},c6(c5)));c8=(c9=(c_=n.$(n.$((c$=function(da){return function(db){return{Name:da,Password:db};};},o.Return(c$)),c0),c4),(dc=function(dd){return m.WithSubmitButton(dd);},dc(c_))),(de=function(df){return m.WithFormContainer(df);},de(c9)));return o.Run(function(dg){var dh,di,dn;dh=(di=function(){var dk,dl;dk=p.Async("Website:12",[dg]);dl=function(dm){if(dm){B.location.href=cZ;return r.Return(null);}else{q("Login failed");return r.Return(null);}};return r.Bind(dk,dl);},r.Delay(di));dn=function(_do){var dp;dp={$:0};return r.Start(_do);};return dn(dh);},c8);}}},NewsAdmin:{Client:{Control:$.Class({get_Body:function(){return D.main();}}),main:function(){var dq,dr,ds,du,dv,dw,dy,dz,dA,dC,dD,dE,dG,dH,dI,dJ,dO,dQ;dq=(dr=l.Input(""),(ds=function(dt){return m.WithTextLabel("Title",dt);},ds(dr)));du=(dv=l.TextArea(""),(dw=function(dx){return m.WithTextLabel("Summary",dx);},dw(dv)));dy=(dz=l.Input(""),(dA=function(dB){return m.WithTextLabel("URL",dB);},dA(dz)));dC=(dD=l.Input(""),(dE=function(dF){return m.WithTextLabel("Date",dF);},dE(dD)));dG=(dH=(dI=n.$(n.$(n.$(n.$((dJ=function(dK){return function(dL){return function(dM){return function(dN){return[dK,dL,dM,dN];};};};},o.Return(dJ)),dq),du),dy),dC),(dO=function(dP){return m.WithSubmitAndResetButtons(dP);},dO(dI))),(dQ=function(dR){return m.WithFormContainer(dR);},dQ(dH)));return o.Run($.Tupled(function(dS){var dT,dU,dV,dW,dX,dY,d3;dT=dS[0];dU=dS[1];dV=dS[2];dW=dS[3];dX=(dY=function(){var d0,d1;d0=p.Async("Website:0",[dT,dU,dV,dW]);d1=function(d2){if(d2){q("News item inserted successfully.");return r.Return(null);}else{q("The query failed.");return r.Return(null);}};return r.Bind(d0,d1);},r.Delay(dY));d3=function(d4){var d5;d5={$:0};return r.Start(d4);};return d3(dX);}),dG);}}},Questions:{Client:{Control:$.Class({get_Body:function(){return F.questionsDiv();}}),checkNewQuestions:function(){var d6,d7,ex;d6=(d7=function(){var d9,d_,d$,ea;d9=x("#fsharpQuestions");d_=d9.attr("data-question-id");d$=p.Async("Website:6",[d_]);ea=function(eb){var ec,ed,ee,ef,eg,ei,ej,er,es,ev,ew;if(eb.$==1){ec=eb.$0[1];ed=eb.$0[0];ee=(ef=(eg=function(eh){return eh.slice(0,eh.length).reverse();},eg(ec)),(ei=(ej=$.Tupled(function(ek){var el,em,en,eo,ep;el=ek[0];em=ek[1];en=ek[2];eo=ek[3];ep=ek[4];return F.makeQuestionLi(el,em,en,eo,ep);}),function(eq){return t.map(ej,eq);}),ei(ef)));er=(es=function(et){return H.prependElement("#questionsList",et);},function(eu){return t.iter(es,eu);});er(ee);ev=ec.length;F.incrementQuestionsCount(ev);F.setQuestionId(ed);ew=ev===1?"1 new question":$$.String(ev)+" new questions";H.displayInfoAlert(ew);return r.Return(null);}else{return r.Return(null);}};return r.Bind(d$,ea);},r.Delay(d7));ex=function(ey){var ez;ez={$:0};return r.Start(ey);};return ex(d6);},incrementQuestionsCount:function(eA){return H.incrementDataCount("#fsharpQuestions","data-questions-count",eA);},makeQuestionLi:function(eB,eC,eD,eE,eF){var eG,eH,eI,eJ,eK;return s.add(e.LI(g.ofArray([e.Attr().Class("question")])),g.ofArray([s.add(e.A(g.ofArray([e.HRef(eB)])),g.ofArray([(eG=g.ofArray([e.Text(eC)]),(eH=e.Tags(),eH.NewTag("strong",eG)))])),e.Br($.New(h,{$:0})),(eI=g.ofArray([(eJ=eD+", "+eE,e.Text(eJ))]),(eK=e.Tags(),eK.NewTag("small",eI))),e.P(g.ofArray([e.Text(eF)]))]));},questionsDiv:function(){var eL,eM,eN,eO,eP,fr,fs,ft,fu,fv,fw,fx;eL=e.UL(g.ofArray([e.Id("questionsList")]));eM=(eN=e.Button(g.ofArray([e.Text("Load More"),e.Attr().Class("btn loadMore")])),(eO=(eP=function(eQ){return function(){var eS,eT,fn;eS=(eT=function(){var eV,eW,eZ,e0,e1,e2,e4,e5;eV=eQ["HtmlProvider@32"];((eW=eQ.Body,function(eX){return function(eY){return eV.SetAttribute(eW,eX,eY);};})("disabled"))("disabled");eZ=x("#fsharpQuestions");e0=(e1=eZ.attr("data-questions-count"),(e2=function(e3){return e3<<0;},e2(e1)));e4=p.Async("Website:5",[e0]);e5=function(e6){var e7,e8,e9,ff,fg,fj,fk,fl;e7=(e8=(e9=$.Tupled(function(e_){var e$,fa,fb,fc,fd;e$=e_[0];fa=e_[1];fb=e_[2];fc=e_[3];fd=e_[4];return F.makeQuestionLi(e$,fa,fb,fc,fd);}),function(fe){return t.map(e9,fe);}),e8(e6));ff=(fg=function(fh){return eL.AppendI(fh);},function(fi){return t.iter(fg,fi);});ff(e7);fj=e6.length;F.incrementQuestionsCount(fj);fk=eQ["HtmlProvider@32"];(fl=eQ.Body,function(fm){return fk.RemoveAttribute(fl,fm);})("disabled");return r.Return(null);};return r.Bind(e4,e5);},r.Delay(eT));fn=function(fo){var fp;fp={$:0};return r.Start(fo);};return fn(eS);};},function(fq){return w.Events().OnClick(eP,fq);}),(eO(eN),eN)));fr=s.add(e.Div(g.ofArray([e.Id("fsharpQuestions"),(fs=f.Attr(),(ft="data-"+"questions-count",fs.NewAttr(ft,"0"))),(fu=f.Attr(),(fv="data-"+"question-id",fu.NewAttr(fv,"")))])),g.ofArray([eL,eM]));fw=(fx=function(){var fz,fA,fZ;fz=(fA=function(){var fC,fD;fC=p.Async("Website:4",[]);fD=$.Tupled(function(fE){var fF,fG,fH,fI,fJ,fR,fS,fV,fW;fF=fE[0];fG=fE[1];fH=(fI=(fJ=$.Tupled(function(fK){var fL,fM,fN,fO,fP;fL=fK[0];fM=fK[1];fN=fK[2];fO=fK[3];fP=fK[4];return F.makeQuestionLi(fL,fM,fN,fO,fP);}),function(fQ){return t.map(fJ,fQ);}),fI(fG));fR=(fS=function(fT){return eL.AppendI(fT);},function(fU){return t.iter(fS,fU);});fR(fH);F.incrementQuestionsCount(20);F.setQuestionId(fF);fV=eM["HtmlProvider@32"];((fW=eM.Body,function(fX){return function(fY){return fV.SetCss(fW,fX,fY);};})("visibility"))("visible");return r.Return(null);});return r.Bind(fC,fD);},r.Delay(fA));fZ=function(f0){var f1;f1={$:0};return r.Start(f0);};return fZ(fz);},function(f2){return s.OnAfterRender(fx,f2);});fw(fr);return fr;},setQuestionId:function(f3){return H.setAttributeValue("#fsharpQuestions","data-question-id",f3);}}},Snippets:{Client:{Control:$.Class({get_Body:function(){return J.snippetsDiv();}}),incrementSnippetsCount:function(f4){return H.incrementDataCount("#fsharpSnippets","data-snippets-count",f4);},makeSnippetLi:function(f5,f6,f7){var f8,f9;return s.add(e.LI(g.ofArray([e.Attr().Class("snippet")])),g.ofArray([s.add(e.A(g.ofArray([e.HRef(f5)])),g.ofArray([(f8=g.ofArray([e.Text(f6)]),(f9=e.Tags(),f9.NewTag("strong",f8)))])),e.P(g.ofArray([e.Text(f7)]))]));},snippetsDiv:function(){var f_,f$,ga,gb,gc,gO,gP,gQ,gR,gS;f_=e.UL(g.ofArray([e.Id("snippetsList")]));f$=(ga=e.Button(g.ofArray([e.Text("Load More"),e.Attr().Class("btn loadMore")])),(gb=(gc=function(gd){return function(){var gf,gg,gK;gf=(gg=function(){var gi,gj,gm,gn,go,gp,gr,gs;gi=gd["HtmlProvider@32"];((gj=gd.Body,function(gk){return function(gl){return gi.SetAttribute(gj,gk,gl);};})("disabled"))("disabled");gm=x("#fsharpSnippets");gn=(go=gm.attr("data-snippets-count"),(gp=function(gq){return gq<<0;},gp(go)));gr=p.Async("Website:11",[gn]);gs=function(gt){var gu,gv,gw,gC,gD,gG,gH,gI;gu=(gv=(gw=$.Tupled(function(gx){var gy,gz,gA;gy=gx[0];gz=gx[1];gA=gx[2];return J.makeSnippetLi(gy,gz,gA);}),function(gB){return t.map(gw,gB);}),gv(gt));gC=(gD=function(gE){return f_.AppendI(gE);},function(gF){return t.iter(gD,gF);});gC(gu);gG=gt.length;J.incrementSnippetsCount(gG);gH=gd["HtmlProvider@32"];(gI=gd.Body,function(gJ){return gH.RemoveAttribute(gI,gJ);})("disabled");return r.Return(null);};return r.Bind(gr,gs);},r.Delay(gg));gK=function(gL){var gM;gM={$:0};return r.Start(gL);};return gK(gf);};},function(gN){return w.Events().OnClick(gc,gN);}),(gb(ga),ga)));gO=s.add(e.Div(g.ofArray([e.Id("fsharpSnippets"),(gP=f.Attr(),(gQ="data-"+"snippets-count",gP.NewAttr(gQ,"0")))])),g.ofArray([f_,f$]));gR=(gS=function(){var gU,gV,he;gU=(gV=function(){var gX,gY;gX=p.Async("Website:10",[]);gY=function(gZ){var g0,g1,g2,g8,g9,ha,hb;g0=(g1=(g2=$.Tupled(function(g3){var g4,g5,g6;g4=g3[0];g5=g3[1];g6=g3[2];return J.makeSnippetLi(g4,g5,g6);}),function(g7){return t.map(g2,g7);}),g1(gZ));g8=(g9=function(g_){return f_.AppendI(g_);},function(g$){return t.iter(g9,g$);});g8(g0);J.incrementSnippetsCount(20);ha=f$["HtmlProvider@32"];((hb=f$.Body,function(hc){return function(hd){return ha.SetCss(hb,hc,hd);};})("visibility"))("visible");return r.Return(null);};return r.Bind(gX,gY);},r.Delay(gV));he=function(hf){var hg;hg={$:0};return r.Start(hf);};return he(gU);},function(hh){return s.OnAfterRender(gS,hh);});gR(gO);return gO;}}},Tweets:{Client:{Control:$.Class({get_Body:function(){return L.tweetsDiv();}}),checkNewTweets:function(){var hi,hj,hV;hi=(hj=function(){var hl,hm,hn,ho;hl=x("#fsharpTweets");hm=hl.attr("data-tweet-id");hn=p.Async("Website:9",[hm]);ho=function(hp){var hq,hr,hs,ht,hB,hC,hD,hF,hG,hP,hQ,hT,hU;if(hp.$==1){hq=hp.$0;hr=(hs=hq[0],(ht=$.Tupled(function(hu){var hv,hw,hx,hy,hz,hA;hv=hu[0];hw=hu[1];hx=hu[2];hy=hu[3];hz=hu[4];hA=hu[5];return hw;}),ht(hs)));hB=(hC=(hD=function(hE){return hE.slice(0,hE.length).reverse();},hD(hq)),(hF=(hG=$.Tupled(function(hH){var hI,hJ,hK,hL,hM,hN;hI=hH[0];hJ=hH[1];hK=hH[2];hL=hH[3];hM=hH[4];hN=hH[5];return L.makeTweetLi(hI,hJ,hK,hL,hM,hN);}),function(hO){return t.map(hG,hO);}),hF(hC)));hP=(hQ=function(hR){return H.prependElement("#tweetsList",hR);},function(hS){return t.iter(hQ,hS);});hP(hB);hT=hq.length;L.incrementTweetsCount(hT);L.setTweetId(hr);L.toggleActionsVisibility();hU=hT===1?"1 new tweet":$$.String(hT)+" new tweets";H.displayInfoAlert(hU);return r.Return(null);}else{return r.Return(null);}};return r.Bind(hn,ho);},r.Delay(hj));hV=function(hW){var hX;hX={$:0};return r.Start(hW);};return hV(hi);},handleTweetActions:function(){var hY;hY=x(".tweet-action-link");return hY.mousedown(function(hZ){var h0,h1,h2;hZ.preventDefault();h0=this.getAttribute("href");h1=B.showModalDialog(h0);h2=function(h3){h3;};return h2(h1);});},incrementTweetsCount:function(h4){return H.incrementDataCount("#fsharpTweets","data-tweets-count",h4);},makeTweetLi:function(h5,h6,h7,h8,h9,h_){var h$,ia,ib,ic,id,ie,_if,ig,ih,ii,ij,ik,il;h$="https://twitter.com/"+h5;ia="https://twitter.com/intent/tweet?in_reply_to="+h6;ib="https://twitter.com/intent/retweet?tweet_id="+h6;ic="https://twitter.com/intent/favorite?tweet_id="+h6;id=e.P($.New(h,{$:0}));id.set_Html(h9);return s.add(e.LI(g.ofArray([e.Attr().Class("tweet"),(ie=e.Attr(),ie.NewAttr("style","clear: both;"))])),g.ofArray([e.Div(g.ofArray([s.add(s.add(e.A(g.ofArray([e.HRef(h$),e.Attr().Class("twitterProfileLink")])),g.ofArray([e.Img(g.ofArray([e.Src(h7),e.Alt(h8),e.Attr().Class("avatar"),e.Height("48"),e.Width("48")])),(_if=g.ofArray([e.Text(h8)]),(ig=e.Tags(),ig.NewTag("strong",_if)))])),g.ofArray([e.Text(" @"+h5)])),e.Br($.New(h,{$:0})),(ih=g.ofArray([e.Text(h_)]),(ii=e.Tags(),ii.NewTag("small",ih))),id,s.add(e.Div(g.ofArray([e.Attr().Class("tweetActions"),(ij=e.Attr(),ij.NewAttr("style","visibility: hidden;"))])),g.ofArray([s.add(e.A(g.ofArray([e.HRef(ia),e.Attr().Class("tweet-action-link"),(ik=e.Attr(),ik.NewAttr("style","margin-right: 5px;"))])),g.ofArray([e.Text("Reply")])),s.add(e.A(g.ofArray([e.HRef(ib),e.Attr().Class("tweet-action-link"),(il=e.Attr(),il.NewAttr("style","margin-right: 5px;"))])),g.ofArray([e.Text("Retweet")])),s.add(e.A(g.ofArray([e.HRef(ic),e.Attr().Class("tweet-action-link")])),g.ofArray([e.Text("Favorite")]))]))]))]));},setTweetId:function(im){return H.setAttributeValue("#fsharpTweets","data-tweet-id",im);},toggleActionsVisibility:function(){var _in;_in=x(".tweet");_in.mouseenter(function(){return x(".tweetActions",this).css("visibility","visible");});return _in.mouseleave(function(){return x(".tweetActions",this).css("visibility","hidden");});},tweetsDiv:function(){var iq,ir,is,it,iu,i9,i_,i$,ja,jb,jc,jd;iq=e.UL(g.ofArray([e.Id("tweetsList")]));ir=(is=e.Button(g.ofArray([e.Text("Load More"),e.Attr().Class("btn loadMore")])),(it=(iu=function(iv){return function(){var ix,iy,i5;ix=(iy=function(){var iA,iB,iE,iF,iG,iH,iJ,iK;iA=iv["HtmlProvider@32"];((iB=iv.Body,function(iC){return function(iD){return iA.SetAttribute(iB,iC,iD);};})("disabled"))("disabled");iE=x("#fsharpTweets");iF=(iG=iE.attr("data-tweets-count"),(iH=function(iI){return iI<<0;},iH(iG)));iJ=p.Async("Website:8",[iF]);iK=function(iL){var iM,iN,iO,iX,iY,i1,i2,i3;iM=(iN=(iO=$.Tupled(function(iP){var iQ,iR,iS,iT,iU,iV;iQ=iP[0];iR=iP[1];iS=iP[2];iT=iP[3];iU=iP[4];iV=iP[5];return L.makeTweetLi(iQ,iR,iS,iT,iU,iV);}),function(iW){return t.map(iO,iW);}),iN(iL));iX=(iY=function(iZ){return iq.AppendI(iZ);},function(i0){return t.iter(iY,i0);});iX(iM);i1=iL.length;L.incrementTweetsCount(i1);L.toggleActionsVisibility();L.handleTweetActions();i2=iv["HtmlProvider@32"];(i3=iv.Body,function(i4){return i2.RemoveAttribute(i3,i4);})("disabled");return r.Return(null);};return r.Bind(iJ,iK);},r.Delay(iy));i5=function(i6){var i7;i7={$:0};return r.Start(i6);};return i5(ix);};},function(i8){return w.Events().OnClick(iu,i8);}),(it(is),is)));i9=s.add(e.Div(g.ofArray([e.Id("fsharpTweets"),(i_=f.Attr(),(i$="data-"+"tweets-count",i_.NewAttr(i$,"0"))),(ja=f.Attr(),(jb="data-"+"tweet-id",ja.NewAttr(jb,"")))])),g.ofArray([iq,ir]));jc=(jd=function(){var jf,jg,jO;jf=(jg=function(){var ji,jj;ji=p.Async("Website:7",[]);jj=function(jk){var jl,jm,jn,jv,jw,jx,jG,jH,jK,jL;jl=(jm=jk[0],(jn=$.Tupled(function(jo){var jp,jq,jr,js,jt,ju;jp=jo[0];jq=jo[1];jr=jo[2];js=jo[3];jt=jo[4];ju=jo[5];return jq;}),jn(jm)));jv=(jw=(jx=$.Tupled(function(jy){var jz,jA,jB,jC,jD,jE;jz=jy[0];jA=jy[1];jB=jy[2];jC=jy[3];jD=jy[4];jE=jy[5];return L.makeTweetLi(jz,jA,jB,jC,jD,jE);}),function(jF){return t.map(jx,jF);}),jw(jk));jG=(jH=function(jI){return iq.AppendI(jI);},function(jJ){return t.iter(jH,jJ);});jG(jv);L.incrementTweetsCount(20);L.setTweetId(jl);jK=ir["HtmlProvider@32"];((jL=ir.Body,function(jM){return function(jN){return jK.SetCss(jL,jM,jN);};})("visibility"))("visible");L.toggleActionsVisibility();L.handleTweetActions();return r.Return(null);};return r.Bind(ji,jj);},r.Delay(jg));jO=function(jP){var jQ;jQ={$:0};return r.Start(jP);};return jO(jf);},function(jR){return s.OnAfterRender(jd,jR);});jc(i9);return i9;}}},Utilities:{Client:{displayInfoAlert:function(jS){x("#alertText").text(jS);x("#alertDiv").show(600);return x("#alertDiv").fadeOut(7000);},incrementDataCount:function(jT,jU,jV){var jW,jX,jY,jZ,j0,j2;jW=x(jT);jX=(jY=(jZ=jW.attr(jU),(j0=function(j1){return(j1<<0)+jV;},j0(jZ))),(j2=function(j3){return $$.String(j3);},j2(jY)));return jW.attr(jU,jX);},prependElement:function(j4,j5){return x(j4).prepend(j5.Body);},setAttributeValue:function(j6,j7,j8){return x(j6).attr(j7,j8);}}},Videos:{Client:{PagerViewer:$.Class({get_Body:function(){return N.pager();}}),pager:function(){var j9,j_,j$;j9=s.add(e.UL(g.ofArray([e.Attr().Class("pager")])),g.ofArray([s.add(e.LI(g.ofArray([e.Id("previous"),e.Attr().Class("previous")])),g.ofArray([s.add(e.A(g.ofArray([e.Id("prevLink"),e.HRef("")])),g.ofArray([e.Text("Prev")]))])),s.add(e.LI(g.ofArray([e.Id("next"),e.Attr().Class("next")])),g.ofArray([s.add(e.A(g.ofArray([e.Id("nextLink"),e.HRef("")])),g.ofArray([e.Text("Next")]))]))]));j_=(j$=function(){var kb,kc,kd,ke,kg,kh,ki,kk,kl,km;kb=x("#pager");kc=(kd=kb.attr("data-previous"),(ke=function(kf){return kf<<0;},ke(kd)));kg=(kh=kb.attr("data-next"),(ki=function(kj){return kj<<0;},ki(kh)));kk=(kl=kb.attr("data-pages-count"),(km=function(kn){return kn<<0;},km(kl)));if(kc===0){x("#previous").addClass("disabled");}else{x("#prevLink").attr("href","/videos/"+$$.String(kc));}if(kg===kk){return x("#next").addClass("disabled");}else{return x("#nextLink").attr("href","/videos/"+$$.String(kg));}},function(ko){return s.OnAfterRender(j$,ko);});j_(j9);return j9;}}},VideosAdmin:{Client:{Control:$.Class({get_Body:function(){return P.main();}}),main:function(){var kp,kq,kr,kt,ku,kv,kx,ky,kz,kB,kC,kD,kF,kG,kH,kJ,kK,kL,kM,kS,kU;kp=(kq=l.Input(""),(kr=function(ks){return m.WithTextLabel("Title",ks);},kr(kq)));kt=(ku=l.Input(""),(kv=function(kw){return m.WithTextLabel("URL",kw);},kv(ku)));kx=(ky=l.Input(""),(kz=function(kA){return m.WithTextLabel("Thumbnail",kA);},kz(ky)));kB=(kC=l.Input(""),(kD=function(kE){return m.WithTextLabel("Website",kE);},kD(kC)));kF=(kG=l.Input(""),(kH=function(kI){return m.WithTextLabel("Date",kI);},kH(kG)));kJ=(kK=(kL=n.$(n.$(n.$(n.$(n.$((kM=function(kN){return function(kO){return function(kP){return function(kQ){return function(kR){return[kN,kO,kP,kQ,kR];};};};};},o.Return(kM)),kp),kt),kx),kB),kF),(kS=function(kT){return m.WithSubmitAndResetButtons(kT);},kS(kL))),(kU=function(kV){return m.WithFormContainer(kV);},kU(kK)));return o.Run($.Tupled(function(kW){var kX,kY,kZ,k0,k1,k2,k3,k8;kX=kW[0];kY=kW[1];kZ=kW[2];k0=kW[3];k1=kW[4];k2=(k3=function(){var k5,k6;k5=p.Async("Website:1",[kX,kY,kZ,k0,k1]);k6=function(k7){if(k7){q("New video inserted successfully.");return r.Return(null);}else{q("The query failed.");return r.Return(null);}};return r.Bind(k5,k6);},r.Delay(k3));k8=function(k9){var k_;k_={$:0};return r.Start(k9);};return k8(k2);}),kJ);}}}}});$.OnInit(function(){a=$.Safe($$.Website);b=$.Safe(a.AddThis);c=$.Safe($$.IntelliFactory.WebSharper);d=$.Safe(c.Html);e=$.Safe(d.Default);f=$.Safe(e.HTML5);g=$.Safe(c.List);h=$.Safe(g.T);i=$.Safe(a.BooksAdmin);j=$.Safe(i.Client);k=$.Safe(c.Formlet);l=$.Safe(k.Controls);m=$.Safe(k.Enhance);n=$.Safe(k.Data);o=$.Safe(k.Formlet);p=$.Safe(c.Remoting);q=$.Safe($$.alert);r=$.Safe(c.Concurrency);s=$.Safe(d.Operators);t=$.Safe(c.Arrays);u=$.Safe(a.Feedback);v=$.Safe(u.Client);w=$.Safe(d.EventsPervasives);x=$.Safe($$.jQuery);y=$.Safe(a.Forkme);z=$.Safe(a.Login);A=$.Safe(z.Client);B=$.Safe($$.window);C=$.Safe(a.NewsAdmin);D=$.Safe(C.Client);E=$.Safe(a.Questions);F=$.Safe(E.Client);G=$.Safe(a.Utilities);H=$.Safe(G.Client);I=$.Safe(a.Snippets);J=$.Safe(I.Client);K=$.Safe(a.Tweets);L=$.Safe(K.Client);M=$.Safe(a.Videos);N=$.Safe(M.Client);O=$.Safe(a.VideosAdmin);return P=$.Safe(O.Client);});$.OnLoad(function(){v.textarea();v.form();v.btn();j.booksTable();j.addFormlet();});}());
